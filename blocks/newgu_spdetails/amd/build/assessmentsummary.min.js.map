{"version":3,"file":"assessmentsummary.min.js","sources":["../src/assessmentsummary.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to initialise the Assessment Summary section\n *\n * @module     block_newgu_spdetails/assessmentsummary\n * @author     Greg Pedder <greg.pedder@glasgow.ac.uk>\n * @copyright  2023 University of Glasgow\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\"use strict\";\n\nimport * as Log from 'core/log';\nimport * as ajax from 'core/ajax';\nimport {Chart, DoughnutController} from 'core/chartjs';\nimport {exception as displayException} from 'core/notification';\nimport Templates from 'core/templates';\nimport sortTable from 'block_newgu_spdetails/sorting';\n\nconst Selectors = {\n    SUMMARY_BLOCK: '#assessmentSummaryContainer',\n    COURSECONTENTS_BLOCK: '#courseTab-container',\n    ASSESSMENTSDUE_BLOCK: '#assessmentsDue-container',\n    ASSESSMENTSDUE_CONTENTS: '#assessmentsdue_content'\n};\n\nconst viewAssessmentSummaryByChartType = function(event, legendItem, legend) {\n    Log.debug('viewAssessmentSummaryByChartType called');\n    // We don't want this firing from the main Dashboard page.\n    if (!document.querySelector('#student_dashboard')) {\n        const chartType = ((legendItem) ? legendItem.index : legend);\n\n        let containerBlock = document.querySelector(Selectors.COURSECONTENTS_BLOCK);\n        if (containerBlock) {\n            if (containerBlock.checkVisibility()) {\n                containerBlock.classList.add('hidden-container');\n            }\n        }\n\n        let assessmentsDueBlock = document.querySelector(Selectors.ASSESSMENTSDUE_BLOCK);\n        let assessmentsDueContents = document.querySelector(Selectors.ASSESSMENTSDUE_CONTENTS);\n\n        if (assessmentsDueBlock.children.length > 0) {\n            assessmentsDueContents.innerHTML = '';\n        }\n\n        assessmentsDueBlock.classList.remove('hidden-container');\n\n        assessmentsDueContents.insertAdjacentHTML(\"afterbegin\", \"<div class='loader d-flex justify-content-center'>\\n\" +\n            \"<div class='spinner-border' role='status'><span class='hidden'>Loading...</span></div></div>\");\n\n        ajax.call([{\n            methodname: 'block_newgu_spdetails_get_assessmentsummarybytype',\n            args: {\n                charttype: chartType\n            },\n        }])[0].done(function(response) {\n            document.querySelector('.loader').remove();\n            let assessmentdata = JSON.parse(response.result);\n            Templates.renderForPromise('block_newgu_spdetails/assessmentsdue', {data: assessmentdata})\n            .then(({html, js}) => {\n                Templates.appendNodeContents(assessmentsDueContents, html, js);\n                returnToAssessmentsHandler();\n                let sortColumns = document.querySelectorAll('#assessment_data_table .th-sortable');\n                sortingEventHandler(sortColumns);\n                return true;\n            }).catch((error) => displayException(error));\n        }).fail(function(response) {\n            if (response) {\n                document.querySelector('.loader').remove();\n                let errorContainer = document.createElement('div');\n                errorContainer.classList.add('alert', 'alert-danger');\n\n                if (response.hasOwnProperty('message')) {\n                    let errorMsg = document.createElement('p');\n\n                    errorMsg.innerHTML = response.message;\n                    errorContainer.appendChild(errorMsg);\n                    errorMsg.classList.add('errormessage');\n                }\n\n                if (response.hasOwnProperty('moreinfourl')) {\n                    let errorLinkContainer = document.createElement('p');\n                    let errorLink = document.createElement('a');\n\n                    errorLink.setAttribute('href', response.moreinfourl);\n                    errorLink.setAttribute('target', '_blank');\n                    errorLink.innerHTML = 'More information about this error';\n                    errorContainer.appendChild(errorLinkContainer);\n                    errorLinkContainer.appendChild(errorLink);\n                    errorLinkContainer.classList.add('errorcode');\n                }\n\n                assessmentsDueContents.prepend(errorContainer);\n            }\n        });\n    }\n};\n\n/**\n * Function to bind click handlers to row headers.\n * @param {*} rows\n */\nconst sortingEventHandler = (rows) => {\n    if (rows.length > 0) {\n        rows.forEach((element) => {\n            element.addEventListener('click', () => sortTable(element.cellIndex, element.getAttribute('data-sortby'),\n            'assessment_data_table'));\n        });\n    }\n};\n\n/**\n * @method returnToAssessmentsHandler\n */\nconst returnToAssessmentsHandler = () => {\n    if (document.querySelector('#assessments-due-return')) {\n        document.querySelector('#assessments-due-return').addEventListener('click', () => {\n            let containerBlock = document.querySelector(Selectors.COURSECONTENTS_BLOCK);\n            let assessmentsDueBlock = document.querySelector(Selectors.ASSESSMENTSDUE_BLOCK);\n            assessmentsDueBlock.classList.add('hidden-container');\n            containerBlock.classList.remove('hidden-container');\n        });\n\n        document.querySelector('#assessments-due-return').addEventListener('keyup', function(event) {\n            let element = document.activeElement;\n            if (event.keyCode === 13 && element.hasAttribute('tabindex')) {\n                event.preventDefault();\n                element.click();\n            }\n        });\n    }\n};\n\n/**\n * @method fetchAssessmentSummary\n */\nconst fetchAssessmentSummary = () => {\n    Chart.register(DoughnutController);\n    let tempPanel = document.querySelector(Selectors.SUMMARY_BLOCK);\n\n    tempPanel.insertAdjacentHTML(\"afterbegin\", \"<div class='loader d-flex justify-content-center'>\\n\" +\n        \"<div class='spinner-border' role='status'><span class='hidden'>Loading...</span></div></div>\");\n\n    ajax.call([{\n        methodname: 'block_newgu_spdetails_get_assessmentsummary',\n        args: {},\n    }])[0].done(function(response) {\n        document.querySelector('.loader').remove();\n        // With the 'block' now being a link in the top nav, users can still add this,\n        // either in the side drawer or to the main dashboard. Check and set the position\n        // of the legend accordingly.\n        let legendPosition = 'right';\n        if (document.querySelector('#block-region-side-pre')) {\n            if (document.querySelector('#block-region-side-pre').querySelector('.block_newgu_spdetails')) {\n                legendPosition = 'bottom';\n            }\n        }\n\n        // This is lame, but we have no other way (in Chart.js) but to target these elements when using the accessibility tool.\n        let tmpFontColour = '#000';\n        // Check for the contrast setting\n        if (document.querySelector('.hillhead40-night')) {\n            tmpFontColour = '#95B7E6';\n            document.querySelector('.alert.alert-info a').style.color='#95B7E6';\n        }\n        if (document.querySelector('.hillhead40-contrast-wb')) {\n            tmpFontColour = '#eee';\n            document.querySelector('.alert.alert-info a').style.color='#eee';\n        }\n        if (document.querySelector('.hillhead40-contrast-yb')) {\n            tmpFontColour = '#ee6';\n            document.querySelector('.alert.alert-info a').style.color='#ee6';\n        }\n        if (document.querySelector('.hillhead40-contrast-by')) {\n            document.querySelector('.alert.alert-info a').style.color='#000';\n        }\n        if (document.querySelector('.hillhead40-contrast-wg')) {\n            tmpFontColour = '#eee';\n            document.querySelector('.alert.alert-info a').style.color='#eee';\n        }\n        if (document.querySelector('.hillhead40-contrast-br')) {\n            document.querySelector('.alert.alert-info a').style.color='#000';\n        }\n        if (document.querySelector('.hillhead40-contrast-bb')) {\n            document.querySelector('.alert.alert-info a').style.color='#000';\n        }\n        if (document.querySelector('.hillhead40-contrast-bw')) {\n            document.querySelector('.alert.alert-info a').style.color='#000';\n        }\n        // Check for the font setting\n        let tmpFontFamily = \"'Hillhead', 'Ubuntu', 'Trebuchet MS', 'Arial', sans-serif\";\n        let tmpFontSize = 20;\n        if (document.querySelector('.hillhead40-font-modern')) {\n            tmpFontFamily = \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\";\n        }\n        if (document.querySelector('.hillhead40-font-classic')) {\n            tmpFontFamily = \"'Palatino', 'Times New Roman', serif\";\n        }\n        if (document.querySelector('.hillhead40-font-comic')) {\n            tmpFontFamily = \"'Hillhead Comic', 'Chalkboard', 'Comic Sans', 'Comic Sans MS', sans-serif\";\n        }\n        if (document.querySelector('.hillhead40-font-mono')) {\n            tmpFontFamily = \"'Hillhead Mono', 'Menlo', 'Courier New', monospace\";\n        }\n        if (document.querySelector('.hillhead40-font-dyslexic')) {\n            tmpFontFamily = \"'OpenDyslexic', 'Helvetica', 'Arial', sans-serif\";\n        }\n        // Check for the size setting\n        if (document.querySelector('.hillhead40-size-120')) {\n            tmpFontSize = '20%';\n        }\n        if (document.querySelector('.hillhead40-size-140')) {\n            tmpFontSize = '25%';\n        }\n        if (document.querySelector('.hillhead40-size-160')) {\n            tmpFontSize = '30%';\n        }\n        if (document.querySelector('.hillhead40-size-180')) {\n            tmpFontSize = '35%';\n        }\n        // Check for the bold setting\n        let tmpFontWeight = 'normal';\n        if (document.querySelector('.hillhead40-bold')) {\n            tmpFontWeight = 'bolder';\n        }\n        // Check for the spacing setting\n        let tmpLineHeight = '';\n        if (document.querySelector('.hillhead40-spacing')) {\n            tmpLineHeight = '2rem';\n        }\n\n        tempPanel.insertAdjacentHTML(\"afterbegin\", \"<canvas id='assessmentSummaryChart'\\n\" +\n            \" width='400' height='300' aria-label='Assessments overview. A chart displaying\" +\n            \" assessments to be submitted, overdue, submitted and graded.' role='img' tabindex='0'>\\n\" +\n            \"<p>The 'Assessments Overview' chart displays information relating to assessments that are\" +\n            \" to be submitted, are overdue, have been submitted, and those that have been graded. Links to\" +\n            \" further information about these assessments also form part of this chart.</p>\\n\" +\n            \"</canvas>\");\n\n        const data = [\n            {\n                labeltitle: `To be submitted`,\n                value: response[0].tobe_sub\n            },\n            {\n                labeltitle: `Overdue`,\n                value: response[0].overdue\n            },\n            {\n                labeltitle: `Submitted`,\n                value: response[0].sub_assess\n            },\n            {\n                labeltitle: `Graded`,\n                value: response[0].assess_marked\n            },\n        ];\n\n\n        const ctw = document.getElementById('assessmentSummaryChart');\n        const chart = new Chart(\n            ctw,\n            {\n                type: 'doughnut',\n                options: {\n                    responsive: true,\n                    onHover: (event, chartElement) => {\n                        if (!document.querySelector('#student_dashboard')) {\n                            event.native.target.style.cursor = chartElement[0] ? 'pointer' : 'default';\n                        }\n                    },\n                    plugins: {\n                        legend: {\n                            display: true,\n                            position: legendPosition,\n                            onClick: (event, legendItem, legend) => {\n                                if (!document.querySelector('#student_dashboard')) {\n                                    viewAssessmentSummaryByChartType(event, legendItem, legend);\n                                }\n                            },\n                            onHover: (event) => {\n                                if (!document.querySelector('#student_dashboard')) {\n                                    event.native.target.style.cursor = 'pointer';\n                                }\n                            },\n                            onLeave: (event) => {\n                                event.native.target.style.cursor = 'default';\n                            },\n                            labels: {\n                                usePointStyle: true,\n                                font: {\n                                    size: tmpFontSize,\n                                    family: tmpFontFamily,\n                                    weight: tmpFontWeight,\n                                    lineHeight: tmpLineHeight,\n                                },\n                                generateLabels: (chart) => {\n                                    const datasets = chart.data.datasets;\n                                    return datasets[0].data.map((data, i) => ({\n                                        text: `${chart.data.labels[i]} ${data}`,\n                                        borderRadius: 0,\n                                        datasetIndex: i,\n                                        fillStyle: datasets[0].backgroundColor[i],\n                                        fontColor: tmpFontColour,\n                                        hidden: false,\n                                        lineCap: '',\n                                        lineDash: [],\n                                        lineDashOffset: 0,\n                                        lineJoin: '',\n                                        lineWidth: 0,\n                                        strokeStyle: datasets[0].backgroundColor[i],\n                                        pointStyle: 'rectRounded',\n                                        rotation: 0,\n                                        index: i\n                                    }));\n                                }\n                            },\n                        }\n                    },\n                    radius: '100%',\n                    maintainAspectRatio: false\n                },\n                data: {\n                    labels: data.map(row => row.labeltitle),\n                    datasets: [{\n                        data: data.map(row => row.value),\n                        backgroundColor: [\n                            'rgba(255,153,0)',\n                            'rgba(255,0,0)',\n                            'rgba(0,153,0)',\n                            'rgba(129,187,255)'\n                        ],\n                        hoverOffset: 4\n                    }]\n                }\n            }\n        );\n\n        const canvas = document.getElementById('assessmentSummaryChart');\n        canvas.onclick = (evt) => {\n            const points = chart.getElementsAtEventForMode(evt, 'nearest', {intersect: true}, true);\n\n            if (points.length) {\n                const firstPoint = points[0];\n                viewAssessmentSummaryByChartType(evt, null, firstPoint.index);\n            }\n          };\n\n    }).fail(function(err) {\n        document.querySelector('.loader').remove();\n        tempPanel.insertAdjacentHTML(\"afterbegin\", \"<div class='d-flex justify-content-center'>\\n\" +\n            err.message + \"</div>\");\n        Log.debug(err);\n    });\n};\n\n/**\n * @constructor\n */\nexport const init = () => {\n    fetchAssessmentSummary();\n};"],"names":["Selectors","viewAssessmentSummaryByChartType","event","legendItem","legend","Log","debug","document","querySelector","chartType","index","containerBlock","checkVisibility","classList","add","assessmentsDueBlock","assessmentsDueContents","children","length","innerHTML","remove","insertAdjacentHTML","ajax","call","methodname","args","charttype","done","response","assessmentdata","JSON","parse","result","renderForPromise","data","then","_ref","html","js","appendNodeContents","returnToAssessmentsHandler","sortColumns","querySelectorAll","sortingEventHandler","catch","error","fail","errorContainer","createElement","hasOwnProperty","errorMsg","message","appendChild","errorLinkContainer","errorLink","setAttribute","moreinfourl","prepend","rows","forEach","element","addEventListener","cellIndex","getAttribute","activeElement","keyCode","hasAttribute","preventDefault","click","register","DoughnutController","tempPanel","legendPosition","tmpFontColour","style","color","tmpFontFamily","tmpFontSize","tmpFontWeight","tmpLineHeight","labeltitle","value","tobe_sub","overdue","sub_assess","assess_marked","ctw","getElementById","chart","Chart","type","options","responsive","onHover","chartElement","native","target","cursor","plugins","display","position","onClick","onLeave","labels","usePointStyle","font","size","family","weight","lineHeight","generateLabels","datasets","map","i","text","borderRadius","datasetIndex","fillStyle","backgroundColor","fontColor","hidden","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","strokeStyle","pointStyle","rotation","radius","maintainAspectRatio","row","hoverOffset","onclick","evt","points","getElementsAtEventForMode","intersect","firstPoint","err","fetchAssessmentSummary"],"mappings":"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"}