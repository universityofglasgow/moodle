define ("plagiarism_turnitin/modal_eula_launch",["jquery","core/ajax","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events"],function(a,b,c,d,e,f,g){var i=!1,j={HIDE_BUTTON:"[data-action=\"hide\"]",MODAL:"[data-region=\"modal\"]"},k=function(a){e.call(this,a)};k.TYPE="plagiarism_turnitin-modal_eula_launch";k.prototype=Object.create(e.prototype);k.prototype.constructor=k;k.prototype.registerEventListeners=function(){e.prototype.registerEventListeners.call(this);h();this.getModal().on(d.events.activate,j.HIDE_BUTTON,function(b,c){var d=a.Event(g.cancel);this.getRoot().trigger(d,this);if(!d.isDefaultPrevented()){this.hide();c.originalEvent.preventDefault()}}.bind(this))};function h(){a(window).on("message",function(b){var c="undefined"==typeof b.data?b.originalEvent.data:b.data;if("turnitin_eula_declined"===c||"turnitin_eula_accepted"===c){a.ajax({type:"POST",url:M.cfg.wwwroot+"/plagiarism/turnitin/ajax.php",dataType:"json",data:{action:"actionuseragreement",message:c,sesskey:M.cfg.sesskey},success:function success(){window.location.reload()},error:function error(){window.location.reload()}})}})}if(!i){f.register(k.TYPE,k,"plagiarism_turnitin/modal_eula_launch");i=!0}return k});
//# sourceMappingURL=modal_eula_launch.min.js.map
