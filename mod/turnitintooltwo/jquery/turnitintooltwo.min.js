!function($){$(window).on("load",function(){function enableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("enable")}function disableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("disable")}function getLoadingGif(){var i='<div class="loading_gif"></div>';$("#cboxOverlay").after(i);var e=$(window).scrollTop()+$(window).height()/2;$(".loading_gif").css("top",e+"px")}function hideLoadingGif(){$(".loading_gif").remove()}function getSubmissions(table,assignment_id,part_id,start,refresh_requested,total){$.ajax({dataType:"json",type:"POST",url:"ajax.php",async:!0,data:{action:"get_submissions",assignment:assignment_id,part:part_id,start:start,refresh_requested:refresh_requested[part_id],sesskey:M.cfg.sesskey,total:total},success:function(result){if(eval(result),start=result.end,result.aaData.length>0&&table.fnAddData(result.aaData),result.end<result.total)getSubmissions(table,assignment_id,part_id,start,refresh_requested,result.total);else{$("#"+part_id+"_processing").attr("style","visibility: hidden"),refresh_requested[part_id]=0;var allrefreshed=1;$.each(refresh_requested,function(i,e){1==e&&(allrefreshed=0)}),1==allrefreshed&&($(".refreshing_link").hide(),$(".refresh_link").show()),submitVisibility(),enableEditingText(part_id),result.nonsubmitters>0&&$(".nonsubmitters_link").attr("style","display: block")}},error:function(i,e){$("#"+part_id+"_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.tiisubmissionsgeterror)}})}function submitVisibility(){1==$(".upload_box").data("user-type")||1==$(".upload_box").data("eula")?$(".upload_box").show():$(".upload_box").hide()}function refreshRubricSelect(){var i=$("#id_rubric").length?"#id_rubric":"#id_plagiarism_rubric",e=$(i).val();$.ajax({dataType:"json",type:"POST",url:"../mod/turnitintooltwo/ajax.php",data:{action:"refresh_rubric_select",assignment:$('input[name="instance"]').val(),modulename:$('input[name="modulename"]').val(),course:$('input[name="course"]').val()},success:function(t){$($(i)).empty();var s=t;$.each(s,function(e,t){if($.isNumeric(e)||""===e)$($(i)).append($("<option>",{value:e,text:t}));else{var s=$("<optgroup>");s.attr("label",e),$.each(t,function(i,e){var t=$("<option></option>");t.val(i),t.text(e),s.append(t)}),$(i).append(s)}}),$(i+' option[value="'+e+'"]').attr("selected","selected")}})}function refreshUserMessages(){$(".messages_loading").show(),$(".messages_amount").html(""),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"refresh_user_messages",assignment:$("#assignment_id").html()},success:function(i){$(".messages_loading").hide(),$(".messages_amount").html(i)}})}function resetPeermarkSection(i){$("#tabs-"+i+" .toggle_peermarks").hide(),$("#tabs-"+i+" .peermark_count").html(""),$("#tabs-"+i+" .peermark-loading").show(),$("#tabs-"+i+" .peermark_assignments_container").hide()}function refreshPeermarkAssignments(part_id,refresh_requested){var user_role=$(".tii_peermark_manager_launch").length>0?"Instructor":"Learner";$("#tabs-"+part_id+" .peermark_assignments_container").length>0&&(resetPeermarkSection(part_id),$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"refresh_peermark_assignments",assignment:$("#assignment_id").html(),part:part_id,refresh_requested:refresh_requested,sesskey:M.cfg.sesskey},success:function(data){eval(data),$("#tabs-"+part_id+" .peermark_assignments_container").html(data.peermark_table),$("#tabs-"+part_id+" .peermark-loading").hide(),$("#tabs-"+part_id+" .peermark_count").html(data.no_of_peermarks),data.no_of_peermarks>0?$("#tabs-"+part_id+" .toggle_peermarks").show():$("#tabs-"+part_id+" .toggle_peermarks").hide(),(data.no_of_peermarks>0&&"Instructor"==user_role||data.peermarks_active&&"Learner"==user_role)&&$("#tabs-"+part_id+" .row_peermark_reviews").show(),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())&&data.no_of_peermarks>0?($(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())}}))}function initialiseUnanoymiseForm(scope,assignment_id,submission_id){var identifier="a.unanonymise";"row"==scope&&(identifier="#submission_"+submission_id),$(identifier).colorbox({inline:!0,width:"50%",top:"100px",height:"260px",opacity:"0.7",className:"tii_unanonymise_reveal_form",onComplete:function(){var idStr=$(this).attr("id").split("_");if(0==submission_id||void 0==submission_id)var submission_id=idStr[1];0==assignment_id&&(assignment_id=$("#assignment_id").html()),$("#submission_id").html(submission_id),$("#cboxLoadedContent .unanonymise_form").show(),$("#id_reveal").unbind("click"),$("#id_reveal").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"reveal_submission_name",assignment:assignment_id,submission_id:submission_id,reason:encodeURIComponent($("#id_anonymous_reveal_reason").val()),sesskey:M.cfg.sesskey},success:function(data){if(eval(data),"success"==data.status)$.colorbox.close(),$("#submission_"+submission_id).attr("href",M.cfg.wwwroot+"/user/view.php?id="+data.userid+"&course="+data.courseid),$("#submission_"+submission_id).html(data.name),$("#submission_"+submission_id).removeClass("unanonymise cboxElement");else{var current_msg=$("#unanonymise_desc").html;$("#unanonymise_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".unanonymise_form").hide()}})}function initialiseUploadBox(i,e,t,s){var a=".upload_box";"row"==i&&(a="#upload_"+e+"_"+t+"_"+s);var n="80%",o="80%";$(a).colorbox({onLoad:function(){getLoadingGif(),lightBoxCloseButton(),$(this).hide()},onClosed:function(){hideLoadingGif()},onCleanup:function(){hideLoadingGif();var i=$(this).attr("id").split("_");refreshInboxRow("upload",i[1],i[2],i[3]),$("#tii_close_bar").remove()},iframe:!0,width:n,height:o,opacity:"0.7",className:"upload",transition:"none"})}function initialiseZipDownloads(i){$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").unbind("click"),$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").click(function(){var i=$(this).attr("id").split("_");downloadZipFile(i[0]+"_"+i[1],i[2])}),$("#tabs-"+i+" .downloadpdf_box").colorbox({iframe:!0,width:"40%",height:"60%",opacity:"0.7",className:"downloadpdf_window",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),$(document).on("click","#tabs-"+i+" .gmpdfzip_box",function(e){return $(this).colorbox({open:!0,iframe:!0,width:"786px",height:"300px",opacity:"0.7",className:"gmpdfzip_window",transition:"none",href:function(){var e="";return $("#tabs-"+i+" .inbox_checkbox:checked").each(function(i){e+="&submission_id"+i+"="+$(this).val(),i++}),$(this).attr("href")+e},onLoad:function(){getLoadingGif()},onCleanup:function(){hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),!1})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="jQuery(\'#cboxClose\').click(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseDigitalReceipt(){$(".tii_digital_receipt").length>0&&$(".tii_digital_receipt").colorbox({iframe:!0,width:"832px",height:"482px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}})}function initialiseHiddenZipDownloads(i){$("#tabs-"+i+" .origchecked_zip_open").unbind("click"),$("#tabs-"+i+" .origchecked_zip_open").click(function(){var e=$(this).attr("id").split("_");return downloadZipFile(e[0]+"_"+e[1],i),!1})}function initialiseRefreshRow(i,e,t,s){var a=".refresh_row .fa-refresh";"row"==i&&(a="#refreshrow_"+e+"_"+t+"_"+s+" .fa-refresh"),$(a).unbind("click"),$(a).click(function(){$(this).hide(),$(this).siblings(".fa-spinner").css("display","inline-block").addClass("fa-lg");var i=$(this).parent().attr("id").split("_");refreshInboxRow(i[0],i[1],i[2],i[3])})}function initialiseDVLaunchers(i,e,t,s){var a="#"+t+" .download_original_open";"row"==i&&(a="#downloadoriginal_"+e+"_"+t+"_"+s),$(a).unbind("click"),$(a).click(function(){var i=$(this).attr("id").split("_");$(this).children(".score_colour").hasClass("score_colour_")||downloadOriginalFile(i[0],i[1],i[2],i[3])})}function downloadZipFile(i,e){var t=[];"origchecked_zip"!=i&&"gmpdf_zip"!=i||$("#tabs-"+e+" .inbox_checkbox:checked").each(function(i){t[i]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:i,assignment:$("#assignment_id").html(),part:e,submission_ids:t},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function downloadOriginalFile(i,e,t,s){$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"html",data:{action:i,submission:e,assignment:$("#assignment_id").html()},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function checkDVClosed(i){window.dvWindow.closed?$("#refresh_"+i).click():setTimeout(function(){checkDVClosed(i)},500)}function submitNothing(user_id,part_id){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-spin fa-spinner fa-lg"),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"submit_nothing",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){eval(data),$.cookie("submitnothingaccept",!0,{expires:365}),$("table#"+part_id+" .select_all_checkbox").attr("checked",!1)},error:function(i){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-pencil fa-lg"),$("#submitnothing_0_"+part_id+"_"+user_id).removeClass("disabled"),alert(i.responseText)},complete:function(){refreshInboxRow("submitnothing",0,part_id,user_id)}})}function refreshInboxRow(link,submission_id,part_id,user_id){$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"refresh_submission_row",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){$("table#"+part_id+" .select_all_checkbox").attr("checked",!1),eval(data);var i=0;0==submission_id?(link+="_0",submission_id=data.submission_id):link=null==data.submission_id&&0!=submission_id?link+"_"+submission_id:link+"_"+data.submission_id,0!=submission_id&&$("#export_links").removeClass("hidden_class"),oTable=$("table#"+part_id).dataTable();var tr=$("#"+link+"_"+part_id+"_"+user_id).parent().parent(),rowindex=tr.index();oTable.fnDeleteRow(tr),oTable.fnAddData(data.row),submitVisibility(),initialiseUploadBox("row",data.submission_id,part_id,user_id),initialiseDVLaunchers("row",data.submission_id,part_id,user_id),initialiseRefreshRow("row",data.submission_id,part_id,user_id),initialiseCheckboxes(data.submission_id,part_id),initialiseUnanoymiseForm("row",$("#assignment_id").html(),data.submission_id)}})}function initialiseCheckboxes(i,e){var t="#tabs-"+e+" .inbox_checkbox";0!=i&&(t="check_"+i),$("#tabs-"+e+" .inbox_checkbox").click(function(){$("table#"+e+" .select_all_checkbox").attr("checked",!1)}),$(document).on("click",t+", .select_all_checkbox",function(){$("#tabs-"+e+" .inbox_checkbox:checked").length>0?($("#tabs-"+e+" .zip_downloads").slideDown(),initialiseHiddenZipDownloads(e)):($("#tabs-"+e+" .origchecked_zip_open").unbind("click"),$("#tabs-"+e+" .zip_downloads").slideUp())})}function showPartDatesBoxes(){for(var i=0;i<=5;i++)i<=$("#id_numparts").val()?$('fieldset[id$="partdates'+i+'"]').slideDown():$('fieldset[id$="partdates'+i+'"]').slideUp()}if($(".js_required").show(),$(".js_hide").hide(),1==$("#id_submissiontype").val()&&$("#id_submissiontext").parent().parent().hide(),2==$("#id_submissiontype").val()&&$("#id_submissionfile").parent().parent().hide(),$("#id_submissionagreement").length&&$("#id_submitbutton").attr("disabled","disabled"),$("#id_submissionagreement").on("click",function(){$(this).is(":checked")?$("#id_submissionagreement").each(function(){$("#id_submitbutton").removeAttr("disabled")}):$("#id_submissionagreement").each(function(){$("#id_submitbutton").attr("disabled","disabled")})}),$(document).on("click",".delete_paper",function(){var i=$(this).data("confirm"),e=M.str.turnitintooltwo[i].replace(/\\n/g,"\n"),t=confirm(e);t&&$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"deletesubmission",sesskey:M.cfg.sesskey,paper:$(this).data("paper"),part:$(this).data("part"),assignment:$(this).data("assignment")},success:function(){window.location.href=window.location.href}})}),$(document).on("click",".submit_nothing",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var i=$(this).prop("id").split("_")[2],e=$(this).prop("id").split("_")[3],t=M.str.turnitintooltwo.submitnothingwarning.replace(/<br>/g,"\n").replace(/&#39;/g,"'"),s=$.cookie("submitnothingaccept");s||confirm(t)?submitNothing(e,i):$(this).removeClass("disabled")}}),$(document).on("change","#id_submissiontype",function(){1==$("#id_submissiontype").val()&&($("#id_submissiontext").parent().parent().hide(),$("#id_submissionfile").parent().parent().show()),2==$("#id_submissiontype").val()&&($("#id_submissionfile").parent().parent().hide(),$("#id_submissiontext").parent().parent().show())}),$(document).on("submit",".submission_form_container form",function(){return $("#id_submissiontitle").val().length>0&&($("#general").slideUp("slow"),$(".mod_turnitintooltwo .noticebox").slideUp("slow"),$(".submission_form_container form").slideUp("slow"),$("#submitting_loader").slideDown("slow"),!0)}),$(".toggle_summary").length>0&&($.cookie("show_summary_"+$("#assignment_id").html())||$.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_summary_"+$("#assignment_id").html())?($(".hide_summary_"+$("#assignment_id").html()).show(),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideDown()):($(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp()),$(".toggle_summary i").click(function(){$(this).hasClass("show_summary_"+$("#assignment_id").html())?($.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".hide_summary_"+$("#assignment_id").html()).show(),$(".introduction").slideDown()):($.cookie("show_summary_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp())})),$(".toggle_peermarks").length>0&&($.cookie("show_peermarks_"+$("#assignment_id").html())||$.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())?($(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp()),$(".toggle_peermarks i").click(function(){$(this).hasClass("show_peermarks_"+$("#assignment_id").html())?($.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($.cookie("show_peermarks_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())})),$(document).on("click",".show_peermark_instructions, .hide_peermark_instructions",function(){var i=$(this).attr("id").split("_");"show"==i[0]?($("#show_peermark_instructions_"+i[3]).hide(),$("#hide_peermark_instructions_"+i[3]).show(),$("#peermark_instructions_"+i[3]).slideDown()):($("#show_peermark_instructions_"+i[3]).show(),$("#hide_peermark_instructions_"+i[3]).hide(),$("#peermark_instructions_"+i[3]).slideUp())}),showPartDatesBoxes(),$(document).on("change","#id_numparts",function(){showPartDatesBoxes()}),$(document).on("click",".splitter-lastname, .splitter-firstname",function(i){var e=$(i.target),t=e.hasClass("sorting_asc"),s="asc",a="desc",n=e.attr("data-col");t||(s="desc",a="asc"),e.closest(".submissionsDataTable").DataTable().order([n,a]).draw(),e.addClass("sorting_"+a).removeClass("sorting sorting_"+s),e.parent().removeClass("sorting sorting_asc sorting_desc"),e.siblings().removeClass("sorting_asc sorting_desc").addClass("sorting")}),$("#dataTable").length>0&&$("#dataTable").dataTable(),"undefined"!=typeof M.str.turnitintooltwo)var dataTablesLang={sProcessing:'<span class="loading-message">'+M.str.turnitintooltwo.sprocessing+"</span>",sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};if($("#tabs").length>0){var activeTab=0;$("#tab_position").length>0&&(activeTab=$("#tab_position").text()),$("#tabs").tabs({active:activeTab,show:function(){var i=$.fn.dataTable.fnTables(!0);i.length>0&&$(i).dataTable().fnAdjustColumnSizing()}})}$(".enrolledMembers").length>0&&$(".enrolledMembers").dataTable({bProcessing:!0,sAjaxSource:"ajax.php",aoColumnDefs:[{bSortable:!1,sClass:"centered_cell",aTargets:[0]},{sClass:"left",aTargets:[1]}],oLanguage:dataTablesLang,fnServerData:function(i,e,t){$.ajax({dataType:"json",type:"POST",url:i,data:{action:"get_members",assignment:$("#assignment_id").html(),role:$("#user_role").html()},success:function(i){t(i)},error:function(i,e){$(".dataTables_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.membercheckerror)}})}});var submissionsDataTableColumns=[],visibleCols=[],noOfColumns=$("table.submissionsDataTable th").length/$("table.submissionsDataTable").length,notStudentView=$("table.submissionsDataTable th.sorting_name").length>0,showOrigReport=$("table.submissionsDataTable th.creport").length>0,useGradeMark=$("table.submissionsDataTable th.cgrade").length>0,multipleParts=$("table.submissionsDataTable th.coverallgrade").length>0;if(notStudentView)for(var i=0;i<noOfColumns;i++)3==i?(submissionsDataTableColumns.push({sType:"string",bSortable:!1}),visibleCols.push(!0)):2==i?(submissionsDataTableColumns.push({sType:"string",bSortable:!1,bVisible:!1}),visibleCols.push(!1)):5==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):6==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):8==i||10==i&&showOrigReport||10==i&&!showOrigReport||12==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):13==i&&showOrigReport||12==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=9&&!showOrigReport&&!useGradeMark||i>=11&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=13&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||4==i||7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));else for(var i=0;i<noOfColumns;i++)2==i?(submissionsDataTableColumns.push(null),visibleCols.push(!0)):4==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):5==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):12==i&&showOrigReport||11==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=8&&!showOrigReport&&!useGradeMark||i>=10&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=12&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||3==i||6==i||8==i&&showOrigReport||8==i&&!showOrigReport||10==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));var partTables=[],refreshRequested=[];$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshRequested[i]=0,partTables[i]=$("table#"+i).dataTable({bProcessing:!0,aoColumns:submissionsDataTableColumns,aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],aaSorting:[[2,"asc"],[4,"asc"]],sAjaxSource:"ajax.php",oLanguage:dataTablesLang,sDom:'r<"listbar-container"<"top listbar clearfix"lf>><"dt_pagination clearfix"pi>t<"bottom"><"dt_pagination clearfix"pi>',fnServerData:function(e,t,s){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"initialise_redraw"},success:function(e){disableEditingText(i),s(e),$("#"+i+"_processing").attr("style","visibility: visible"),getSubmissions(partTables[i],$("#assignment_id").html(),i,0,refreshRequested,0)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(i+"DataTables",JSON.stringify(t))}catch(s){}},fnStateSaveParams:function(i,e){e.abVisCols=visibleCols},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(i+"DataTables"))}catch(t){}},fnStateLoadParams:function(i,e){e.abVisCols=visibleCols},fnDrawCallback:function(e){initialiseDigitalReceipt(),initialiseDVLaunchers("all",0,i,0),initialiseRefreshRow("all",0,i,0),initialiseUploadBox("all",0,0,0),initialiseZipDownloads(i),initialiseCheckboxes(0,i),initialiseUnanoymiseForm("all",0,0)}})}),$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshPeermarkAssignments(i,0)}),$(".messages_amount").length>0&&refreshUserMessages(),$(".tii_table_functions").each(function(){var i=$(this).attr("id").split("tii_table_functions_")[1],e=$("#tii_table_functions_"+i).html();$("#tii_table_functions_"+i).remove(),$("#"+i+"_length").after(e),$(".messages_inbox").show(),$("#refresh_"+i).show(),$("#refreshing_"+i).hide()});var zip_downloads=$(".zip_downloads");if($.each(zip_downloads,function(){var i=$(this).attr("id").split("_")[1];$(this).remove(),$("#"+i+"_length").after($(this))}),"Learner"==$("#user_role").html()&&$(".dataTables_length, .dataTables_filter, .dt_pagination").hide(),$(".refresh_link").click(function(){return $(this).is(":visible")&&($(".refresh_link").hide(),$(".refreshing_link").show(),$("table.submissionsDataTable").each(function(){refreshRequested[$(this).attr("id")]=1,partTables[$(this).attr("id")].fnReloadAjax(),partTables[$(this).attr("id")].fnStandingRedraw()})),!1}),$("#turnitin_sync_all_grades").length>0&&$(".turnitin_sync_grades").click(function(){$(".turnitin_sync_grades").hide(),$(".turnitin_syncing_grades").show(),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"sync_all_submissions",assignment:$("#turnitin_sync_all_grades").data("turnitintooltwoid"),sesskey:M.cfg.sesskey},success:function(i){$(".turnitin_sync_grades").show(),$(".turnitin_syncing_grades").hide()}})}),$(".submission_failure_msg").length>0&&window.parent.$(".upload_box").colorbox.resize({width:"800px",height:"240px"}),$(".enrol_link").click(function(){$("#enrolling_error").hide(),$(".enrol_link").hide(),$(".enrolling_container").show(),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"enrol_all_students",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey},success:function(i){window.location.href=window.location.href},error:function(i,e){$(".enrol_link").show(),$(".enrolling_container").hide(),$("#enrolling_error").show()}})}),$(".rubric_manager_launch").length>0&&$(".rubric_manager_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){hideLoadingGif(),"rubric_manager_inbox_launch"!=$(this).attr("id")&&refreshRubricSelect(),$("#tii_close_bar").remove()}}),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$("#id_rubric, #id_plagiarism_rubric").mousedown(function(){""!=$('input[name="instance"]').val()&&"Y"!=$('input[name="rubric_warning_seen"]').val()&&confirm(M.str.turnitintooltwo.changerubricwarning)&&$('input[name="rubric_warning_seen"]').val("Y")}),($(".quickmark_manager_launch").length>0||$(".plagiarism_turnitin_quickmark_manager_launch").length>0)&&$(".quickmark_manager_launch, .plagiarism_turnitin_quickmark_manager_launch").colorbox({iframe:!0,width:"770px",height:"600px",opacity:"0.7",className:"quickmark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".tii_peermark_manager_launch").length>0&&$(".tii_peermark_manager_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){var i=$(this).attr("id").split("_");refreshPeermarkAssignments(i[2],1)}}),$(".tii_peermark_reviews_launch").length>0&&$(".tii_peermark_reviews_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_reviews",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".messages_inbox").length>0&&$(".messages_inbox").colorbox({iframe:!0,width:"772px",height:"772px",opacity:"0.7",className:"messages",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmitters_link").length>0&&$(".nonsubmitters_link").colorbox({iframe:!0,width:"740px",height:"540px",opacity:"0.7",className:"nonsubmitters",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmittersformsuccessmsg").length>0&&(hideLoadingGif(),window.parent.$(".nonsubmitters").colorbox.resize({width:"740px",height:"120px"})),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(document).on("click",".default_open, .origreport_open, .grademark_open",function(){var i=!0,e=$(this).attr("id").split("_"),t=$("#date_due_"+e[2]).html(),s=moment(t).unix(),a=e[0],n=e[1],o=e[2];if(s>moment().unix()&&$(this).hasClass("graded_warning")&&(confirm(M.str.turnitintooltwo.resubmissiongradewarn)||(i=!1)),i){dvWindow=window.open("","_blank");var r='<div style="text-align:center;">';r+='<img src="'+M.cfg.wwwroot+'/mod/turnitintooltwo/pix/tiiIcon.svg" style="width:100px; height: 100px">',r+='<p style="font-family: Arial, Helvetica, sans-serif;">'+M.str.turnitintooltwo.loadingdv+"</p>",r+="</div>",$(dvWindow.document.body).html(r),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:a,submission:n,assignment:$("#assignment_id").html()},success:function(i){$(dvWindow.document.body).html(r+i),dvWindow.document.forms[0].submit(),dvWindow.document.close(),checkDVClosed(o)}})}}),$("#id_rubric, #id_plagiarism_rubric").length>0&&refreshRubricSelect(),self!=top&&"box"==$("#view_context").html()?$("html").css("background","none"):self!=top&&"box_solid"==$("#view_context").html()&&$("html").css("background","#FFF"),$(".editable_postdue").on("click",function(){1==$(this).data("anon")&&alert(M.str.turnitintooltwo.postdate_warning)}),$(".editable_text").length>0){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.url="ajax.php",$.fn.editable.defaults.onblur="submit",$.fn.editable.defaults.showbuttons=!1,$.fn.editable.defaults.ajaxOptions={dataType:"json"},$(".editable_text").editable({validate:function(i){if($(this).attr("id").indexOf("marks_")>=0&&(Math.floor(i)!=i||!$.isNumeric(i)||i.indexOf(".")!=-1))return M.str.turnitintooltwo.maxmarkserror},success:function(i,e){if(!i.success)return i.msg;if("maxmarks"==i.field)$("#refresh_"+i.partid).click(),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"sync_all_submissions",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey}});else if("partname"==i.field){var t=$(this).parentsUntil(".ui-tabs-panel").parent().attr("aria-labelledby");$("#"+t).text(e)}}}),$("#export_options").hasClass("tii_export_options_hide")&&($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')),$(".editable_postdue").on("click",function(){var i=$(this);$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"check_anon",part:i.data("pk"),assignment:$("#assignment_id").html()},success:function(e){i.data("anon",e.anon),i.data("unanon",e.unanon),i.data("submitted",e.submitted)}})});var theDate=new Date;$(".editable_date").editable({type:"combodate",format:"YYYY-MM-DD HH:mm",viewformat:"D MMM YYYY, HH:mm",template:"D MMM YYYY  HH:mm",combodate:{minuteStep:1,minYear:2e3,maxYear:theDate.getFullYear()+2,smartDays:!0},validate:function(i){if(i.format("X")<moment().unix()&&$(this).hasClass("editable_postdue")&&1==$(this).data("anon")&&0==$(this).data("unanon")&&1==$(this).data("submitted")&&!confirm(M.str.turnitintooltwo.disableanonconfirm))return $(".editable-open").editableContainer("hide")," "},success:function(i,e){return i.success?($("#refresh_"+i.partid).click(),void("tii_export_options_hide"==i.export_option?($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')):($(".empty-dash").remove(),$("#export_options").show()))):i.msg}}),$(".editable_date").click(function(){if($(this).hasClass("editable-disabled"))return!1}),$(".editable_date, .editable_text").on("shown",function(i,e){var t=$(this).prop("id");$(".editable_date, .editable_text").not("#"+t).editable("disable"),$(".submit_nothing").addClass("disabled")}),$(".editable_date, .editable_text").on("hidden",function(){var i=$(this).prop("id");$(".editable_date, .editable_text").not("#"+i).editable("enable"),$(".submit_nothing").removeClass("disabled")})}$("#inbox_form form, .launch_form form").submit(),$(".turnitin_eula_link").length>0&&$(".turnitin_eula_link").colorbox({iframe:!0,width:"766px",height:"596px",opacity:"0.7",className:"eula_view",scrolling:"false",onLoad:function(){getLoadingGif()},onComplete:function(){$(window).on("message",function(i){var e="undefined"==typeof i.data?i.originalEvent.data:i.data;"turnitin_eula_declined"!=e&&"turnitin_eula_accepted"!=e||$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"acceptuseragreement",message:e,sesskey:M.cfg.sesskey},success:function(i){window.location.reload()},error:function(i){window.location.reload()}})})},onCleanup:function(){hideLoadingGif()}}),$("#tii_receipt_print").click(function(){window.print()}),$(".select_all_checkbox").on("click",function(){var i=$(this).parent().parent().parent().parent().attr("id");
$(this).is(":checked")?($("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideDown(),$("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!0)})):($("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!1)}),$("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideUp())}),$("[id^=fitem_id_dtpost] select").change(function(){var i=$(this).parent().parent().parent(),e=buildUnixDate("#fitem_id_dtpost",i.data("partId"));e<moment().unix()&&1==i.data("anon")&&0==i.data("unanon")&&1==i.data("submitted")&&alert(M.str.turnitintooltwo.anonalert)});var buildUnixDate=function(i,e){var t=["_day","_month","_year","_hour","_minute"];$this=$(i+e);var s="";return $.each(t,function(i,t){s+=$this.find("[id$="+e+t+"] option:selected").text(),"_year"===t?s+=" ":"_hour"===t?s+=":":"_minute"!==t&&(s+="-")}),moment(s,"DD-MMMM-YYYY hh:mm").unix()}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3by5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93Iiwib24iLCJlbmFibGVFZGl0aW5nVGV4dCIsInBhcnRfaWQiLCJlZGl0YWJsZSIsImRpc2FibGVFZGl0aW5nVGV4dCIsImdldExvYWRpbmdHaWYiLCJpbWciLCJhZnRlciIsInRvcCIsInNjcm9sbFRvcCIsImhlaWdodCIsImNzcyIsImhpZGVMb2FkaW5nR2lmIiwicmVtb3ZlIiwiZ2V0U3VibWlzc2lvbnMiLCJ0YWJsZSIsImFzc2lnbm1lbnRfaWQiLCJzdGFydCIsInJlZnJlc2hfcmVxdWVzdGVkIiwidG90YWwiLCJhamF4IiwiZGF0YVR5cGUiLCJ0eXBlIiwidXJsIiwiYXN5bmMiLCJkYXRhIiwiYWN0aW9uIiwiYXNzaWdubWVudCIsInBhcnQiLCJzZXNza2V5IiwiTSIsImNmZyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJldmFsIiwiZW5kIiwiYWFEYXRhIiwibGVuZ3RoIiwiZm5BZGREYXRhIiwiYXR0ciIsImFsbHJlZnJlc2hlZCIsImVhY2giLCJrIiwidiIsImhpZGUiLCJzaG93Iiwic3VibWl0VmlzaWJpbGl0eSIsIm5vbnN1Ym1pdHRlcnMiLCJlcnJvciIsInJlc3BvbnNlIiwiaHRtbCIsInN0ciIsInR1cm5pdGludG9vbHR3byIsInRpaXN1Ym1pc3Npb25zZ2V0ZXJyb3IiLCJyZWZyZXNoUnVicmljU2VsZWN0IiwicnVicmljRWxlbWVudElkIiwiY3VycmVudFJ1YnJpYyIsInZhbCIsIm1vZHVsZW5hbWUiLCJjb3Vyc2UiLCJlbXB0eSIsIm9wdGlvbnMiLCJpIiwiaXNOdW1lcmljIiwiYXBwZW5kIiwidmFsdWUiLCJ0ZXh0Iiwib3B0Z3JvdXAiLCJqIiwicnVicmljIiwib3B0aW9uIiwicmVmcmVzaFVzZXJNZXNzYWdlcyIsInJlc2V0UGVlcm1hcmtTZWN0aW9uIiwicmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMiLCJ1c2VyX3JvbGUiLCJwZWVybWFya190YWJsZSIsIm5vX29mX3BlZXJtYXJrcyIsInBlZXJtYXJrc19hY3RpdmUiLCJjb29raWUiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtIiwic2NvcGUiLCJzdWJtaXNzaW9uX2lkIiwiaWRlbnRpZmllciIsImNvbG9yYm94IiwiaW5saW5lIiwid2lkdGgiLCJvcGFjaXR5IiwiY2xhc3NOYW1lIiwib25Db21wbGV0ZSIsImlkU3RyIiwidGhpcyIsInNwbGl0IiwidW5kZWZpbmVkIiwidW5iaW5kIiwiY2xpY2siLCJyZWFzb24iLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdGF0dXMiLCJjbG9zZSIsInd3d3Jvb3QiLCJ1c2VyaWQiLCJjb3Vyc2VpZCIsIm5hbWUiLCJyZW1vdmVDbGFzcyIsImN1cnJlbnRfbXNnIiwibXNnIiwib25DbGVhbnVwIiwiaW5pdGlhbGlzZVVwbG9hZEJveCIsInVzZXJfaWQiLCJjb2xvckJveFdpZHRoIiwiY29sb3JCb3hIZWlnaHQiLCJvbkxvYWQiLCJsaWdodEJveENsb3NlQnV0dG9uIiwib25DbG9zZWQiLCJyZWZyZXNoSW5ib3hSb3ciLCJpZnJhbWUiLCJ0cmFuc2l0aW9uIiwiaW5pdGlhbGlzZVppcERvd25sb2FkcyIsImRvd25sb2FkWmlwRmlsZSIsImRvY3VtZW50IiwiZSIsIm9wZW4iLCJocmVmIiwic3VibWlzc2lvbl9pZHMiLCJjbG9zZWJ1dHRvbiIsImluaXRpYWxpc2VEaWdpdGFsUmVjZWlwdCIsImluaXRpYWxpc2VIaWRkZW5aaXBEb3dubG9hZHMiLCJpbml0aWFsaXNlUmVmcmVzaFJvdyIsInNpYmxpbmdzIiwiYWRkQ2xhc3MiLCJwYXJlbnQiLCJpbml0aWFsaXNlRFZMYXVuY2hlcnMiLCJjaGlsZHJlbiIsImhhc0NsYXNzIiwiZG93bmxvYWRPcmlnaW5hbEZpbGUiLCJkb3dubG9hZHR5cGUiLCJzdWJtaXQiLCJkdnR5cGUiLCJzdWJtaXNzaW9uIiwiY2hlY2tEVkNsb3NlZCIsImR2V2luZG93IiwiY2xvc2VkIiwic2V0VGltZW91dCIsInN1Ym1pdE5vdGhpbmciLCJ1c2VyIiwiZXhwaXJlcyIsImFsZXJ0IiwicmVzcG9uc2VUZXh0IiwiY29tcGxldGUiLCJsaW5rIiwib1RhYmxlIiwiZGF0YVRhYmxlIiwidHIiLCJyb3dpbmRleCIsImluZGV4IiwiZm5EZWxldGVSb3ciLCJyb3ciLCJpbml0aWFsaXNlQ2hlY2tib3hlcyIsInNob3dQYXJ0RGF0ZXNCb3hlcyIsImlzIiwicmVtb3ZlQXR0ciIsImNvbmZpcm1zdHJuYW1lIiwiY29uZmlybXN0ciIsInJlcGxhY2UiLCJjb25maXJtcmVzdWx0IiwiY29uZmlybSIsInBhcGVyIiwibG9jYXRpb24iLCJwcm9wIiwic3R1ZGVudF9pZCIsIm1lc3NhZ2UiLCJzdWJtaXRub3RoaW5nd2FybmluZyIsImNvb2tpZXNlZW4iLCJldmVudCIsIm5vZGUiLCJ0YXJnZXQiLCJpc0FzY2VuZGluZyIsImN1cnJlbnRzb3J0Iiwic29ydGJ5Iiwic29ydENvbHVtbiIsImNsb3Nlc3QiLCJEYXRhVGFibGUiLCJvcmRlciIsImRyYXciLCJkYXRhVGFibGVzTGFuZyIsInNQcm9jZXNzaW5nIiwic3Byb2Nlc3NpbmciLCJzWmVyb1JlY29yZHMiLCJzemVyb3JlY29yZHMiLCJzSW5mbyIsInNpbmZvIiwic1NlYXJjaCIsInNzZWFyY2giLCJzTGVuZ3RoTWVudSIsInNsZW5ndGhtZW51Iiwib1BhZ2luYXRlIiwic05leHQiLCJzbmV4dCIsInNQcmV2aW91cyIsInNwcmV2aW91cyIsImFjdGl2ZVRhYiIsInRhYnMiLCJhY3RpdmUiLCJmbiIsImZuVGFibGVzIiwiZm5BZGp1c3RDb2x1bW5TaXppbmciLCJiUHJvY2Vzc2luZyIsInNBamF4U291cmNlIiwiYW9Db2x1bW5EZWZzIiwiYlNvcnRhYmxlIiwic0NsYXNzIiwiYVRhcmdldHMiLCJvTGFuZ3VhZ2UiLCJmblNlcnZlckRhdGEiLCJzU291cmNlIiwiYW9EYXRhIiwiZm5DYWxsYmFjayIsInJvbGUiLCJtZW1iZXJjaGVja2Vycm9yIiwic3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zIiwidmlzaWJsZUNvbHMiLCJub09mQ29sdW1ucyIsIm5vdFN0dWRlbnRWaWV3Iiwic2hvd09yaWdSZXBvcnQiLCJ1c2VHcmFkZU1hcmsiLCJtdWx0aXBsZVBhcnRzIiwicHVzaCIsInNUeXBlIiwiYlZpc2libGUiLCJpRGF0YVNvcnQiLCJwYXJ0VGFibGVzIiwicmVmcmVzaFJlcXVlc3RlZCIsImFvQ29sdW1ucyIsImFMZW5ndGhNZW51IiwiYWFTb3J0aW5nIiwic0RvbSIsImJTdGF0ZVNhdmUiLCJmblN0YXRlU2F2ZSIsIm9TZXR0aW5ncyIsIm9EYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmblN0YXRlU2F2ZVBhcmFtcyIsImFiVmlzQ29scyIsImZuU3RhdGVMb2FkIiwicGFyc2UiLCJnZXRJdGVtIiwiZm5TdGF0ZUxvYWRQYXJhbXMiLCJmbkRyYXdDYWxsYmFjayIsInRpaV90YWJsZV9mdW5jdGlvbnMiLCJ6aXBfZG93bmxvYWRzIiwiZm5SZWxvYWRBamF4IiwiZm5TdGFuZGluZ1JlZHJhdyIsInJlc2l6ZSIsIm1vdXNlZG93biIsImNoYW5nZXJ1YnJpY3dhcm5pbmciLCJjbG9zZUJ1dHRvbiIsInByb2NlZWQiLCJkdWVfZGF0ZSIsImR1ZV9kYXRlX3VuaXgiLCJtb21lbnQiLCJ1bml4IiwicmVzdWJtaXNzaW9uZ3JhZGV3YXJuIiwibG9hZGluZyIsImxvYWRpbmdkdiIsImJvZHkiLCJmb3JtcyIsInNlbGYiLCJwb3N0ZGF0ZV93YXJuaW5nIiwiZGVmYXVsdHMiLCJtb2RlIiwib25ibHVyIiwic2hvd2J1dHRvbnMiLCJhamF4T3B0aW9ucyIsInZhbGlkYXRlIiwiaW5kZXhPZiIsIk1hdGgiLCJmbG9vciIsIm1heG1hcmtzZXJyb3IiLCJuZXdWYWx1ZSIsImZpZWxkIiwicGFydGlkIiwidGFiSWQiLCJwYXJlbnRzVW50aWwiLCIkdGhpcyIsInRoZURhdGUiLCJEYXRlIiwiZm9ybWF0Iiwidmlld2Zvcm1hdCIsInRlbXBsYXRlIiwiY29tYm9kYXRlIiwibWludXRlU3RlcCIsIm1pblllYXIiLCJtYXhZZWFyIiwiZ2V0RnVsbFllYXIiLCJzbWFydERheXMiLCJkaXNhYmxlYW5vbmNvbmZpcm0iLCJlZGl0YWJsZUNvbnRhaW5lciIsImV4cG9ydF9vcHRpb24iLCJjdXJyZW50Iiwibm90Iiwic2Nyb2xsaW5nIiwiZXYiLCJvcmlnaW5hbEV2ZW50IiwicmVsb2FkIiwicHJpbnQiLCJpZCIsImNoYW5nZSIsImRhdGFFbCIsInBvc3RfZGF0ZSIsImJ1aWxkVW5peERhdGUiLCJhbm9uYWxlcnQiLCJlbCIsImRhdGUiLCJmaW5kIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFXQSxHQUNQQSxFQUFFQyxRQUFRQyxHQUFHLE9BQVEsV0FzMkJqQixRQUFTQyxtQkFBa0JDLEdBQ3ZCSixFQUFFLFNBQVdJLEVBQVUsMEJBQTRCQSxFQUFVLG1CQUFtQkMsU0FBUyxVQUk3RixRQUFTQyxvQkFBbUJGLEdBQ3hCSixFQUFFLFNBQVdJLEVBQVUsMEJBQTRCQSxFQUFVLG1CQUFtQkMsU0FBUyxXQUc3RixRQUFTRSxpQkFDTCxHQUFJQyxHQUFNLGlDQUNWUixHQUFFLGdCQUFnQlMsTUFBTUQsRUFDeEIsSUFBSUUsR0FBTVYsRUFBRUMsUUFBUVUsWUFBZVgsRUFBRUMsUUFBUVcsU0FBVyxDQUN4RFosR0FBRSxnQkFBZ0JhLElBQUksTUFBT0gsRUFBTSxNQUd2QyxRQUFTSSxrQkFDTGQsRUFBRSxnQkFBZ0JlLFNBR3RCLFFBQVNDLGdCQUFlQyxNQUFPQyxjQUFlZCxRQUFTZSxNQUFPQyxrQkFBbUJDLE9BQzdFckIsRUFBRXNCLE1BQ0VDLFNBQVksT0FDWkMsS0FBUSxPQUNSQyxJQUFPLFdBQ1BDLE9BQVMsRUFDVEMsTUFDSUMsT0FBUSxrQkFBbUJDLFdBQVlYLGNBQWVZLEtBQU0xQixRQUFTZSxNQUFPQSxNQUM1RUMsa0JBQW1CQSxrQkFBa0JoQixTQUFVMkIsUUFBU0MsRUFBRUMsSUFBSUYsUUFBU1YsTUFBT0EsT0FFbEZhLFFBQVcsU0FBVUMsUUFRakIs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QjVLLEVBQUUsSUFBTXdULEVBQUssb0JBQW9CalIsUUFDakN2QyxFQUFFLFNBQVd3VCxFQUFLLG1CQUFtQnRPLGFBTWpEbEYsRUFBRSxnQ0FBZ0N5VCxPQUFPLFdBRXJDLEdBQUlDLEdBQVMxVCxFQUFFOEYsTUFBTXdDLFNBQVNBLFNBQVNBLFNBQ25DcUwsRUFBWUMsY0FBYyxtQkFBb0JGLEVBQU8vUixLQUFLLFVBRTFEZ1MsR0FBWWpELFNBQVNDLFFBQWlDLEdBQXZCK0MsRUFBTy9SLEtBQUssU0FBeUMsR0FBekIrUixFQUFPL1IsS0FBSyxXQUE4QyxHQUE1QitSLEVBQU8vUixLQUFLLGNBQ3JHMkgsTUFBTXRILEVBQUVxQixJQUFJQyxnQkFBZ0J1USxZQUtwQyxJQUFJRCxlQUFnQixTQUFVRSxFQUFJMVQsR0FFOUIsR0FBSWUsSUFBUyxPQUFRLFNBQVUsUUFBUyxRQUFTLFVBRWpEK1EsT0FBUWxTLEVBQUU4VCxFQUFLMVQsRUFHZixJQUFJMlQsR0FBTyxFQWFYLE9BWkEvVCxHQUFFMkMsS0FBS3hCLEVBQU8sU0FBVXlCLEVBQUdDLEdBQ3ZCa1IsR0FBUTdCLE1BQU04QixLQUFLLFFBQVU1VCxFQUFVeUMsRUFBSSxxQkFBcUJ1QixPQUN0RCxVQUFOdkIsRUFDQWtSLEdBQVEsSUFDSyxVQUFObFIsRUFDUGtSLEdBQVEsSUFDSyxZQUFObFIsSUFDUGtSLEdBQVEsT0FLVHJELE9BQU9xRCxFQUFNLHNCQUFzQnBELFdBR25Ec0QiLCJmaWxlIjoidHVybml0aW50b29sdHdvLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1xuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5qc19yZXF1aXJlZFwiKS5zaG93KCk7XG4gICAgICAgICQoXCIuanNfaGlkZVwiKS5oaWRlKCk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIHN1Ym1pdCBwYXBlciBmb3JtIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB3aGF0IHN1Ym1pc3Npb24gdHlwZSBpcyBhbGxvd2VkLlxuICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAxKSB7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250eXBlXCIpLnZhbCgpID09IDIpIHtcbiAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzYWJsZSBhc3NpZ25tZW50IHN1Ym1pc3Npb24gaWYgYSBzdWJtaXNzaW9uIGFncmVlbWVudCBleGlzdHMgYW5kIGlzIG5vdCBjaGVja2VkLlxuICAgICAgICBpZiAoKCQoXCIjaWRfc3VibWlzc2lvbmFncmVlbWVudFwiKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAkKCcjaWRfc3VibWl0YnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGUvZW5hYmxlIGFzc2lnbm1lbnQgc3VibWlzc2lvbiB3aGVuIHRoZSBzdWJtaXNzaW9uIGNoZWNrYm94IGlzIGNoZWNrZWQvdW5jaGVja2VkLlxuICAgICAgICAkKCcjaWRfc3VibWlzc2lvbmFncmVlbWVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3N1Ym1pc3Npb25hZ3JlZW1lbnQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3N1Ym1pdGJ1dHRvbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9zdWJtaXRidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRlbGV0ZV9wYXBlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFNldCB1cCB0aGUgY29uZmlybSB3aW5kb3cuXG4gICAgICAgICAgICB2YXIgY29uZmlybXN0cm5hbWUgPSAkKHRoaXMpLmRhdGEoXCJjb25maXJtXCIpO1xuICAgICAgICAgICAgdmFyIGNvbmZpcm1zdHIgPSBNLnN0ci50dXJuaXRpbnRvb2x0d29bY29uZmlybXN0cm5hbWVdLnJlcGxhY2UoL1xcXFxuL2csIFwiXFxuXCIpO1xuICAgICAgICAgICAgdmFyIGNvbmZpcm1yZXN1bHQgPSBjb25maXJtKGNvbmZpcm1zdHIpO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlybXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdkZWxldGVzdWJtaXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXBlcjogJCh0aGlzKS5kYXRhKFwicGFwZXJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0OiAkKHRoaXMpLmRhdGEoXCJwYXJ0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudDogJCh0aGlzKS5kYXRhKFwiYXNzaWdubWVudFwiKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc3VibWl0X25vdGhpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5wcm9wKCdpZCcpLnNwbGl0KCdfJylbMl07XG4gICAgICAgICAgICB2YXIgc3R1ZGVudF9pZCA9ICQodGhpcykucHJvcCgnaWQnKS5zcGxpdCgnXycpWzNdO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3VibWl0bm90aGluZ3dhcm5pbmcucmVwbGFjZSgvPGJyPi9nLCBcIlxcblwiKS5yZXBsYWNlKC8mIzM5Oy9nLCBcIlxcJ1wiKTtcbiAgICAgICAgICAgIHZhciBjb29raWVzZWVuID0gJC5jb29raWUoJ3N1Ym1pdG5vdGhpbmdhY2NlcHQnKTtcbiAgICAgICAgICAgIGlmIChjb29raWVzZWVuIHx8IGNvbmZpcm0obWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBzdWJtaXROb3RoaW5nKHN0dWRlbnRfaWQsIHBhcnRfaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBzdWJtaXQgcGFwZXIgZm9ybSBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2hhdCBzdWJtaXNzaW9uIHR5cGUgaXMgc2VsZWN0ZWQuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2lkX3N1Ym1pc3Npb250eXBlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMSkge1xuICAgICAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbnRleHRcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuc2hvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9uZmlsZVwiKS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9udGV4dFwiKS5wYXJlbnQoKS5wYXJlbnQoKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNob3cgbG9hZGluZyBpZiBzdWJtaXNzaW9uIHBhc3NlcyB2YWxpZGF0aW9uLlxuICAgICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJy5zdWJtaXNzaW9uX2Zvcm1fY29udGFpbmVyIGZvcm0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udGl0bGVcIikudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoXCIjZ2VuZXJhbFwiKS5zbGlkZVVwKCdzbG93Jyk7XG4gICAgICAgICAgICAgICAgJChcIi5tb2RfdHVybml0aW50b29sdHdvIC5ub3RpY2Vib3hcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgICAgICQoXCIuc3VibWlzc2lvbl9mb3JtX2NvbnRhaW5lciBmb3JtXCIpLnNsaWRlVXAoJ3Nsb3cnKTtcbiAgICAgICAgICAgICAgICAkKFwiI3N1Ym1pdHRpbmdfbG9hZGVyXCIpLnNsaWRlRG93bignc2xvdycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGlzZSBhbmQgc2V0IGNvb2tpZSBmb3Igc2hvd2luZyB0aGUgc3VtbWFyeSBmb3IgdGhpcyBhc3NpZ25tZW50LlxuICAgICAgICBpZiAoJCgnLnRvZ2dsZV9zdW1tYXJ5JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKCEkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSA9PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5zaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLmhpZGVfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUb2dnbGUgU3VtbWFyeSBkaXNwbGF5IG9uIEluYm94LlxuICAgICAgICAgICAgJCgnLnRvZ2dsZV9zdW1tYXJ5IGknKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCB0cnVlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIGZhbHNlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGlzZSBhbmQgc2V0IGNvb2tpZSBmb3Igc2hvd2luZyB0aGUgcGVlcm1hcmsgYXNzaWdubWVudHMgZm9yIHRoaXMgYXNzaWdubWVudC5cbiAgICAgICAgaWYgKCQoJy50b2dnbGVfcGVlcm1hcmtzJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKCEkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSA9PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRvZ2dsZSBQZWVybWFya3MgZGlzcGxheSBvbiBJbmJveC5cbiAgICAgICAgICAgICQoJy50b2dnbGVfcGVlcm1hcmtzIGknKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBmYWxzZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNob3dfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zLCAuaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoXCJfXCIpO1xuXG4gICAgICAgICAgICBpZiAoaWRTdHJbMF0gPT0gXCJzaG93XCIpIHtcbiAgICAgICAgICAgICAgICAkKCcjc2hvd19wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI2hpZGVfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyNwZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3Nob3dfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyNoaWRlX3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTaG93IG9wdGlvbnMgZm9yIHBhcnRzIGluIG1vZF9mb3JtLnBocC5cbiAgICAgICAgc2hvd1BhcnREYXRlc0JveGVzKCk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2lkX251bXBhcnRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2hvd1BhcnREYXRlc0JveGVzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW51YWwgYWN0aXZhdGlvbiBvZiBzb3J0aW5nIGJhc2VkIG9uIGZpcnN0IG9yIGxhc3QgbmFtZS5cbiAgICAgICAgICogVGhpcyBib3Jyb3dzIGNsYXNzZXMgZnJvbSBkYXRhdGFibGVzIGFuZCBhcHBsaWVzIHRoZW0gdG8gdHdvIGRpdnMgaW5zaWRlIHRoZSBzdHVkZW50IG5hbWUgY29sdW1uIGhlYWRlci5cbiAgICAgICAgICogSW4gb3JkZXIgdG8gc29ydCBieSBsYXN0IG5hbWUgaXQgcmVmZXJlbmNlcyBhIGhpZGRlbiBjb2x1bW4gaW4gcG9zaXRpb24gMi5cbiAgICAgICAgICovXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc3BsaXR0ZXItbGFzdG5hbWUsIC5zcGxpdHRlci1maXJzdG5hbWUnLCBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSAkKGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgICAgICAgaXNBc2NlbmRpbmcgPSBub2RlLmhhc0NsYXNzKCdzb3J0aW5nX2FzYycpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRzb3J0ID0gJ2FzYycsIHNvcnRieSA9ICdkZXNjJyxcbiAgICAgICAgICAgICAgICBzb3J0Q29sdW1uID0gbm9kZS5hdHRyKCdkYXRhLWNvbCcpO1xuXG4gICAgICAgICAgICBpZiAoIWlzQXNjZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudHNvcnQgPSAnZGVzYyc7XG4gICAgICAgICAgICAgICAgc29ydGJ5ID0gJ2FzYyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGUuY2xvc2VzdCgnLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuRGF0YVRhYmxlKClcbiAgICAgICAgICAgICAgICAub3JkZXIoIFsgc29ydENvbHVtbiwgc29ydGJ5IF0gKVxuICAgICAgICAgICAgICAgIC5kcmF3KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5vZGUuYWRkQ2xhc3MoJ3NvcnRpbmdfJyArIHNvcnRieSkucmVtb3ZlQ2xhc3MoJ3NvcnRpbmcgc29ydGluZ18nICsgY3VycmVudHNvcnQpO1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnc29ydGluZyBzb3J0aW5nX2FzYyBzb3J0aW5nX2Rlc2MnKTtcbiAgICAgICAgICAgIG5vZGUuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnc29ydGluZ19hc2Mgc29ydGluZ19kZXNjJykuYWRkQ2xhc3MoJ3NvcnRpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgc2ltcGxlIGRhdGFUYWJsZXMuXG4gICAgICAgIGlmICgkKFwiI2RhdGFUYWJsZVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiI2RhdGFUYWJsZVwiKS5kYXRhVGFibGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBkYXRhdGFibGVzIGxhbmd1YWdlIHNldHRpbmdzLlxuICAgICAgICBpZiAodHlwZW9mIE0uc3RyLnR1cm5pdGludG9vbHR3byAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBkYXRhVGFibGVzTGFuZyA9IHtcbiAgICAgICAgICAgICAgICBcInNQcm9jZXNzaW5nXCI6ICc8c3BhbiBjbGFzcz1cImxvYWRpbmctbWVzc2FnZVwiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3Byb2Nlc3NpbmcgKyAnPC9zcGFuPicsXG4gICAgICAgICAgICAgICAgXCJzWmVyb1JlY29yZHNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnN6ZXJvcmVjb3JkcyxcbiAgICAgICAgICAgICAgICBcInNJbmZvXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zaW5mbyxcbiAgICAgICAgICAgICAgICBcInNTZWFyY2hcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNzZWFyY2gsXG4gICAgICAgICAgICAgICAgXCJzTGVuZ3RoTWVudVwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2xlbmd0aG1lbnUsXG4gICAgICAgICAgICAgICAgXCJvUGFnaW5hdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInNOZXh0XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbmV4dCxcbiAgICAgICAgICAgICAgICAgICAgXCJzUHJldmlvdXNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNwcmV2aW91c1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3RpdmF0ZSBkYXRhdGFibGUgdGFicyBvbiBzdWJtaXNzaW9uIGluYm94LlxuICAgICAgICBpZiAoJChcIiN0YWJzXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFNldCB0YWIgcG9zaXRpb24uXG4gICAgICAgICAgICB2YXIgYWN0aXZlVGFiID0gMDtcbiAgICAgICAgICAgIGlmICgkKFwiI3RhYl9wb3NpdGlvblwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFiID0gJCgnI3RhYl9wb3NpdGlvbicpLnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoXCIjdGFic1wiKS50YWJzKHtcbiAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiBhY3RpdmVUYWIsXG4gICAgICAgICAgICAgICAgXCJzaG93XCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gJC5mbi5kYXRhVGFibGUuZm5UYWJsZXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRhYmxlKS5kYXRhVGFibGUoKS5mbkFkanVzdENvbHVtblNpemluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25maWd1cmUgdGhlIGRhdGF0YWJsZSBmb3IgYWRkaW5nL3JlbW92aW5nIGVucm9sbGVkIHR1dG9ycy9zdHVkZW50cyB0byBhIFR1cm5pdGluIGNvdXJzZS5cbiAgICAgICAgaWYgKCQoJy5lbnJvbGxlZE1lbWJlcnMnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcuZW5yb2xsZWRNZW1iZXJzJykuZGF0YVRhYmxlKHtcbiAgICAgICAgICAgICAgICBcImJQcm9jZXNzaW5nXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7IFwiYlNvcnRhYmxlXCI6IGZhbHNlLCBcInNDbGFzc1wiOiBcImNlbnRlcmVkX2NlbGxcIiwgXCJhVGFyZ2V0c1wiOiBbMF0gfSxcbiAgICAgICAgICAgICAgICAgICAgeyBcInNDbGFzc1wiOiBcImxlZnRcIiwgXCJhVGFyZ2V0c1wiOiBbMV0gfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgICAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKHNTb3VyY2UsIGFvRGF0YSwgZm5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBzU291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHsgYWN0aW9uOiBcImdldF9tZW1iZXJzXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCByb2xlOiAkKCcjdXNlcl9yb2xlJykuaHRtbCgpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVycm9yXCI6IGZ1bmN0aW9uIChkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX3Byb2Nlc3NpbmcnKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZGF0YVRhYmxlc19lbXB0eScpLmh0bWwoTS5zdHIudHVybml0aW50b29sdHdvLm1lbWJlcmNoZWNrZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbmZpZ3VyZSB0aGUgZGF0YXRhYmxlcyBvbiB0aGUgc3VibWlzc2lvbiBpbmJveCwgYSBzZXBlcmF0ZSBkYXRhdGFibGUgaXMgc2hvd24gZm9yIGVhY2ggcGFydC5cbiAgICAgICAgLy8gVGhlcmUgYXJlIHRhYnMgdG8gdG9nZ2xlIHdoaWNoIHBhcnQgdGFibGUgaXMgZGlzcGxheWVkLlxuXG4gICAgICAgIC8vIERlZmluZSBjb2x1bW4gZGVmaW5pdGlvbnMgYXMgdGhlcmUgY2FuIGJlIGRpZmZlcmVudCBudW1iZXIgb2YgY29sdW1ucy5cbiAgICAgICAgdmFyIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucyA9IFtdO1xuICAgICAgICB2YXIgdmlzaWJsZUNvbHMgPSBbXTtcbiAgICAgICAgdmFyIG5vT2ZDb2x1bW5zID0gJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGgnKS5sZW5ndGggLyAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmxlbmd0aDtcbiAgICAgICAgdmFyIG5vdFN0dWRlbnRWaWV3ID0gKCQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoLnNvcnRpbmdfbmFtZScpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgc2hvd09yaWdSZXBvcnQgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY3JlcG9ydCcpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgdXNlR3JhZGVNYXJrID0gKCQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoLmNncmFkZScpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgbXVsdGlwbGVQYXJ0cyA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5jb3ZlcmFsbGdyYWRlJykubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKG5vdFN0dWRlbnRWaWV3KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vT2ZDb2x1bW5zOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzVHlwZVwiOiBcInN0cmluZ1wiLCBcImJTb3J0YWJsZVwiOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic1R5cGVcIjogXCJzdHJpbmdcIiwgXCJiU29ydGFibGVcIjogZmFsc2UsIFwiYlZpc2libGVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjogXCJzdHJpbmdcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNikge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic0NsYXNzXCI6IFwicmlnaHRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gOCB8fCAoaSA9PSAxMCAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKChpID09IDEwICYmICFzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTIgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNDbGFzc1wiOiBcInJpZ2h0XCIsIFwiaURhdGFTb3J0XCI6IGkgLSAxLCBcInNUeXBlXCI6IFwibnVtZXJpY1wiIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGkgPT0gMTMgJiYgc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDEyICYmICFzaG93T3JpZ1JlcG9ydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNDbGFzc1wiOiBcInJpZ2h0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDEgfHwgKChpID49IDkgJiYgIXNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspXG4gICAgICAgICAgICAgICAgICAgIHx8IChpID49IDExICYmICgoIXNob3dPcmlnUmVwb3J0ICYmIHVzZUdyYWRlTWFyaykgfHwgKHNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKGkgPj0gMTMgJiYgc2hvd09yaWdSZXBvcnQgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNDbGFzc1wiOiBcImNlbnRlclwiLCBcImJTb3J0YWJsZVwiOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChpID09IDApIHx8IChpID09IDQpIHx8IChpID09IDcpIHx8IChpID09IDkgJiYgc2hvd09yaWdSZXBvcnQpIHx8ICgoaSA9PSA5ICYmICFzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTEgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcImJWaXNpYmxlXCI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vT2ZDb2x1bW5zOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjogXCJzdHJpbmdcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic0NsYXNzXCI6IFwicmlnaHRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNyB8fCAoaSA9PSA5ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOSAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDExICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJyaWdodFwiLCBcImlEYXRhU29ydFwiOiBpIC0gMSwgXCJzVHlwZVwiOiBcIm51bWVyaWNcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChpID09IDEyICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMSAmJiAhc2hvd09yaWdSZXBvcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJyaWdodFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSAxIHx8ICgoaSA+PSA4ICYmICFzaG93T3JpZ1JlcG9ydCAmJiAhdXNlR3JhZGVNYXJrKVxuICAgICAgICAgICAgICAgICAgICB8fCAoaSA+PSAxMCAmJiAoKCFzaG93T3JpZ1JlcG9ydCAmJiB1c2VHcmFkZU1hcmspIHx8IChzaG93T3JpZ1JlcG9ydCAmJiAhdXNlR3JhZGVNYXJrKSkpXG4gICAgICAgICAgICAgICAgICAgIHx8IChpID49IDEyICYmIHNob3dPcmlnUmVwb3J0ICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJjZW50ZXJcIiwgXCJiU29ydGFibGVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAwKSB8fCAoaSA9PSAzKSB8fCAoaSA9PSA2KSB8fCAoaSA9PSA4ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOCAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDEwICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJiVmlzaWJsZVwiOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcnRUYWJsZXMgPSBbXTtcbiAgICAgICAgdmFyIHJlZnJlc2hSZXF1ZXN0ZWQgPSBbXTtcbiAgICAgICAgJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAgIHJlZnJlc2hSZXF1ZXN0ZWRbcGFydF9pZF0gPSAwO1xuXG4gICAgICAgICAgICBwYXJ0VGFibGVzW3BhcnRfaWRdID0gJCgndGFibGUjJyArIHBhcnRfaWQpLmRhdGFUYWJsZSh7XG4gICAgICAgICAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwiYW9Db2x1bW5zXCI6IHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucyxcbiAgICAgICAgICAgICAgICBcImFMZW5ndGhNZW51XCI6IFtbMTAsIDI1LCA1MCwgMTAwLCAtMV0sIFsxMCwgMjUsIDUwLCAxMDAsIFwiQWxsXCJdXSxcbiAgICAgICAgICAgICAgICBcImFhU29ydGluZ1wiOiBbWzIsIFwiYXNjXCJdLCBbNCwgXCJhc2NcIl1dLFxuICAgICAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICAgICAgICAgIFwic0RvbVwiOiAncjxcImxpc3RiYXItY29udGFpbmVyXCI8XCJ0b3AgbGlzdGJhciBjbGVhcmZpeFwibGY+PjxcImR0X3BhZ2luYXRpb24gY2xlYXJmaXhcInBpPnQ8XCJib3R0b21cIj48XCJkdF9wYWdpbmF0aW9uIGNsZWFyZml4XCJwaT4nLFxuICAgICAgICAgICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uIChzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7IGFjdGlvbjogXCJpbml0aWFsaXNlX3JlZHJhd1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVFZGl0aW5nVGV4dChwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGZvcmNlIHNob3dpbmcgb2YgbG9hZGluZyBiYXIgYXMgaWYgd2UgcGxhY2UgZm5DYWxsYmFjayBhZnRlciB0aGUgdGFibGUgaXMgcG9wdWxhdGVkIGl0IGlzIHdpcGVkIHdoZW4gcmVmcmVzaGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgXCJfcHJvY2Vzc2luZ1wiKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiB2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U3VibWlzc2lvbnMocGFydFRhYmxlc1twYXJ0X2lkXSwgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHBhcnRfaWQsIDAsIHJlZnJlc2hSZXF1ZXN0ZWQsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiYlN0YXRlU2F2ZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwiZm5TdGF0ZVNhdmVcIjogZnVuY3Rpb24gKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhcnRfaWQgKyAnRGF0YVRhYmxlcycsIEpTT04uc3RyaW5naWZ5KG9EYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJmblN0YXRlU2F2ZVBhcmFtc1wiOiBmdW5jdGlvbiAob1NldHRpbmdzLCBvRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBvRGF0YS5hYlZpc0NvbHMgPSB2aXNpYmxlQ29scztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZm5TdGF0ZUxvYWRcIjogZnVuY3Rpb24gKG9TZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0ocGFydF9pZCArICdEYXRhVGFibGVzJykpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZm5TdGF0ZUxvYWRQYXJhbXNcIjogZnVuY3Rpb24gKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgb0RhdGEuYWJWaXNDb2xzID0gdmlzaWJsZUNvbHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0KCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEVkxhdW5jaGVycyhcImFsbFwiLCAwLCBwYXJ0X2lkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZVJlZnJlc2hSb3coXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVcGxvYWRCb3goXCJhbGxcIiwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VaaXBEb3dubG9hZHMocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDaGVja2JveGVzKDAsIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0oXCJhbGxcIiwgMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgICAgIC8vIFBvcHVsYXRlIFBlZXJtYXJrIFNlY3Rpb24gb2YgUGFydCBEZXRhaWxzLlxuICAgICAgICAgICAgcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMocGFydF9pZCwgMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICgkKCcubWVzc2FnZXNfYW1vdW50JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVmcmVzaFVzZXJNZXNzYWdlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVwb3NpdGlvbiBsaW5rcy9kaXZzLlxuICAgICAgICAkKCcudGlpX3RhYmxlX2Z1bmN0aW9ucycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoJ3RpaV90YWJsZV9mdW5jdGlvbnNfJylbMV07XG5cbiAgICAgICAgICAgIHZhciB0aWlfdGFibGVfZnVuY3Rpb25zID0gJChcIiN0aWlfdGFibGVfZnVuY3Rpb25zX1wiICsgcGFydF9pZCkuaHRtbCgpO1xuICAgICAgICAgICAgJCgnI3RpaV90YWJsZV9mdW5jdGlvbnNfJyArIHBhcnRfaWQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgJ19sZW5ndGgnKS5hZnRlcih0aWlfdGFibGVfZnVuY3Rpb25zKTtcbiAgICAgICAgICAgICQoJy5tZXNzYWdlc19pbmJveCcpLnNob3coKTtcblxuICAgICAgICAgICAgJCgnI3JlZnJlc2hfJyArIHBhcnRfaWQpLnNob3coKTtcbiAgICAgICAgICAgICQoJyNyZWZyZXNoaW5nXycgKyBwYXJ0X2lkKS5oaWRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB6aXBfZG93bmxvYWRzID0gJChcIi56aXBfZG93bmxvYWRzXCIpO1xuXG4gICAgICAgICQuZWFjaCh6aXBfZG93bmxvYWRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgnXycpWzFdO1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArICdfbGVuZ3RoJykuYWZ0ZXIoJCh0aGlzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICgkKFwiI3VzZXJfcm9sZVwiKS5odG1sKCkgPT0gXCJMZWFybmVyXCIpIHtcbiAgICAgICAgICAgICQoXCIuZGF0YVRhYmxlc19sZW5ndGgsIC5kYXRhVGFibGVzX2ZpbHRlciwgLmR0X3BhZ2luYXRpb25cIikuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgcmVmcmVzaCBzdWJtaXNzaW9ucyBsaW5rIGlzIGNsaWNrZWQsIHRoZSBkYXRhIGluIGVhY2ggZGF0YXRhYmxlIG5lZWRzIHRvIGJlIHJlbG9hZGVkLlxuICAgICAgICAkKFwiLnJlZnJlc2hfbGlua1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgJChcIi5yZWZyZXNoX2xpbmtcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIucmVmcmVzaGluZ19saW5rXCIpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hSZXF1ZXN0ZWRbJCh0aGlzKS5hdHRyKFwiaWRcIildID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcGFydFRhYmxlc1skKHRoaXMpLmF0dHIoXCJpZFwiKV0uZm5SZWxvYWRBamF4KCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRUYWJsZXNbJCh0aGlzKS5hdHRyKFwiaWRcIildLmZuU3RhbmRpbmdSZWRyYXcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3luYyBhbGwgZ3JhZGVzIGxpbmsgaW4gc2V0dGluZ3MgcGFnZS5cbiAgICAgICAgaWYgKCQoJyN0dXJuaXRpbl9zeW5jX2FsbF9ncmFkZXMnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcudHVybml0aW5fc3luY19ncmFkZXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcudHVybml0aW5fc3luY19ncmFkZXMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNpbmdfZ3JhZGVzJykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogXCJzeW5jX2FsbF9zdWJtaXNzaW9uc1wiLCBhc3NpZ25tZW50OiAkKCcjdHVybml0aW5fc3luY19hbGxfZ3JhZGVzJykuZGF0YSgndHVybml0aW50b29sdHdvaWQnKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNfZ3JhZGVzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNpbmdfZ3JhZGVzJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2l6ZSB3aW5kb3cgaWYgc3VibWlzc2lvbiBoYXMgZmFpbGVkLlxuICAgICAgICBpZiAoJCgnLnN1Ym1pc3Npb25fZmFpbHVyZV9tc2cnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50LiQoJy51cGxvYWRfYm94JykuY29sb3Jib3gucmVzaXplKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCI4MDBweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIyNDBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVucm9sIGFsbCBzdHVkZW50cyBsaW5rIG9uIHRoZSBlbnJvbGxlZCBzdHVkZW50cyBwYWdlLlxuICAgICAgICAkKFwiLmVucm9sX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIiNlbnJvbGxpbmdfZXJyb3JcIikuaGlkZSgpO1xuICAgICAgICAgICAgJChcIi5lbnJvbF9saW5rXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIuZW5yb2xsaW5nX2NvbnRhaW5lclwiKS5zaG93KCk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogXCJlbnJvbF9hbGxfc3R1ZGVudHNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXkgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmVucm9sX2xpbmtcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmVucm9sbGluZ19jb250YWluZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2Vucm9sbGluZ19lcnJvclwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBSdWJyaWMgTWFuYWdlci5cbiAgICAgICAgaWYgKCQoJy5ydWJyaWNfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcucnVicmljX21hbmFnZXJfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiODMycHhcIiwgaGVpZ2h0OiBcIjY4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfbWFuYWdlclwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBSdWJyaWMgZHJvcCBkb3duIGluIGFkZC91cGRhdGUgZm9ybS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImlkXCIpICE9ICdydWJyaWNfbWFuYWdlcl9pbmJveF9sYXVuY2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUnVicmljU2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBSdWJyaWMgVmlldy5cbiAgICAgICAgaWYgKCQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcucnVicmljX3ZpZXdfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiODMycHhcIiwgaGVpZ2h0OiBcIjY4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfdmlld1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgd2FybmluZyB3aGVuIGNoYW5naW5nIHRoZSBydWJyaWMgbGlua2VkIHRvIGFuIGFzc2lnbm1lbnQuXG4gICAgICAgICQoJyNpZF9ydWJyaWMsICNpZF9wbGFnaWFyaXNtX3J1YnJpYycpLm1vdXNlZG93bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJCgnaW5wdXRbbmFtZT1cImluc3RhbmNlXCJdJykudmFsKCkgIT0gJycgJiYgJCgnaW5wdXRbbmFtZT1cInJ1YnJpY193YXJuaW5nX3NlZW5cIl0nKS52YWwoKSAhPSAnWScpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28uY2hhbmdlcnVicmljd2FybmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInJ1YnJpY193YXJuaW5nX3NlZW5cIl0nKS52YWwoJ1knKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBRdWlja21hcmsgTWFuYWdlci5cbiAgICAgICAgaWYgKCQoJy5xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwIHx8ICQoJy5wbGFnaWFyaXNtX3R1cm5pdGluX3F1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJy5xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gsIC5wbGFnaWFyaXNtX3R1cm5pdGluX3F1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjc3MHB4XCIsIGhlaWdodDogXCI2MDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicXVpY2ttYXJrX21hbmFnZXJcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUGVlcm1hcmsgTWFuYWdlci5cbiAgICAgICAgaWYgKCQoJy50aWlfcGVlcm1hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiODAycHhcIiwgaGVpZ2h0OiBcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJwZWVybWFya19tYW5hZ2VyXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyhpZFN0clsyXSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUGVlcm1hcmsgUmV2aWV3cy5cbiAgICAgICAgaWYgKCQoJy50aWlfcGVlcm1hcmtfcmV2aWV3c19sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcudGlpX3BlZXJtYXJrX3Jldmlld3NfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiODAycHhcIiwgaGVpZ2h0OiBcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJwZWVybWFya19yZXZpZXdzXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIHR1cm5pdGluIG1lc3NhZ2UgaW5ib3guXG4gICAgICAgIGlmICgkKFwiLm1lc3NhZ2VzX2luYm94XCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoXCIubWVzc2FnZXNfaW5ib3hcIikuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiNzcycHhcIiwgaGVpZ2h0OiBcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJtZXNzYWdlc1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIiwgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIGZvcm0gdG8gbWVzc2FnZSBub24gc3VibWl0dGVycy5cbiAgICAgICAgaWYgKCQoXCIubm9uc3VibWl0dGVyc19saW5rXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoXCIubm9uc3VibWl0dGVyc19saW5rXCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjc0MHB4XCIsIGhlaWdodDogXCI1NDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwibm9uc3VibWl0dGVyc1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIiwgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzaXplIHdpbmRvdyB3aGVuIGVtYWlsIGhhcyBiZWVuIHNlbnQuXG4gICAgICAgIGlmICgkKCcubm9uc3VibWl0dGVyc2Zvcm1zdWNjZXNzbXNnJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQuJCgnLm5vbnN1Ym1pdHRlcnMnKS5jb2xvcmJveC5yZXNpemUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjc0MHB4XCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEyMHB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIEVtYWlsIG5vbiBzdWJtaXR0ZXJzIGZvcm0uXG4gICAgICAgIGlmICgkKCcucnVicmljX3ZpZXdfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgzMnB4XCIsIGhlaWdodDogXCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIHRoZSBEViBpbiBhIG5ldyB3aW5kb3cgaW4gc3VjaCBhIHdheSBhcyB0byBub3QgYmUgYmxvY2tlZCBieSBwb3B1cHMuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZGVmYXVsdF9vcGVuLCAub3JpZ3JlcG9ydF9vcGVuLCAuZ3JhZGVtYXJrX29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcHJvY2VlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICB2YXIgZHVlX2RhdGUgPSAkKCcjZGF0ZV9kdWVfJyArIGlkU3RyWzJdKS5odG1sKCk7XG4gICAgICAgICAgICB2YXIgZHVlX2RhdGVfdW5peCA9IG1vbWVudChkdWVfZGF0ZSkudW5peCgpO1xuXG4gICAgICAgICAgICB2YXIgZHZ0eXBlID0gaWRTdHJbMF07XG4gICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZCA9IGlkU3RyWzFdO1xuICAgICAgICAgICAgdmFyIHBhcnRfaWQgPSBpZFN0clsyXTtcblxuICAgICAgICAgICAgLy8gU2hvdyByZXN1Ym1pc3Npb24gZ3JhZGUgd2FybmluZyBpZiB0aGUgZHVlIGRhdGUgaGFzIG5vdCBwYXNzZWQuXG4gICAgICAgICAgICBpZiAoZHVlX2RhdGVfdW5peCA+IG1vbWVudCgpLnVuaXgoKSkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdncmFkZWRfd2FybmluZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28ucmVzdWJtaXNzaW9uZ3JhZGV3YXJuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvY2VlZCkge1xuICAgICAgICAgICAgICAgIGR2V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9hZGluZyA9ICc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+JztcbiAgICAgICAgICAgICAgICBsb2FkaW5nICs9ICc8aW1nIHNyYz1cIicgKyBNLmNmZy53d3dyb290ICsgJy9tb2QvdHVybml0aW50b29sdHdvL3BpeC90aWlJY29uLnN2Z1wiIHN0eWxlPVwid2lkdGg6MTAwcHg7IGhlaWdodDogMTAwcHhcIj4nO1xuICAgICAgICAgICAgICAgIGxvYWRpbmcgKz0gJzxwIHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by5sb2FkaW5nZHYgKyAnPC9wPic7XG4gICAgICAgICAgICAgICAgbG9hZGluZyArPSAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAkKGR2V2luZG93LmRvY3VtZW50LmJvZHkpLmh0bWwobG9hZGluZyk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgaHRtbCB0byBsYXVuY2ggRFYuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogZHZ0eXBlLCBzdWJtaXNzaW9uOiBzdWJtaXNzaW9uX2lkLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChkdldpbmRvdy5kb2N1bWVudC5ib2R5KS5odG1sKGxvYWRpbmcgKyBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR2V2luZG93LmRvY3VtZW50LmZvcm1zWzBdLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHZXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tEVkNsb3NlZChwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJChcIiNpZF9ydWJyaWMsICNpZF9wbGFnaWFyaXNtX3J1YnJpY1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZWZyZXNoUnVicmljU2VsZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdmVycmlkZSBhbnkgdGhlbWUgdGhhdCBwdXRzIGEgYmFja2dyb3VuZCBvbiB0aGUgaHRtbCBlbGVtZW50IHdoaWNoIGdldHMgc2V0IG9uIGFuIGlmcmFtZS5cbiAgICAgICAgaWYgKHNlbGYgIT0gdG9wICYmICQoJyN2aWV3X2NvbnRleHQnKS5odG1sKCkgPT0gJ2JveCcpIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5jc3MoJ2JhY2tncm91bmQnLCAnbm9uZScpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYgIT0gdG9wICYmICQoJyN2aWV3X2NvbnRleHQnKS5odG1sKCkgPT0gJ2JveF9zb2xpZCcpIHtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5jc3MoJ2JhY2tncm91bmQnLCAnI0ZGRicpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmVkaXRhYmxlX3Bvc3RkdWUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2Fub24nKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoTS5zdHIudHVybml0aW50b29sdHdvLnBvc3RkYXRlX3dhcm5pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJCgnLmVkaXRhYmxlX3RleHQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLm1vZGUgPSAnaW5saW5lJztcbiAgICAgICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMudXJsID0gJ2FqYXgucGhwJztcbiAgICAgICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMub25ibHVyID0gJ3N1Ym1pdCc7XG4gICAgICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLnNob3didXR0b25zID0gZmFsc2U7XG4gICAgICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLmFqYXhPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSh7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdpZCcpLmluZGV4T2YoXCJtYXJrc19cIikgPj0gMCAmJiAoTWF0aC5mbG9vcih2YWx1ZSkgIT0gdmFsdWUgfHwgISQuaXNOdW1lcmljKHZhbHVlKSB8fCB2YWx1ZS5pbmRleE9mKFwiLlwiKSAhPSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNLnN0ci50dXJuaXRpbnRvb2x0d28ubWF4bWFya3NlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5tc2c7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZmllbGQgPT0gXCJtYXhtYXJrc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcmVmcmVzaF8nICsgcmVzcG9uc2UucGFydGlkKS5jbGljaygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGdyYWRlYm9vay5cbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBNLmNmZy53d3dyb290ICsgXCIvbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogXCJzeW5jX2FsbF9zdWJtaXNzaW9uc1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5maWVsZCA9PSBcInBhcnRuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJJZCA9ICQodGhpcykucGFyZW50c1VudGlsKCcudWktdGFicy1wYW5lbCcpLnBhcmVudCgpLmF0dHIoJ2FyaWEtbGFiZWxsZWRieScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyB0YWJJZCkudGV4dChuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCQoJyNleHBvcnRfb3B0aW9ucycpLmhhc0NsYXNzKCd0aWlfZXhwb3J0X29wdGlvbnNfaGlkZScpKSB7XG4gICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5leHBvcnRfZGF0YScpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZW1wdHktZGFzaFwiPi0tPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcuZWRpdGFibGVfcG9zdGR1ZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiAnY2hlY2tfYW5vbicsIHBhcnQ6ICR0aGlzLmRhdGEoJ3BrJyksIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdhbm9uJywgZGF0YVsnYW5vbiddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3VuYW5vbicsIGRhdGFbJ3VuYW5vbiddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3N1Ym1pdHRlZCcsIGRhdGFbJ3N1Ym1pdHRlZCddKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlJykuZWRpdGFibGUoe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2NvbWJvZGF0ZScsXG4gICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdZWVlZLU1NLUREIEhIOm1tJyxcbiAgICAgICAgICAgICAgICAndmlld2Zvcm1hdCc6ICdEIE1NTSBZWVlZLCBISDptbScsXG4gICAgICAgICAgICAgICAgJ3RlbXBsYXRlJzogJ0QgTU1NIFlZWVkgIEhIOm1tJyxcbiAgICAgICAgICAgICAgICAnY29tYm9kYXRlJzoge1xuICAgICAgICAgICAgICAgICAgICAnbWludXRlU3RlcCc6IDEsXG4gICAgICAgICAgICAgICAgICAgICdtaW5ZZWFyJzogMjAwMCxcbiAgICAgICAgICAgICAgICAgICAgJ21heFllYXInOiB0aGVEYXRlLmdldEZ1bGxZZWFyKCkgKyAyLFxuICAgICAgICAgICAgICAgICAgICAnc21hcnREYXlzJzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuZm9ybWF0KFwiWFwiKSA8IG1vbWVudCgpLnVuaXgoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oYXNDbGFzcygnZWRpdGFibGVfcG9zdGR1ZScpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ2Fub24nKSA9PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3VuYW5vbicpID09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnc3VibWl0dGVkJykgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKE0uc3RyLnR1cm5pdGludG9vbHR3by5kaXNhYmxlYW5vbmNvbmZpcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVkaXRhYmxlLW9wZW4nKS5lZGl0YWJsZUNvbnRhaW5lcignaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpb24gb25seSBmYWlscyBpZiBzdHJpbmcgaXMgcmV0dXJuZWQgKFdlIG5lZWQgYSBzdHJpbmcpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UubXNnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JlZnJlc2hfJyArIHJlc3BvbnNlLnBhcnRpZCkuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmV4cG9ydF9vcHRpb24gPT0gXCJ0aWlfZXhwb3J0X29wdGlvbnNfaGlkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5leHBvcnRfZGF0YScpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZW1wdHktZGFzaFwiPi0tPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZW1wdHktZGFzaCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZWRpdGFibGUtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgb3RoZXIgZWRpdGFibGUgZmllbGRzICYgR3JhZGluZyB0ZW1wbGF0ZSBzdWJtaXNzaW9ucyB3aGVuIGFuIGVkaXRhYmxlIGZvcm0gaXMgb3BlbmVkLlxuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykub24oJ3Nob3duJywgZnVuY3Rpb24gKGUsIGVkaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAoJCh0aGlzKS5wcm9wKCdpZCcpKTtcbiAgICAgICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5ub3QoJyMnICsgY3VycmVudCkuZWRpdGFibGUoJ2Rpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAkKCcuc3VibWl0X25vdGhpbmcnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBFbmFibGUgb3RoZXIgZWRpdGFibGUgZmllbGRzICYgR3JhZGluZyB0ZW1wbGF0ZSBzdWJtaXNzaW9ucyB3aGVuIGFuIGVkaXRhYmxlIGZvcm0gaXMgY2xvc2VkLlxuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykub24oJ2hpZGRlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9ICgkKHRoaXMpLnByb3AoJ2lkJykpO1xuICAgICAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm5vdCgnIycgKyBjdXJyZW50KS5lZGl0YWJsZSgnZW5hYmxlJyk7XG4gICAgICAgICAgICAgICAgJCgnLnN1Ym1pdF9ub3RoaW5nJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNpbmJveF9mb3JtIGZvcm0sIC5sYXVuY2hfZm9ybSBmb3JtJykuc3VibWl0KCk7XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIEVVTEEgLlxuICAgICAgICBpZiAoJCgnLnR1cm5pdGluX2V1bGFfbGluaycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJy50dXJuaXRpbl9ldWxhX2xpbmsnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLCB3aWR0aDogXCI3NjZweFwiLCBoZWlnaHQ6IFwiNTk2cHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImV1bGFfdmlld1wiLCBzY3JvbGxpbmc6IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHsgZ2V0TG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKFwibWVzc2FnZVwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gdHlwZW9mIGV2LmRhdGEgPT09ICd1bmRlZmluZWQnID8gZXYub3JpZ2luYWxFdmVudC5kYXRhIDogZXYuZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBtYWtlIGFqYXggcmVxdWVzdCBpZiBtZXNzYWdlIGlzIG9uZSBvZiB0aGUgZXhwZWN0ZWQgcmVzcG9uc2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT0gJ3R1cm5pdGluX2V1bGFfZGVjbGluZWQnIHx8IG1lc3NhZ2UgPT0gJ3R1cm5pdGluX2V1bGFfYWNjZXB0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcImFjY2VwdHVzZXJhZ3JlZW1lbnRcIiwgbWVzc2FnZTogbWVzc2FnZSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbmFibGUgdGhlIGVkaXRpbmcgZmllbGRzIGluIHRoZSBpbmJveCBwYXJ0cyB0YWJsZS5cbiAgICAgICAgZnVuY3Rpb24gZW5hYmxlRWRpdGluZ1RleHQocGFydF9pZCkge1xuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV9kYXRlLCAjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSgnZW5hYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNhYmxlIHRoZSBlZGl0aW5nIGZpZWxkcyBpbiB0aGUgaW5ib3ggcGFydHMgdGFibGUuXG4gICAgICAgIGZ1bmN0aW9uIGRpc2FibGVFZGl0aW5nVGV4dChwYXJ0X2lkKSB7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX2RhdGUsICN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfdGV4dCcpLmVkaXRhYmxlKCdkaXNhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRMb2FkaW5nR2lmKCkge1xuICAgICAgICAgICAgdmFyIGltZyA9ICc8ZGl2IGNsYXNzPVwibG9hZGluZ19naWZcIj48L2Rpdj4nO1xuICAgICAgICAgICAgJCgnI2Nib3hPdmVybGF5JykuYWZ0ZXIoaW1nKTtcbiAgICAgICAgICAgIHZhciB0b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAoJCh3aW5kb3cpLmhlaWdodCgpIC8gMik7XG4gICAgICAgICAgICAkKCcubG9hZGluZ19naWYnKS5jc3MoJ3RvcCcsIHRvcCArICdweCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaGlkZUxvYWRpbmdHaWYoKSB7XG4gICAgICAgICAgICAkKCcubG9hZGluZ19naWYnKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFN1Ym1pc3Npb25zKHRhYmxlLCBhc3NpZ25tZW50X2lkLCBwYXJ0X2lkLCBzdGFydCwgcmVmcmVzaF9yZXF1ZXN0ZWQsIHRvdGFsKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJhc3luY1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJnZXRfc3VibWlzc2lvbnNcIiwgYXNzaWdubWVudDogYXNzaWdubWVudF9pZCwgcGFydDogcGFydF9pZCwgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoX3JlcXVlc3RlZDogcmVmcmVzaF9yZXF1ZXN0ZWRbcGFydF9pZF0sIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksIHRvdGFsOiB0b3RhbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHJlc3VsdC5lbmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5hYURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuZm5BZGREYXRhKHJlc3VsdC5hYURhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lbmQgPCByZXN1bHQudG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFN1Ym1pc3Npb25zKHRhYmxlLCBhc3NpZ25tZW50X2lkLCBwYXJ0X2lkLCBzdGFydCwgcmVmcmVzaF9yZXF1ZXN0ZWQsIHJlc3VsdC50b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyBcIl9wcm9jZXNzaW5nXCIpLmF0dHIoJ3N0eWxlJywgJ3Zpc2liaWxpdHk6IGhpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoX3JlcXVlc3RlZFtwYXJ0X2lkXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxscmVmcmVzaGVkID0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlZnJlc2hfcmVxdWVzdGVkLCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxscmVmcmVzaGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbHJlZnJlc2hlZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlZnJlc2hpbmdfbGluaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucmVmcmVzaF9saW5rJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRWaXNpYmlsaXR5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUVkaXRpbmdUZXh0KHBhcnRfaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmFibGUgRW1haWwgbm9uIHN1Ym1pdHRlcnMgbGluayBpZiB0aGVyZSBpcyBhbnkgbm9uIHN1Ym1pdHRlcnMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm5vbnN1Ym1pdHRlcnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm5vbnN1Ym1pdHRlcnNfbGluaycpLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZnVuY3Rpb24gKGRhdGEsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX2VtcHR5JykuaHRtbChNLnN0ci50dXJuaXRpbnRvb2x0d28udGlpc3VibWlzc2lvbnNnZXRlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IG9yIGhpZGUgdGhlIHN1Ym1pc3Npb24gbGluayBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgRVVMQSBoYXMgYmVlbiBhY2NlcHRlZC5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0VmlzaWJpbGl0eSgpIHtcbiAgICAgICAgICAgIGlmICgoJChcIi51cGxvYWRfYm94XCIpLmRhdGEoXCJ1c2VyLXR5cGVcIikgPT0gMSkgfHwgKCQoXCIudXBsb2FkX2JveFwiKS5kYXRhKFwiZXVsYVwiKSA9PSAxKSkge1xuICAgICAgICAgICAgICAgICQoXCIudXBsb2FkX2JveFwiKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZF9ib3hcIikuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBydWJyaWNzIGJlbG9uZ2luZyB0byBhIHVzZXIgZnJvbSBUdXJuaXRpbiBhbmQgcmVmcmVzaCBtZW51IGFjY29yZGluZ2x5LlxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoUnVicmljU2VsZWN0KCkge1xuICAgICAgICAgICAgdmFyIHJ1YnJpY0VsZW1lbnRJZCA9ICgkKCcjaWRfcnVicmljJykubGVuZ3RoKSA/ICcjaWRfcnVicmljJyA6ICcjaWRfcGxhZ2lhcmlzbV9ydWJyaWMnO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRSdWJyaWMgPSAkKHJ1YnJpY0VsZW1lbnRJZCkudmFsKCk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcIi4uL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVmcmVzaF9ydWJyaWNfc2VsZWN0XCIsIGFzc2lnbm1lbnQ6ICQoJ2lucHV0W25hbWU9XCJpbnN0YW5jZVwiXScpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVuYW1lOiAkKCdpbnB1dFtuYW1lPVwibW9kdWxlbmFtZVwiXScpLnZhbCgpLCBjb3Vyc2U6ICQoJ2lucHV0W25hbWU9XCJjb3Vyc2VcIl0nKS52YWwoKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgkKHJ1YnJpY0VsZW1lbnRJZCkpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uIChpLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJC5pc051bWVyaWMoaSkgJiYgaSAhPT0gXCJcIikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGdyb3VwID0gJCgnPG9wdGdyb3VwPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwLmF0dHIoJ2xhYmVsJywgaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2godmFsLCBmdW5jdGlvbiAoaiwgcnVicmljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSAkKFwiPG9wdGlvbj48L29wdGlvbj5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWwoaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0KHJ1YnJpYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXAuYXBwZW5kKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJ1YnJpY0VsZW1lbnRJZCkuYXBwZW5kKG9wdGdyb3VwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCQocnVicmljRWxlbWVudElkKSkuYXBwZW5kKCQoJzxvcHRpb24+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkKHJ1YnJpY0VsZW1lbnRJZCArICcgb3B0aW9uW3ZhbHVlPVwiJyArIGN1cnJlbnRSdWJyaWMgKyAnXCJdJykuYXR0cihcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBudW1iZXIgb2YgbWVzc2FnZXMgaW4gdGhlIHVzZXIncyBUdXJuaXRpbiBpbmJveC5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFVzZXJNZXNzYWdlcygpIHtcbiAgICAgICAgICAgICQoJy5tZXNzYWdlc19sb2FkaW5nJykuc2hvdygpO1xuICAgICAgICAgICAgJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmh0bWwoJycpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHsgYWN0aW9uOiBcInJlZnJlc2hfdXNlcl9tZXNzYWdlc1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlc19sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXNfYW1vdW50JykuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhpZGUgUGVlcm1hcmsgYXNzaWdubWVudHMgZm9yIHJlZnJlc2hpbmcuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0UGVlcm1hcmtTZWN0aW9uKHBhcnRfaWQpIHtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAudG9nZ2xlX3BlZXJtYXJrcycpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfY291bnQnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmstbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgUGVlcm1hcmsgQXNzaWdubWVudHMgZnJvbSBUdXJuaXRpbiBhbmQgc2hvdyBpbiBQYXJ0IERldGFpbHMgc2VjdGlvbiBvZiBpbmJveC5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMocGFydF9pZCwgcmVmcmVzaF9yZXF1ZXN0ZWQpIHtcblxuICAgICAgICAgICAgdmFyIHVzZXJfcm9sZSA9ICgkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkgPyAnSW5zdHJ1Y3RvcicgOiAnTGVhcm5lcidcblxuICAgICAgICAgICAgaWYgKCQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgcmVzZXRQZWVybWFya1NlY3Rpb24ocGFydF9pZCk7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVmcmVzaF9wZWVybWFya19hc3NpZ25tZW50c1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnRfaWQsIHJlZnJlc2hfcmVxdWVzdGVkOiByZWZyZXNoX3JlcXVlc3RlZCwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuaHRtbChkYXRhLnBlZXJtYXJrX3RhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFyay1sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19jb3VudCcpLmh0bWwoZGF0YS5ub19vZl9wZWVybWFya3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub19vZl9wZWVybWFya3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC50b2dnbGVfcGVlcm1hcmtzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnRvZ2dsZV9wZWVybWFya3MnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZGF0YS5ub19vZl9wZWVybWFya3MgPiAwICYmIHVzZXJfcm9sZSA9PSAnSW5zdHJ1Y3RvcicpIHx8IChkYXRhLnBlZXJtYXJrc19hY3RpdmUgJiYgdXNlcl9yb2xlID09ICdMZWFybmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnJvd19wZWVybWFya19yZXZpZXdzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIgJiYgZGF0YS5ub19vZl9wZWVybWFya3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBsaWdodCBib3ggd2l0aCBmb3JtIHRvIHJldmVhbCB0aGUgc3R1ZGVudCdzIG5hbWUgb24gYW4gYW5vbnltaXNlZCBzdWJtaXNzaW9uLlxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0oc2NvcGUsIGFzc2lnbm1lbnRfaWQsIHN1Ym1pc3Npb25faWQpIHtcbiAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gJ2EudW5hbm9ueW1pc2UnO1xuICAgICAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChpZGVudGlmaWVyKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLCB3aWR0aDogXCI1MCVcIiwgdG9wOiBcIjEwMHB4XCIsIGhlaWdodDogXCIyNjBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwidGlpX3VuYW5vbnltaXNlX3JldmVhbF9mb3JtXCIsXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkID09IDAgfHwgc3VibWlzc2lvbl9pZCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXNzaW9uX2lkID0gaWRTdHJbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2lnbm1lbnRfaWQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudF9pZCA9ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc3VibWlzc2lvbl9pZFwiKS5odG1sKHN1Ym1pc3Npb25faWQpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjY2JveExvYWRlZENvbnRlbnQgLnVuYW5vbnltaXNlX2Zvcm0nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9yZXZlYWwnKS51bmJpbmQoXCJjbGlja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3JldmVhbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwicmV2ZWFsX3N1Ym1pc3Npb25fbmFtZVwiLCBhc3NpZ25tZW50OiBhc3NpZ25tZW50X2lkLCBzdWJtaXNzaW9uX2lkOiBzdWJtaXNzaW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IGVuY29kZVVSSUNvbXBvbmVudCgkKFwiI2lkX2Fub255bW91c19yZXZlYWxfcmVhc29uXCIpLnZhbCgpKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNvbG9yYm94LmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5hdHRyKCdocmVmJywgTS5jZmcud3d3cm9vdCArIFwiL3VzZXIvdmlldy5waHA/aWQ9XCIgKyBkYXRhLnVzZXJpZCArIFwiJmNvdXJzZT1cIiArIGRhdGEuY291cnNlaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N1Ym1pc3Npb25fJyArIHN1Ym1pc3Npb25faWQpLmh0bWwoZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5yZW1vdmVDbGFzcygndW5hbm9ueW1pc2UgY2JveEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X21zZyA9ICQoJyN1bmFub255bWlzZV9kZXNjJykuaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN1bmFub255bWlzZV9kZXNjJykuaHRtbChjdXJyZW50X21zZyArIFwiIFwiICsgZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy51bmFub255bWlzZV9mb3JtJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZVVwbG9hZEJveChzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBcIi51cGxvYWRfYm94XCI7XG4gICAgICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBcIiN1cGxvYWRfXCIgKyBzdWJtaXNzaW9uX2lkICsgXCJfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29sb3JCb3hXaWR0aCA9IFwiODAlXCI7XG4gICAgICAgICAgICB2YXIgY29sb3JCb3hIZWlnaHQgPSBcIjgwJVwiO1xuXG4gICAgICAgICAgICAkKGlkZW50aWZpZXIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uICgpIHsgaGlkZUxvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoSW5ib3hSb3coXCJ1cGxvYWRcIiwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IGNvbG9yQm94V2lkdGgsIGhlaWdodDogY29sb3JCb3hIZWlnaHQsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJ1cGxvYWRcIiwgdHJhbnNpdGlvbjogXCJub25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGlzZSB0aGUgZXZlbnRzIHRvIG9wZW4gdGhlIHppcCBmaWxlcyBjb250YWluZWQgaW4gdGhlIHBhcnQgZGV0YWlscyBpbmZvcm1hdGlvbiB0YWJsZTpcbiAgICAgICAgLy8gSW5ib3ggaW4gWExTIGZvcm1hdFxuICAgICAgICAvLyBaSVAgY29udGFpbmluZyBhbGwgZmlsZXMgYXMgUERGc1xuICAgICAgICAvLyBaSVAgY29udGFpbmluZyBhbGwgZmlsZXMgaW4gb3JpZ2luYWwgZm9ybWF0LlxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlWmlwRG93bmxvYWRzKHBhcnRfaWQpIHtcbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGRmX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnhsc19pbmJveF9vcGVuJykudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgICAgIC8vIE9wZW4gYSBzcHJlYWRzaGVldCBvciBhIHppcCBmaWxlIGNvbnRhaW5pbmcgYWxsIHRoZSByZWxldmFudCBkYXRhLlxuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnBkZl96aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC54bHNfaW5ib3hfb3BlbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgZG93bmxvYWRaaXBGaWxlKGlkU3RyWzBdICsgXCJfXCIgKyBpZFN0clsxXSwgaWRTdHJbMl0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCB3aGljaCByZXF1ZXN0cyBhbGwgdGhlIHN1Ym1pc3Npb25zIGFzIHBkZnMgZnJvbSBUdXJuaXRpbi5cbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZG93bmxvYWRwZGZfYm94JykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiNDAlXCIsIGhlaWdodDogXCI2MCVcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImRvd25sb2FkcGRmX3dpbmRvd1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IHdoaWNoIHJlcXVlc3RzIHNlbGVjdGVkIHN1Ym1pc3Npb25zIGFzIHBkZnMgZnJvbSBUdXJuaXRpbi5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdGFicy0nICsgcGFydF9pZCArICcgLmdtcGRmemlwX2JveCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgICAgIG9wZW46IHRydWUsIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiNzg2cHhcIiwgaGVpZ2h0OiBcIjMwMHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJnbXBkZnppcF93aW5kb3dcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXNzaW9uX2lkcyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uX2lkcyArPSBcIiZzdWJtaXNzaW9uX2lkXCIgKyBpICsgXCI9XCIgKyAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5hdHRyKCdocmVmJykgKyBzdWJtaXNzaW9uX2lkcztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7IGdldExvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7IGhpZGVMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoVXNlck1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwidGlpX2Nsb3NlX2JhclwiPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cImpRdWVyeShcXCcjY2JveENsb3NlXFwnKS5jbGljaygpOyByZXR1cm4gZmFsc2U7XCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by5jbG9zZWJ1dHRvbiArICc8L2E+PC9kaXY+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlRGlnaXRhbFJlY2VpcHQoKSB7XG4gICAgICAgICAgICBpZiAoJCgnLnRpaV9kaWdpdGFsX3JlY2VpcHQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnLnRpaV9kaWdpdGFsX3JlY2VpcHQnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiODMycHhcIiwgaGVpZ2h0OiBcIjQ4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfdmlld1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICQoJyN0aWlfcmVjZWlwdF9wcmludCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlSGlkZGVuWmlwRG93bmxvYWRzKHBhcnRfaWQpIHtcbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdjaGVja2VkX3ppcF9vcGVuJykudW5iaW5kKFwiY2xpY2tcIik7XG4gICAgICAgICAgICAvLyBTZXBlcmF0ZSBiaW5kZXIgZm9yIGhpZGRlbiB6aXAgZmlsZSBsaW5rLlxuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgZG93bmxvYWRaaXBGaWxlKGlkU3RyWzBdICsgXCJfXCIgKyBpZFN0clsxXSwgcGFydF9pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlUmVmcmVzaFJvdyhzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBcIi5yZWZyZXNoX3JvdyAuZmEtcmVmcmVzaFwiO1xuICAgICAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gXCIjcmVmcmVzaHJvd19cIiArIHN1Ym1pc3Npb25faWQgKyAnXycgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgLmZhLXJlZnJlc2hcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgICQoaWRlbnRpZmllcikudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgICAgICQoaWRlbnRpZmllcikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5mYS1zcGlubmVyJykuY3NzKFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKS5hZGRDbGFzcygnZmEtbGcnKTtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KGlkU3RyWzBdLCBpZFN0clsxXSwgaWRTdHJbMl0sIGlkU3RyWzNdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGlzZSB0aGUgZXZlbnRzIHRvIG9wZW4gdGhlIGRvY3VtZW50IHZpZXdlciBhcyB0aGUgbGlua3MgYXJlIGxvYWRlZCBhZnRlciB0aGUgcGFnZS5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZURWTGF1bmNoZXJzKHNjb3BlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllciA9ICcjJyArIHBhcnRfaWQgKyAnIC5kb3dubG9hZF9vcmlnaW5hbF9vcGVuJztcbiAgICAgICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllciA9ICcjZG93bmxvYWRvcmlnaW5hbF8nICsgc3VibWlzc2lvbl9pZCArICdfJyArIHBhcnRfaWQgKyAnXycgKyB1c2VyX2lkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgJChpZGVudGlmaWVyKS51bmJpbmQoXCJjbGlja1wiKTtcblxuICAgICAgICAgICAgJChpZGVudGlmaWVyKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIC8vIERvbid0IG9wZW4gT1IgRFYgaWYgc2NvcmUgaXMgcGVuZGluZy5cbiAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuY2hpbGRyZW4oJy5zY29yZV9jb2xvdXInKS5oYXNDbGFzcygnc2NvcmVfY29sb3VyXycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkT3JpZ2luYWxGaWxlKGlkU3RyWzBdLCBpZFN0clsxXSwgaWRTdHJbMl0sIGlkU3RyWzNdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFB1dCB0aGUgZm9ybSBpbiB0byB0aGUgc3VibWlzc2lvbnMgdGFibGUgcm93IGFuZCBzdWJtaXQgaXQuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBkb3dubG9hZCB0aGUgcmVsZXZhbnQgemlwIGZpbGUuXG4gICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkWmlwRmlsZShkb3dubG9hZHR5cGUsIHBhcnRfaWQpIHtcbiAgICAgICAgICAgIHZhciBzdWJtaXNzaW9uX2lkcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoZG93bmxvYWR0eXBlID09IFwib3JpZ2NoZWNrZWRfemlwXCIgfHwgZG93bmxvYWR0eXBlID09IFwiZ21wZGZfemlwXCIpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25faWRzW2ldID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IGRvd25sb2FkdHlwZSwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHBhcnQ6IHBhcnRfaWQsIHN1Ym1pc3Npb25faWRzOiBzdWJtaXNzaW9uX2lkcyB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNcIiArIGRvd25sb2FkdHlwZSArIFwiX2Zvcm1fXCIgKyBwYXJ0X2lkKS5jaGlsZHJlbihcImZvcm1cIikuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuaHRtbChcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFB1dCB0aGUgZm9ybSBpbiB0byB0aGUgc3VibWlzc2lvbnMgdGFibGUgcm93IGFuZCBzdWJtaXQgaXQuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBkb3dubG9hZCB0aGUgcmVsZXZhbnQgb3JpZ2luYWwgZmlsZS5cbiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRPcmlnaW5hbEZpbGUoZHZ0eXBlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgICAgICAvLyBHZXQgaHRtbCB0byBsYXVuY2ggRFYuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IGR2dHlwZSwgc3VibWlzc2lvbjogc3VibWlzc2lvbl9pZCwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkdnR5cGUgKyBcIl9mb3JtX1wiICsgc3VibWlzc2lvbl9pZCkuY2hpbGRyZW4oXCJmb3JtXCIpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmh0bWwoXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBEViBpcyBzdGlsbCBvcGVuLCByZWZyZXNoIHRoZSBvcGVuaW5nIHdpbmRvdyB3aGVuIGl0IGNsb3Nlcy5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tEVkNsb3NlZChwYXJ0X2lkKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmR2V2luZG93LmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICQoXCIjcmVmcmVzaF9cIiArIHBhcnRfaWQpLmNsaWNrKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RWQ2xvc2VkKHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWF0ZSBhIG5vdGhpbmcgc3VibWlzc2lvbi5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0Tm90aGluZyh1c2VyX2lkLCBwYXJ0X2lkKSB7XG4gICAgICAgICAgICAkKFwiI3N1Ym1pdG5vdGhpbmdfMF9cIiArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQgKyBcIiBpXCIpLmF0dHIoJ2NsYXNzJywgJ2ZhIGZhLXNwaW4gZmEtc3Bpbm5lciBmYS1sZycpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwic3VibWl0X25vdGhpbmdcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnRfaWQsIHVzZXI6IHVzZXJfaWQsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICQuY29va2llKCdzdWJtaXRub3RoaW5nYWNjZXB0JywgdHJ1ZSwgeyBleHBpcmVzOiAzNjUgfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJ3RhYmxlIycgKyBwYXJ0X2lkICsgJyAuc2VsZWN0X2FsbF9jaGVja2JveCcpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgaVwiKS5hdHRyKCdjbGFzcycsICdmYSBmYS1wZW5jaWwgZmEtbGcnKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KCdzdWJtaXRub3RoaW5nJywgMCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWZyZXNoIGEgcm93IGluIHRoZSBpbmJveCBhZnRlciBhIHN1Ym1pc3Npb24gaGFzIGJlZW4gbWFkZSBvciBEViBjbG9zZWQuXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hJbmJveFJvdyhsaW5rLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZWZyZXNoX3N1Ym1pc3Npb25fcm93XCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCB1c2VyOiB1c2VyX2lkLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkKCd0YWJsZSMnICsgcGFydF9pZCArICcgLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgKz0gXCJfMFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbl9pZCA9IGRhdGEuc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN1Ym1pc3Npb25faWQgPT0gbnVsbCAmJiBzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rICsgXCJfXCIgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluayA9IGxpbmsgKyBcIl9cIiArIGRhdGEuc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IGV4cG9ydCBsaW5rcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9saW5rcycpLnJlbW92ZUNsYXNzKCdoaWRkZW5fY2xhc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgcm93IGFuZCByZS1hZGQuXG4gICAgICAgICAgICAgICAgICAgIG9UYWJsZSA9ICQoJ3RhYmxlIycgKyBwYXJ0X2lkKS5kYXRhVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gJChcIiNcIiArIGxpbmsgKyBcIl9cIiArIHBhcnRfaWQgKyAnXycgKyB1c2VyX2lkKS5wYXJlbnQoKS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd2luZGV4ID0gdHIuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgb1RhYmxlLmZuRGVsZXRlUm93KHRyKTtcbiAgICAgICAgICAgICAgICAgICAgb1RhYmxlLmZuQWRkRGF0YShkYXRhLnJvdyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0VmlzaWJpbGl0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVcGxvYWRCb3goXCJyb3dcIiwgZGF0YS5zdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZURWTGF1bmNoZXJzKFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VSZWZyZXNoUm93KFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDaGVja2JveGVzKGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVbmFub3ltaXNlRm9ybShcInJvd1wiLCAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZGF0YS5zdWJtaXNzaW9uX2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgZG93bmxvYWQgbGlua3Mgd2hlbiBjaGVja2JveGVzIGhhdmUgYmVlbiB0aWNrZWQuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VDaGVja2JveGVzKHN1Ym1pc3Npb25faWQsIHBhcnRfaWQpIHtcbiAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3gnO1xuICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgIT0gMCkge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSAnY2hlY2tfJyArIHN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCgndGFibGUjJyArIHBhcnRfaWQgKyAnIC5zZWxlY3RfYWxsX2NoZWNrYm94JykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBpZGVudGlmaWVyICsgJywgLnNlbGVjdF9hbGxfY2hlY2tib3gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VIaWRkZW5aaXBEb3dubG9hZHMocGFydF9pZClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdjaGVja2VkX3ppcF9vcGVuJykudW5iaW5kKCdjbGljaycpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IHRoZSBkYXRlIGFuZCBtYXJrcyBvcHRpb25zIGZvciB0aGUgcmVsZXZhbnQgbnVtYmVyIG9mIHBhcnRzIHdoZW4gY3JlYXRpbmcvZWRpdGluZyBhc3NpZ25tZW50LlxuICAgICAgICBmdW5jdGlvbiBzaG93UGFydERhdGVzQm94ZXMoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA8PSAkKFwiI2lkX251bXBhcnRzXCIpLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cInBhcnRkYXRlcycgKyBpICsgJ1wiXScpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cInBhcnRkYXRlcycgKyBpICsgJ1wiXScpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkKCcuc2VsZWN0X2FsbF9jaGVja2JveCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuYXR0cignaWQnKTtcblxuICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBpZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICgkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIGlkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldHRpbmdzIHBhZ2UgcGFydHMgd2FybmluZy5cbiAgICAgICAgJCgnW2lkXj1maXRlbV9pZF9kdHBvc3RdIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBHZXQgcGFydCBpZCBmcm9tIHRpdGxlLlxuICAgICAgICAgICAgdmFyIGRhdGFFbCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRlID0gYnVpbGRVbml4RGF0ZSgnI2ZpdGVtX2lkX2R0cG9zdCcsIGRhdGFFbC5kYXRhKCdwYXJ0SWQnKSk7XG5cbiAgICAgICAgICAgIGlmIChwb3N0X2RhdGUgPCBtb21lbnQoKS51bml4KCkgJiYgZGF0YUVsLmRhdGEoJ2Fub24nKSA9PSAxICYmIGRhdGFFbC5kYXRhKCd1bmFub24nKSA9PSAwICYmIGRhdGFFbC5kYXRhKCdzdWJtaXR0ZWQnKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoTS5zdHIudHVybml0aW50b29sdHdvLmFub25hbGVydCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJ1aWxkVW5peERhdGUgPSBmdW5jdGlvbiAoZWwsIHBhcnRfaWQpIHtcbiAgICAgICAgICAgIC8vIE9wdGlvbiBpZCdzLlxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gWydfZGF5JywgJ19tb250aCcsICdfeWVhcicsICdfaG91cicsICdfbWludXRlJ107XG5cbiAgICAgICAgICAgICR0aGlzID0gJChlbCArIHBhcnRfaWQpO1xuXG4gICAgICAgICAgICAvLyBCdWlsZCBkYXRlOnRpbWUgc3RyaW5nLlxuICAgICAgICAgICAgdmFyIGRhdGUgPSAnJztcbiAgICAgICAgICAgICQuZWFjaChzdGFydCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICBkYXRlICs9ICR0aGlzLmZpbmQoJ1tpZCQ9JyArIHBhcnRfaWQgKyB2ICsgJ10gb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSAnX3llYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgKz0gJyAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodiA9PT0gJ19ob3VyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRlICs9ICc6JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHYgIT09ICdfbWludXRlJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRlICs9ICctJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvbnZlcnRlZCBtb21lbnQgb2JqZWN0LlxuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlLCBcIkRELU1NTU0tWVlZWSBoaDptbVwiKS51bml4KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKGpRdWVyeSk7Il19
