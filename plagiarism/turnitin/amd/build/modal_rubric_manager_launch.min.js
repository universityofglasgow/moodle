define ("plagiarism_turnitin/modal_rubric_manager_launch",["jquery","core/ajax","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events"],function(a,b,c,d,e,f,g){var i=!1,j={HIDE_BUTTON:"[data-action=\"hide\"]",MODAL:"[data-region=\"modal\"]"},k=function(a){e.call(this,a)};k.TYPE="plagiarism_turnitin-modal_rubric_manager_launch";k.prototype=Object.create(e.prototype);k.prototype.constructor=k;k.prototype.registerEventListeners=function(){e.prototype.registerEventListeners.call(this);this.getModal().on(d.events.activate,j.HIDE_BUTTON,function(b,c){var d=a.Event(g.cancel);this.getRoot().trigger(d,this);if(!d.isDefaultPrevented()){this.hide();c.originalEvent.preventDefault();h()}}.bind(this));this.getRoot().click(function(b){if(!a(b.target).closest(j.MODAL).length){h()}}.bind(this))};function h(){var b=a("#id_plagiarism_rubric").val();a.ajax({dataType:"json",type:"POST",url:"../plagiarism/turnitin/ajax.php",data:{action:"refresh_rubric_select",assignment:a("input[name=\"instance\"]").val(),modulename:a("input[name=\"modulename\"]").val(),course:a("input[name=\"course\"]").val()},success:function success(c){a(a("#id_plagiarism_rubric")).empty();a.each(c,function(b,c){if(!a.isNumeric(b)&&""!==b){var d=a("<optgroup>");d.attr("label",b);a.each(c,function(b,c){var e=a("<option></option>");e.val(b);e.text(c);d.append(e)});a("#id_plagiarism_rubric").append(d)}else{a(a("#id_plagiarism_rubric")).append(a("<option>",{value:b,text:c}))}});a("#id_plagiarism_rubric option[value=\""+b+"\"]").attr("selected","selected")}})}if(!i){f.register(k.TYPE,k,"plagiarism_turnitin/modal_rubric_manager_launch");i=!0}return k});
//# sourceMappingURL=modal_rubric_manager_launch.min.js.map
