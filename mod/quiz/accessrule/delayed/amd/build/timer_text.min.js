"use strict";define(["jquery"],function(m){var n,f,_;return{get_string:function(t,e,i){return n[t]},set_strings:function(t){n=t},init:function(t,e,i,n,a,r,s){var d=0<arguments.length&&void 0!==t?t:".continuebutton",o=1<arguments.length?e:void 0,u=2<arguments.length?i:void 0,h=3<arguments.length?n:void 0,l=4<arguments.length?a:void 0,g=5<arguments.length?r:void 0,p=6<arguments.length?s:void 0;if(0<m(".quizattempt #delayednotification").length)return!1;this.set_strings(p);var v=m("<form/>",{method:"post",action:o}).append(m("<input>",{type:"hidden",name:"cmid",value:u}),m("<input>",{type:"hidden",name:"sesskey",value:h}),m("<input>",{type:"submit",class:"btn btn-secondary",id:"startAttemptButton",value:l})),c=m('<div id="delayednotification" />').append(m("<p>",{id:"activatedelayedtimer"}));m(d).prepend(v,m("</br>")),m(d).prepend(c),m("[id=startAttemptButton]").prop("disabled",!0),f=(new Date).getTime()+g,_=setInterval(this.update_time.bind(this),1e3)},update_time:function(){var t=(new Date).getTime(),e=f-t,i=this.get_nice_duration(e/1e3,!0,!1,2);document.getElementById("activatedelayedtimer").innerHTML=this.get_string("quizwillstartinabout")+" "+i+" "+this.get_string("pleasewait"),e<0&&(m("#activatedelayedtimer").hide(),m("#startAttemptButton").show().prop("disabled",!1),clearInterval(_))},get_nice_duration:function(t,e,i,n){var a,r=!(1<arguments.length&&void 0!==e)||e,s=2<arguments.length&&void 0!==i&&i,d=3<arguments.length&&void 0!==n?n:2,o=[],u=!1;r&&(t-=2592e3*(a=Math.floor(t/2592e3)));var h=Math.floor(t/86400);t-=3600*h*24;var l=Math.floor(t/3600);t-=3600*l;var g=Math.floor(t/60),p=Math.round(t-60*g);return r&&0<a&&(o.push(a+this.get_string("month"+(1<a?"s":""))),p=g=l=0,s&&(u=!0)),0<h&&!1===u&&(o.push(" "+h+" "+this.get_string("day"+(1<h?"s":""))),d<2&&(p=g=0),s&&(u=!0)),0<l&&!1===u&&(o.push(" "+l+" "+this.get_string("hour"+(1<l?"s":""))),d<2&&(p=!1),s&&(u=!0)),0<g&&!1===u&&(o.push(" "+g+" "+this.get_string("minute"+(1<g?"s":""))),s&&(u=!0)),0<p&&!1===u&&o.push(" "+p+" s."),0===o.length&&o.push("-"),o.join("")}}});
//# sourceMappingURL=timer_text.min.js.map
