jQuery(document).ready(function($){function initialiseEditEndDate(){$("a.edit_course_end_link").colorbox({inline:!0,width:"60%",top:"100px",background:"#fff",height:"260px",opacity:"0.7",className:"edit_end_date_form",onLoad:function(){lightBoxCloseButton()},onComplete:function(){var current_date=$("#"+$(this).attr("id")+" span").attr("id");current_date=current_date.split("_"),$("#id_new_course_end_date_day").val(current_date[1]),$("#id_new_course_end_date_month").val(current_date[2]),$("#id_new_course_end_date_year").val(current_date[3]);var idStr=$(this).attr("id").split("_"),tii_course_id=idStr[2];$('input[name="tii_course_id"]').val(tii_course_id),$('input[name="tii_course_title"]').val($("a#course_"+tii_course_id).html()),$("#cboxLoadedContent .edit_course_end_date_form").show(),$("#dateselector-calendar-panel").css("z-index","9999"),$("#id_save_end_date").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"edit_course_end_date",tii_course_id:tii_course_id,tii_course_title:$("a#course_"+tii_course_id).html(),sesskey:M.cfg.sesskey,end_date_d:$("#id_new_course_end_date_day").val(),end_date_m:$("#id_new_course_end_date_month").val(),end_date_y:$("#id_new_course_end_date_year").val()},success:function(data){if(eval(data),"success"==data.status)parent.$.fn.colorbox.close(),$("#course_date_"+tii_course_id+" span").html(data.end_date);else{var current_msg=$("#edit_end_date_desc").html;$("#edit_end_date_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".edit_course_end_date_form").hide(),$("#tii_close_bar").remove()}})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseCourseRecreation(){var e=$(window).width(),t="80%";e<1e3&&(t="860px");var a=$(window).width(),s="80%";a<700&&(s="600px"),$("a.course_recreate").colorbox({iframe:!0,width:t,height:s,top:"100px",className:"migration",opacity:"0.7",onLoad:function(){lightBoxCloseButton()},onCleanup:function(){$("#tii_close_bar").remove()}}),$(".browser_checkbox").click(function(){$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()})}function initialiseCourseBrowserButtons(e){$("#id_create_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:encodeURIComponent($("#tii_course_name").html()),course_name:encodeURIComponent($("#id_coursename").val()),course_category:$("#id_coursecategory").val(),sesskey:M.cfg.sesskey},success:function(t){var a=jQuery.parseJSON(t);hideCourseCreationOptions(a,e)}})}),$("#id_update_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"link_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:$("#tii_course_name").html(),course_to_link:$("#id_coursetolink").val(),sesskey:M.cfg.sesskey},success:function(t){var a=jQuery.parseJSON(t);hideCourseCreationOptions(a,e)}})})}function hideCourseCreationOptions(e,t){if(0!=e){$("#course_id").html(e.courseid);var a='input[name="check_'+$("#tii_course_id").html()+'"]';parent.$(a).hide();var s="#tick_"+$("#tii_course_id").html();parent.$(s).show(),$('fieldset[id$="create_course_fieldset"]').parent().slideToggle(),$('fieldset[id$="update_course_fieldset"]').parent().slideToggle(),$("#or_container").hide(),$("#existing_course_title_span").html(e.coursename),$(".existing_course_title_h3").removeClass("hidden_class"),$(".assignmentids_check").length>0&&($(".assignmentids_check").removeAttr("disabled"),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled")),$(".assignmentids_check").change(function(){$(".assignmentids_check").filter(":checked").length>=5?$(".assignmentids_check").not(":checked").attr("disabled","disabled"):$(".assignmentids_check").removeAttr("disabled")}),initialiseCreateAssignmentButton(t)}}function initialiseCreateAssignmentButton(e){$("#id_create_assignment").unbind("click"),$("#id_create_assignment").click(function(){var t="";$(".assignmentids_check:checked").each(function(e){t+=$(this).val()+","}),","==t.charAt(t.length-1)&&t.substring(0,t.length-1),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_assignment",course_id:$("#course_id").html(),assignment_name:$("#id_assignmentname").val(),parts:t,sesskey:M.cfg.sesskey},success:function(t){e.fnReloadAjax(),e.fnStandingRedraw(),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled")}})})}$(".submissionsDataTable thead tr, #courseBrowserTable thead tr").toggleClass("header");var dataTablesLang={nointegration:M.str.turnitintooltwo.nointegration,sProcessing:M.str.turnitintooltwo.sprocessing,sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,sInfoEmpty:M.str.turnitintooltwo.semptytable,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}},dataTablesLangMigration={nointegration:M.str.turnitintooltwo.nointegration,sProcessing:M.str.turnitintooltwo.sprocessing,sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:"",sLengthMenu:M.str.turnitintooltwo.slengthmigrationmenu,sInfoEmpty:M.str.turnitintooltwo.semptytable,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};$("#unlinkUserTable").dataTable({bDestroy:!0,bProcessing:!0,bServerSide:!1,oLanguage:dataTablesLang,aaSorting:[[2,"asc"]],aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],sAjaxSource:"ajax.php?action=get_users",aoColumns:[{bSortable:!1,fnCreatedCell:function(e,t,a,s,i){$(e).addClass("centered_cell")}},null,{aDataSort:[2,3]},{aDataSort:[3,2]},null],fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1)}}),"0"==$("#sametiiaccount").data("sametiiaccount")&&($('select[name="enablemigrationtool"]').attr("disabled","disabled"),$('select[name="enablemigrationtool"]').closest("form").find('input[name="submitbutton"]').attr("disabled","disabled")),$('input[name="selectallcb"]').closest("form").find('input[name="submitbutton"]').attr("disabled","disabled"),$(document).on("click",'#migrationTable input[name="selectallcb"], #migrationTable .browser_checkbox',function(){$("#migrationTable .browser_checkbox:checked").length>0?$("#migrationTable .browser_checkbox").closest("form").find('input[name="submitbutton"]').removeAttr("disabled"):$("#migrationTable .browser_checkbox").closest("form").find('input[name="submitbutton"]').attr("disabled","disabled")});var submitbutton=$("#migrationTable").closest("form").find('input[name="submitbutton"]');submitbutton.click(function(e){e.preventDefault();var t=M.str.turnitintooltwo.confirmv1deletetitle+"\n\n";t+=M.util.get_string("confirmv1deletetext","turnitintooltwo",$("#migrationTable .browser_checkbox:checked").length)+"\n\n",t+=M.str.turnitintooltwo.confirmv1deletewarning,confirm(t)&&$("#migrationTable").closest("form").submit()}),$("#migrationTable").dataTable({bDestroy:!0,bProcessing:!0,bServerSide:!1,oLanguage:dataTablesLangMigration,aaSorting:[[2,"asc"]],aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],sAjaxSource:"ajax.php?action=get_migration_assignments",sDom:'<"top"lf>rt<"bottom"irp><"clear">',aoColumns:[{bSortable:!1,bSearchable:!1,fnCreatedCell:function(e,t,a,s,i){$(e).addClass("centered_cell")}},{bSortable:!0,sClass:"centered_cell",bSearchable:!1},{bSortable:!0,bSearchable:!0},{bSortable:!0,sClass:"centered_cell",bSearchable:!1}],fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1)}}),$("#migrationTable_filter input").attr("placeholder","Search"),$("#filesTable").dataTable({bDestroy:!0,bProcessing:!0,bServerSide:!1,oLanguage:dataTablesLang,sAjaxSource:"ajax.php?action=get_files",aoColumns:[null,null,null,{sClass:"filename c0",sWidth:"40%"},null,{sClass:"fullname c1",sWidth:"35%"},null,{sClass:"created c2",sWidth:"22%"},{sClass:"remove c3",sWidth:"3%"}],aoColumnDefs:[{bSearchable:!0,bVisible:!1,aTargets:[0]},{bSearchable:!0,bVisible:!1,aTargets:[1]},{bSearchable:!0,bVisible:!1,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]},{bSearchable:!0,bVisible:!1,aTargets:[4]},{bSearchable:!0,bVisible:!0,aTargets:[5]},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!0,aTargets:[7]},{bSearchable:!0,bVisible:!0,aTargets:[8]}],fnDrawCallback:function(e){if(0!=e.aiDisplay.length)for(var t=$("#filesTable tbody tr"),a=t[0].getElementsByTagName("td").length,s="",i=0;i<t.length;i++){var n=(e._iDisplayStart+i,e.aoData[e.aiDisplay[i]]._aData[0]);if(n!=s){var r=document.createElement("tr"),o=document.createElement("td");o.colSpan=a,o.className="group",o.innerHTML=n,r.appendChild(o),t[i].parentNode.insertBefore(r,t[i]),s=n}}},aaSortingFixed:[[0,"asc"]],aaSorting:[[1,"asc"]],sDom:'lfr<"giveHeight"t>ip'}),$.datepicker.regional[""].dateFormat="d M yy",$.datepicker.setDefaults($.datepicker.regional[""]);var courseBrowserTable=$("#courseBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,aaSorting:[[6,"asc"]],sAjaxSource:"ajax.php",aoColumnDefs:[{bSearchable:!1,bSortable:!1,sWidth:"5%",bVisible:!0,aTargets:[0],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!0,sWidth:"45%",iDataSort:6,aTargets:[1]},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[2]},{bSearchable:!0,bVisible:!0,sWidth:"20%",iDataSort:7,aTargets:[3],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!1,bVisible:!0,sWidth:"10%",aTargets:[4],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[5],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!1,aTargets:[7]}],fnServerData:function(e,t,a){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"search_classes",course_title:$("#search_course_title").val(),course_integration:$("#search_course_integration").val(),course_end_date:$("#search_course_end_date").val(),sesskey:M.cfg.sesskey},success:function(e){a(e)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(uid+"DataTables",JSON.stringify(t))}catch(a){}},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(uid+"DataTables"))}catch(t){}},fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1),initialiseCourseRecreation(),initialiseEditEndDate(),$("#search_courses_button").removeAttr("disabled")}});$("#search_courses_button").click(function(){return $(this).attr("disabled","disabled"),courseBrowserTable.fnReloadAjax(),courseBrowserTable.fnStandingRedraw(),!1}),$("#search_course_end_date").datepicker();var oTable=$("#assignmentBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,sAjaxSource:"ajax.php",fnServerData:function(sSource,aoData,fnCallback){$("#id_create_course").attr("disabled","disabled"),$("#id_update_course").attr("disabled","disabled"),$("#assignmentBrowserTable").length>0&&$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"json",type:"POST",url:sSource,data:{action:"get_assignments",tii_course_id:$("#tii_course_id").html(),sesskey:M.cfg.sesskey},success:function(result){eval(result),initialiseCourseBrowserButtons(oTable),fnCallback(result),"0"!=$("#course_id").html()&&result.number_of_assignments>0?($("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled"),initialiseCreateAssignmentButton(oTable)):($("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$(".assignmentids_check").attr("disabled","disabled")),$("#id_create_course").removeAttr("disabled"),$("#id_update_course").removeAttr("disabled")}})},aoColumnDefs:[{bSearchable:!1,bVisible:!0,aTargets:[0]},{bSearchable:!0,bVisible:!0,aTargets:[1],fnCreatedCell:function(e){$(e).addClass("nowrap")}},{bSearchable:!0,bVisible:!0,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]}]});if($("#create_classes_button").colorbox({iframe:!0,width:"60%",top:"200px",height:"124px",opacity:"0.7",className:"course_creation",href:function(){var e=$(".create_course_category").val(),t=$(".create_assignment_checkbox").is(":checked")?"1":"0",a="";$(".browser_checkbox:checked").each(function(e){a+="&class_id"+e+"="+$(this).val(),e++});var s=window.location.href,i=s.replace("cmd=courses","cmd=multiple_class_recreation");return i+"&view_context=box&category="+e+"&assignments="+t+a+"&sesskey="+M.cfg.sesskey},onCleanup:function(){window.location=window.location}}),$("#class_ids").length>0){$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$(".has-region-side-pre #page-content #region-main").css({width:"100%","margin-top":"-30px"});var class_ids=$("#class_ids").html();$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_courses",class_ids:class_ids,course_category:$("#course_category").html(),create_assignments:$("#create_assignments").html(),sesskey:M.cfg.sesskey},success:function(e){$("#course_creation_status").html(e)}})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3b19leHRyYS0yMDE4MTAyNjAxLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwiaW5pdGlhbGlzZUVkaXRFbmREYXRlIiwiY29sb3Jib3giLCJpbmxpbmUiLCJ3aWR0aCIsInRvcCIsImJhY2tncm91bmQiLCJoZWlnaHQiLCJvcGFjaXR5IiwiY2xhc3NOYW1lIiwib25Mb2FkIiwibGlnaHRCb3hDbG9zZUJ1dHRvbiIsIm9uQ29tcGxldGUiLCJjdXJyZW50X2RhdGUiLCJ0aGlzIiwiYXR0ciIsInNwbGl0IiwidmFsIiwiaWRTdHIiLCJ0aWlfY291cnNlX2lkIiwiaHRtbCIsInNob3ciLCJjc3MiLCJjbGljayIsImFqYXgiLCJkYXRhVHlwZSIsInR5cGUiLCJ1cmwiLCJkYXRhIiwiYWN0aW9uIiwidGlpX2NvdXJzZV90aXRsZSIsInNlc3NrZXkiLCJNIiwiY2ZnIiwiZW5kX2RhdGVfZCIsImVuZF9kYXRlX20iLCJlbmRfZGF0ZV95Iiwic3VjY2VzcyIsImV2YWwiLCJzdGF0dXMiLCJwYXJlbnQiLCJmbiIsImNsb3NlIiwiZW5kX2RhdGUiLCJjdXJyZW50X21zZyIsIm1zZyIsIm9uQ2xlYW51cCIsImhpZGUiLCJyZW1vdmUiLCJhcHBlbmQiLCJzdHIiLCJ0dXJuaXRpbnRvb2x0d28iLCJjbG9zZWJ1dHRvbiIsImluaXRpYWxpc2VDb3Vyc2VSZWNyZWF0aW9uIiwid2luZG93V2lkdGgiLCJ3aW5kb3ciLCJjb2xvckJveFdpZHRoIiwid2luZG93SGVpZ2h0IiwiY29sb3JCb3hIZWlnaHQiLCJpZnJhbWUiLCJsZW5ndGgiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiaW5pdGlhbGlzZUNvdXJzZUJyb3dzZXJCdXR0b25zIiwib1RhYmxlIiwidGlpX2NvdXJzZV9uYW1lIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY291cnNlX25hbWUiLCJjb3Vyc2VfY2F0ZWdvcnkiLCJvYmoiLCJwYXJzZUpTT04iLCJoaWRlQ291cnNlQ3JlYXRpb25PcHRpb25zIiwiY291cnNlX3RvX2xpbmsiLCJjb3Vyc2VpZCIsImNiX2VsZW1lbnQiLCJ0aWNrX2VsZW1lbnQiLCJzbGlkZVRvZ2dsZSIsImNvdXJzZW5hbWUiLCJyZW1vdmVDbGFzcyIsInJlbW92ZUF0dHIiLCJjaGFuZ2UiLCJmaWx0ZXIiLCJub3QiLCJpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbiIsInVuYmluZCIsInBhcnRzIiwiZWFjaCIsImkiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJjb3Vyc2VfaWQiLCJhc3NpZ25tZW50X25hbWUiLCJmblJlbG9hZEFqYXgiLCJmblN0YW5kaW5nUmVkcmF3IiwidG9nZ2xlQ2xhc3MiLCJkYXRhVGFibGVzTGFuZyIsIm5vaW50ZWdyYXRpb24iLCJzUHJvY2Vzc2luZyIsInNwcm9jZXNzaW5nIiwic1plcm9SZWNvcmRzIiwic3plcm9yZWNvcmRzIiwic0luZm8iLCJzaW5mbyIsInNTZWFyY2giLCJzc2VhcmNoIiwic0xlbmd0aE1lbnUiLCJzbGVuZ3RobWVudSIsInNJbmZvRW1wdHkiLCJzZW1wdHl0YWJsZSIsIm9QYWdpbmF0ZSIsInNOZXh0Iiwic25leHQiLCJzUHJldmlvdXMiLCJzcHJldmlvdXMiLCJkYXRhVGFibGVzTGFuZ01pZ3JhdGlvbiIsInNsZW5ndGhtaWdyYXRpb25tZW51IiwiZGF0YVRhYmxlIiwiYkRlc3Ryb3kiLCJiUHJvY2Vzc2luZyIsImJTZXJ2ZXJTaWRlIiwib0xhbmd1YWdlIiwiYWFTb3J0aW5nIiwiYUxlbmd0aE1lbnUiLCJzQWpheFNvdXJjZSIsImFvQ29sdW1ucyIsImJTb3J0YWJsZSIsImZuQ3JlYXRlZENlbGwiLCJuVGQiLCJzRGF0YSIsIm9EYXRhIiwiaVJvdyIsImlDb2wiLCJhZGRDbGFzcyIsImFEYXRhU29ydCIsImZuRHJhd0NhbGxiYWNrIiwiY2xvc2VzdCIsImZpbmQiLCJvbiIsInN1Ym1pdGJ1dHRvbiIsImV2IiwicHJldmVudERlZmF1bHQiLCJtZXNzYWdlIiwiY29uZmlybXYxZGVsZXRldGl0bGUiLCJ1dGlsIiwiZ2V0X3N0cmluZyIsImNvbmZpcm12MWRlbGV0ZXdhcm5pbmciLCJjb25maXJtIiwic3VibWl0Iiwic0RvbSIsImJTZWFyY2hhYmxlIiwic0NsYXNzIiwic1dpZHRoIiwiYW9Db2x1bW5EZWZzIiwiYlZpc2libGUiLCJhVGFyZ2V0cyIsIm9TZXR0aW5ncyIsImFpRGlzcGxheSIsIm5UcnMiLCJpQ29sc3BhbiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic0xhc3RHcm91cCIsInNHcm91cCIsIl9pRGlzcGxheVN0YXJ0IiwiYW9EYXRhIiwiX2FEYXRhIiwibkdyb3VwIiwiY3JlYXRlRWxlbWVudCIsIm5DZWxsIiwiY29sU3BhbiIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImFhU29ydGluZ0ZpeGVkIiwiZGF0ZXBpY2tlciIsInJlZ2lvbmFsIiwiZGF0ZUZvcm1hdCIsInNldERlZmF1bHRzIiwiY291cnNlQnJvd3NlclRhYmxlIiwiaURhdGFTb3J0IiwiZm5TZXJ2ZXJEYXRhIiwic1NvdXJjZSIsImZuQ2FsbGJhY2siLCJjb3Vyc2VfdGl0bGUiLCJjb3Vyc2VfaW50ZWdyYXRpb24iLCJjb3Vyc2VfZW5kX2RhdGUiLCJyZXN1bHQiLCJiU3RhdGVTYXZlIiwiZm5TdGF0ZVNhdmUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidWlkIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJmblN0YXRlTG9hZCIsInBhcnNlIiwiZ2V0SXRlbSIsIm1hcmdpbi1sZWZ0IiwibnVtYmVyX29mX2Fzc2lnbm1lbnRzIiwiaHJlZiIsImNhdGVnb3J5IiwiYXNzaWdubWVudHMiLCJpcyIsImNsYXNzX2lkcyIsInBhZ2V1cmwiLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJtYXJnaW4tdG9wIiwiY3JlYXRlX2Fzc2lnbm1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsVUFBVUMsTUFBTSxTQUFTQyxHQWtXNUIsUUFBU0MseUJBQ0xE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QWNySCxFQUFJLElBQU12RixFQUFFYyxNQUFNRyxNQUM3Q3NFLEtBR0osSUFBSXNILEdBQVV0SixPQUFPdUosU0FBU04sS0FDMUI3SyxFQUFNa0wsRUFBUUUsUUFBUSxjQUFlLGdDQUV6QyxPQUFPcEwsR0FBTSw4QkFBZ0M4SyxFQUFXLGdCQUFrQkMsRUFBY0UsRUFBWSxZQUFjNUssRUFBRUMsSUFBSUYsU0FFaEllLFVBQVcsV0FDUFMsT0FBT3VKLFNBQVd2SixPQUFPdUosWUFJN0I5TSxFQUFFLGNBQWM0RCxPQUFTLEVBQUcsQ0FHNUI1RCxFQUFFLDZDQUE2Q3NCLEtBQzNDZ0wsY0FBZ0IsUUFHcEJ0TSxFQUFFLG1EQUFtRHNCLEtBQ2pEbEIsTUFBUyxPQUNUNE0sYUFBYyxTQUdsQixJQUFJSixXQUFZNU0sRUFBRSxjQUFjb0IsTUFFaENwQixHQUFFd0IsTUFDRUMsU0FBWSxPQUNaQyxLQUFRLE9BQ1JDLElBQU8sV0FDUEMsTUFBU0MsT0FBUSxpQkFBa0IrSyxVQUFXQSxVQUFXeEksZ0JBQWlCcEUsRUFBRSxvQkFBb0JvQixPQUM1RjZMLG1CQUFvQmpOLEVBQUUsdUJBQXVCb0IsT0FBUVcsUUFBU0MsRUFBRUMsSUFBSUYsU0FDeEVNLFFBQVMsU0FBU1QsR0FDZDVCLEVBQUUsMkJBQTJCb0IsS0FBS1EiLCJmaWxlIjoidHVybml0aW50b29sdHdvX2V4dHJhLTIwMTgxMDI2MDEubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgLy8gQWRkIHN0eWxlIHRvIGhlYWRlciByb3cuXG4gICAgJCgnLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoZWFkIHRyLCAjY291cnNlQnJvd3NlclRhYmxlIHRoZWFkIHRyJykudG9nZ2xlQ2xhc3MoXCJoZWFkZXJcIik7XG5cbiAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAgICB2YXIgZGF0YVRhYmxlc0xhbmcgPSB7XG4gICAgICAgIFwibm9pbnRlZ3JhdGlvblwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28ubm9pbnRlZ3JhdGlvbixcbiAgICAgICAgXCJzUHJvY2Vzc2luZ1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3Byb2Nlc3NpbmcsXG4gICAgICAgIFwic1plcm9SZWNvcmRzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zemVyb3JlY29yZHMsXG4gICAgICAgIFwic0luZm9cIjogTS5zdHIudHVybml0aW50b29sdHdvLnNpbmZvLFxuICAgICAgICBcInNTZWFyY2hcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNzZWFyY2gsXG4gICAgICAgIFwic0xlbmd0aE1lbnVcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNsZW5ndGhtZW51LFxuICAgICAgICBcInNJbmZvRW1wdHlcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNlbXB0eXRhYmxlLFxuICAgICAgICBcIm9QYWdpbmF0ZVwiOiB7XG4gICAgICAgICAgICBcInNOZXh0XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbmV4dCxcbiAgICAgICAgICAgIFwic1ByZXZpb3VzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zcHJldmlvdXNcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncyBmb3IgbWlncmF0aW9uIHRvb2wuXG4gICAgdmFyIGRhdGFUYWJsZXNMYW5nTWlncmF0aW9uID0ge1xuICAgICAgICBcIm5vaW50ZWdyYXRpb25cIjogTS5zdHIudHVybml0aW50b29sdHdvLm5vaW50ZWdyYXRpb24sXG4gICAgICAgIFwic1Byb2Nlc3NpbmdcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNwcm9jZXNzaW5nLFxuICAgICAgICBcInNaZXJvUmVjb3Jkc1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3plcm9yZWNvcmRzLFxuICAgICAgICBcInNJbmZvXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zaW5mbyxcbiAgICAgICAgXCJzU2VhcmNoXCI6ICcnLFxuICAgICAgICBcInNMZW5ndGhNZW51XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbGVuZ3RobWlncmF0aW9ubWVudSxcbiAgICAgICAgXCJzSW5mb0VtcHR5XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zZW1wdHl0YWJsZSxcbiAgICAgICAgXCJvUGFnaW5hdGVcIjoge1xuICAgICAgICAgICAgXCJzTmV4dFwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc25leHQsXG4gICAgICAgICAgICBcInNQcmV2aW91c1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3ByZXZpb3VzXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ29uZmlndXJlIHRoZSB1bmxpbmsgYW5kIHJlbGluayB1c2VycyBkYXRhdGFibGUgaW4gdGhlIHBsdWdpbiBzZXR0aW5ncyBhcmVhLlxuICAgICQoJyN1bmxpbmtVc2VyVGFibGUnKS5kYXRhVGFibGUoe1xuICAgICAgICBcImJEZXN0cm95XCI6IHRydWUsXG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJiU2VydmVyU2lkZVwiOiBmYWxzZSxcbiAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgIFwiYWFTb3J0aW5nXCI6IFtbIDIsIFwiYXNjXCIgXV0sXG4gICAgICAgIFwiYUxlbmd0aE1lbnVcIjogW1sxMCwgMjUsIDUwLCAxMDAsIC0xXSwgWzEwLCAyNSwgNTAsIDEwMCwgXCJBbGxcIl1dLFxuICAgICAgICBcInNBamF4U291cmNlXCI6IFwiYWpheC5waHA/YWN0aW9uPWdldF91c2Vyc1wiLFxuICAgICAgICBcImFvQ29sdW1uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCJiU29ydGFibGVcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQsIHNEYXRhLCBvRGF0YSwgaVJvdywgaUNvbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ2NlbnRlcmVkX2NlbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCJhRGF0YVNvcnRcIjogWyAyLCAzIF19LFxuICAgICAgICAgICAgICAgICAgICAgICAge1wiYURhdGFTb3J0XCI6IFsgMywgMiBdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgIFwiZm5EcmF3Q2FsbGJhY2tcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGlzYWJsZSB0aGUgc3VibWl0IGJ1dHRvbiBpZiBUdXJuaXRpbiB2MSBhbmQgdjIgYWNjb3VudCBpZHMgYXJlIGRpZmZlcmVudCBpbiBNaWdyYXRpb24gVG9vbC5cbiAgICBpZiAoICQoJyNzYW1ldGlpYWNjb3VudCcpLmRhdGEoJ3NhbWV0aWlhY2NvdW50JykgPT0gXCIwXCIgKSB7XG4gICAgICAgICQoJ3NlbGVjdFtuYW1lPVwiZW5hYmxlbWlncmF0aW9udG9vbFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoJ3NlbGVjdFtuYW1lPVwiZW5hYmxlbWlncmF0aW9udG9vbFwiXScpLmNsb3Nlc3QoJ2Zvcm0nKS5maW5kKCdpbnB1dFtuYW1lPVwic3VibWl0YnV0dG9uXCJdJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBkZWxldGUgYnV0dG9uIGluIG1pZ3JhdGlvbiB0YWIgaWYgdGhlcmUgYXJlIG5vIHJlc3VsdHMgc2VsZWN0ZWQgYW5kIHJlLWVuYWJsZSBpZiB0aGVyZSBhcmUuXG4gICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJzdWJtaXRidXR0b25cIl0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjbWlncmF0aW9uVGFibGUgaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdLCAjbWlncmF0aW9uVGFibGUgLmJyb3dzZXJfY2hlY2tib3gnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQoJyNtaWdyYXRpb25UYWJsZSAuYnJvd3Nlcl9jaGVja2JveDpjaGVja2VkJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnI21pZ3JhdGlvblRhYmxlIC5icm93c2VyX2NoZWNrYm94JykuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJzdWJtaXRidXR0b25cIl0nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI21pZ3JhdGlvblRhYmxlIC5icm93c2VyX2NoZWNrYm94JykuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJzdWJtaXRidXR0b25cIl0nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBc2sgYWRtaW5pc3RyYXRvciBmb3IgY29uZmlybWF0aW9uIGlmIHVzZXIgY2xpY2tzIHRvIGRlbGV0ZSBzZWxlY3RlZCBWMSBhc3NpZ25tZW50cy5cbiAgICB2YXIgc3VibWl0YnV0dG9uID0gJCgnI21pZ3JhdGlvblRhYmxlJykuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJzdWJtaXRidXR0b25cIl0nKTtcbiAgICBzdWJtaXRidXR0b24uY2xpY2soZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAvLyBDb25zdHJ1Y3QgY29uZmlybSBtZXNzYWdlIHRvIGFkbWluaXN0cmF0b3IuXG4gICAgICAgIHZhciBtZXNzYWdlID0gTS5zdHIudHVybml0aW50b29sdHdvLmNvbmZpcm12MWRlbGV0ZXRpdGxlKydcXG5cXG4nO1xuICAgICAgICBtZXNzYWdlICs9IE0udXRpbC5nZXRfc3RyaW5nKCdjb25maXJtdjFkZWxldGV0ZXh0JywgJ3R1cm5pdGludG9vbHR3bycsICQoJyNtaWdyYXRpb25UYWJsZSAuYnJvd3Nlcl9jaGVja2JveDpjaGVja2VkJykubGVuZ3RoKSsnXFxuXFxuJztcbiAgICAgICAgbWVzc2FnZSArPSBNLnN0ci50dXJuaXRpbnRvb2x0d28uY29uZmlybXYxZGVsZXRld2FybmluZztcblxuICAgICAgICBpZiAoY29uZmlybShtZXNzYWdlKSkge1xuICAgICAgICAgICAgJCgnI21pZ3JhdGlvblRhYmxlJykuY2xvc2VzdCgnZm9ybScpLnN1Ym1pdCgpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgbWlncmF0aW9uIGRhdGF0YWJsZSBpbiB0aGUgcGx1Z2luIHNldHRpbmdzIGFyZWEuXG4gICAgJCgnI21pZ3JhdGlvblRhYmxlJykuZGF0YVRhYmxlKHtcbiAgICAgICAgXCJiRGVzdHJveVwiOiB0cnVlLFxuICAgICAgICBcImJQcm9jZXNzaW5nXCI6IHRydWUsXG4gICAgICAgIFwiYlNlcnZlclNpZGVcIjogZmFsc2UsXG4gICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nTWlncmF0aW9uLFxuICAgICAgICBcImFhU29ydGluZ1wiOiBbWyAyLCBcImFzY1wiIF1dLFxuICAgICAgICBcImFMZW5ndGhNZW51XCI6IFtbMTAsIDI1LCA1MCwgMTAwLCAtMV0sIFsxMCwgMjUsIDUwLCAxMDAsIFwiQWxsXCJdXSxcbiAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwP2FjdGlvbj1nZXRfbWlncmF0aW9uX2Fzc2lnbm1lbnRzXCIsXG4gICAgICAgIFwic0RvbVwiOiAnPFwidG9wXCJsZj5ydDxcImJvdHRvbVwiaXJwPjxcImNsZWFyXCI+JyxcbiAgICAgICAgXCJhb0NvbHVtbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1wiYlNvcnRhYmxlXCI6IGZhbHNlLCBcImJTZWFyY2hhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkLCBzRGF0YSwgb0RhdGEsIGlSb3csIGlDb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdjZW50ZXJlZF9jZWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCJiU29ydGFibGVcIjogdHJ1ZSwgXCJzQ2xhc3NcIjogXCJjZW50ZXJlZF9jZWxsXCIsIFwiYlNlYXJjaGFibGVcIjogZmFsc2V9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1wiYlNvcnRhYmxlXCI6IHRydWUsIFwiYlNlYXJjaGFibGVcIjogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCJiU29ydGFibGVcIjogdHJ1ZSwgXCJzQ2xhc3NcIjogXCJjZW50ZXJlZF9jZWxsXCIsIFwiYlNlYXJjaGFibGVcIjogZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoJyNtaWdyYXRpb25UYWJsZV9maWx0ZXIgaW5wdXQnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgJ1NlYXJjaCcpO1xuXG4gICAgLy8gQ29uZmlndXJlIHRoZSBmaWxlcyBkYXRhdGFibGUgaW4gdGhlIHBsdWdpbiBzZXR0aW5ncyBhcmVhLCBncm91cCB0aGUgZmlsZXMgYnkgYXNzaWdubWVudC5cbiAgICAkKCcjZmlsZXNUYWJsZScpLmRhdGFUYWJsZSgge1xuICAgICAgICBcImJEZXN0cm95XCI6IHRydWUsXG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJiU2VydmVyU2lkZVwiOiBmYWxzZSxcbiAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocD9hY3Rpb249Z2V0X2ZpbGVzXCIsXG4gICAgICAgIFwiYW9Db2x1bW5zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAge1wic0NsYXNzXCI6IFwiZmlsZW5hbWUgYzBcIiwgXCJzV2lkdGhcIjogXCI0MCVcIn0sXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHtcInNDbGFzc1wiOiBcImZ1bGxuYW1lIGMxXCIsIFwic1dpZHRoXCI6IFwiMzUlXCJ9LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJjcmVhdGVkIGMyXCIsIFwic1dpZHRoXCI6IFwiMjIlXCJ9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJyZW1vdmUgYzNcIiwgXCJzV2lkdGhcIjogXCIzJVwifVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgIFwiYW9Db2x1bW5EZWZzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDAgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyAxIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgMiBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMyBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDQgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDUgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyA2IF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyA3IF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyA4IF19XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbiAoIG9TZXR0aW5ncyApIHtcbiAgICAgICAgICAgIGlmICggb1NldHRpbmdzLmFpRGlzcGxheS5sZW5ndGggPT0gMCApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgblRycyA9ICQoJyNmaWxlc1RhYmxlIHRib2R5IHRyJyk7XG4gICAgICAgICAgICB2YXIgaUNvbHNwYW4gPSBuVHJzWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBzTGFzdEdyb3VwID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpRGlzcGxheUluZGV4ID0gb1NldHRpbmdzLl9pRGlzcGxheVN0YXJ0ICsgaTtcbiAgICAgICAgICAgICAgICB2YXIgc0dyb3VwID0gb1NldHRpbmdzLmFvRGF0YVsgb1NldHRpbmdzLmFpRGlzcGxheVtpXSBdLl9hRGF0YVswXTtcbiAgICAgICAgICAgICAgICBpZiAoIHNHcm91cCAhPSBzTGFzdEdyb3VwIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndHInICk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0ZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgbkNlbGwuY29sU3BhbiA9IGlDb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICBuQ2VsbC5jbGFzc05hbWUgPSBcImdyb3VwXCI7XG4gICAgICAgICAgICAgICAgICAgIG5DZWxsLmlubmVySFRNTCA9IHNHcm91cDtcbiAgICAgICAgICAgICAgICAgICAgbkdyb3VwLmFwcGVuZENoaWxkKCBuQ2VsbCApO1xuICAgICAgICAgICAgICAgICAgICBuVHJzW2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBuR3JvdXAsIG5UcnNbaV0gKTtcbiAgICAgICAgICAgICAgICAgICAgc0xhc3RHcm91cCA9IHNHcm91cDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYWFTb3J0aW5nRml4ZWRcIjogW1sgMCwgJ2FzYycgXV0sXG4gICAgICAgIFwiYWFTb3J0aW5nXCI6IFtbIDEsICdhc2MnIF1dLFxuICAgICAgICBcInNEb21cIjogJ2xmcjxcImdpdmVIZWlnaHRcInQ+aXAnXG4gICAgfSk7XG5cbiAgICAkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJcIl0uZGF0ZUZvcm1hdCA9ICdkIE0geXknO1xuICAgICQuZGF0ZXBpY2tlci5zZXREZWZhdWx0cygkLmRhdGVwaWNrZXIucmVnaW9uYWxbJyddKTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgY291cnNlIGJyb3dzZXIgZGF0YSB0YWJsZSBhbmQgc2hvdyBjbGFzc2VzIGZyb20gVHVybml0aW4gYWNvY3VudC5cbiAgICB2YXIgY291cnNlQnJvd3NlclRhYmxlID0gJCgnI2NvdXJzZUJyb3dzZXJUYWJsZScpLmRhdGFUYWJsZSh7XG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgIFwiYWFTb3J0aW5nXCI6IFtbIDYsICdhc2MnXV0sXG4gICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICBcImFvQ29sdW1uRGVmc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IGZhbHNlLCBcImJTb3J0YWJsZVwiOiBmYWxzZSwgXCJzV2lkdGhcIjogXCI1JVwiLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAwIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygnY2VudGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcInNXaWR0aFwiOiBcIjQ1JVwiLCBcImlEYXRhU29ydFwiOiA2LCBcImFUYXJnZXRzXCI6IFsgMSBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcInNXaWR0aFwiOiBcIjEwJVwiLCBcImFUYXJnZXRzXCI6IFsgMiBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcInNXaWR0aFwiOiBcIjIwJVwiLCBcImlEYXRhU29ydFwiOiA3LCBcImFUYXJnZXRzXCI6IFsgMyBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ3JpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogZmFsc2UsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJzV2lkdGhcIjogXCIxMCVcIiwgXCJhVGFyZ2V0c1wiOiBbIDQgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdyaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJzV2lkdGhcIjogXCIxMCVcIiwgXCJhVGFyZ2V0c1wiOiBbIDUgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdjZW50ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgNiBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDcgXX1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICBcImZuU2VydmVyRGF0YVwiOiBmdW5jdGlvbiAoIHNTb3VyY2UsIGFvRGF0YSwgZm5DYWxsYmFjayApIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IHNTb3VyY2UsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwic2VhcmNoX2NsYXNzZXNcIiwgY291cnNlX3RpdGxlOiAkKCcjc2VhcmNoX2NvdXJzZV90aXRsZScpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VfaW50ZWdyYXRpb246ICQoJyNzZWFyY2hfY291cnNlX2ludGVncmF0aW9uJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZV9lbmRfZGF0ZTogJCgnI3NlYXJjaF9jb3Vyc2VfZW5kX2RhdGUnKS52YWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYlN0YXRlU2F2ZVwiOiB0cnVlLFxuICAgICAgICBcImZuU3RhdGVTYXZlXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCB1aWQgKyAnRGF0YVRhYmxlcycsIEpTT04uc3RyaW5naWZ5KG9EYXRhKSApO1xuICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZm5TdGF0ZUxvYWRcIjogZnVuY3Rpb24gKG9TZXR0aW5ncykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmdldEl0ZW0odWlkICsgJ0RhdGFUYWJsZXMnKSApO1xuICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZm5EcmF3Q2FsbGJhY2tcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIGluaXRpYWxpc2VDb3Vyc2VSZWNyZWF0aW9uKCk7XG4gICAgICAgICAgICBpbml0aWFsaXNlRWRpdEVuZERhdGUoKTtcbiAgICAgICAgICAgICQoXCIjc2VhcmNoX2NvdXJzZXNfYnV0dG9uXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoXCIjc2VhcmNoX2NvdXJzZXNfYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICBjb3Vyc2VCcm93c2VyVGFibGUuZm5SZWxvYWRBamF4KCk7XG4gICAgICAgIGNvdXJzZUJyb3dzZXJUYWJsZS5mblN0YW5kaW5nUmVkcmF3KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgICQoJyNzZWFyY2hfY291cnNlX2VuZF9kYXRlJykuZGF0ZXBpY2tlcigpO1xuXG4gICAgLy8gSW5pdGlhbGlzZSBhc3NpZ25tZW50IGJyb3dzZXIgdGFibGUuXG4gICAgdmFyIG9UYWJsZSA9ICQoJyNhc3NpZ25tZW50QnJvd3NlclRhYmxlJykuZGF0YVRhYmxlKHtcbiAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uICggc1NvdXJjZSwgYW9EYXRhLCBmbkNhbGxiYWNrICkge1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGNvdXJzZSBidXR0b25zLlxuICAgICAgICAgICAgJCgnI2lkX2NyZWF0ZV9jb3Vyc2UnKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkKCcjaWRfdXBkYXRlX2NvdXJzZScpLmF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgLy8gTW92ZSBib3ggd2l0aGluIGZvcm0uXG4gICAgICAgICAgICBpZiAoJChcIiNhc3NpZ25tZW50QnJvd3NlclRhYmxlXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKFwiLnNpZGUtcHJlLW9ubHkgI3BhZ2UtY29udGVudCAjcmVnaW9uLW1haW5cIikuY3NzKHsnbWFyZ2luLWxlZnQnIDogJzBweCd9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IHNTb3VyY2UsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiZ2V0X2Fzc2lnbm1lbnRzXCIsIHRpaV9jb3Vyc2VfaWQ6ICQoXCIjdGlpX2NvdXJzZV9pZFwiKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlQ291cnNlQnJvd3NlckJ1dHRvbnMob1RhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgZm5DYWxsYmFjayhyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKFwiI2NvdXJzZV9pZFwiKS5odG1sKCkgIT0gXCIwXCIgJiYgcmVzdWx0Lm51bWJlcl9vZl9hc3NpZ25tZW50cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZUNyZWF0ZUFzc2lnbm1lbnRCdXR0b24ob1RhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIGNvdXJzZSBidXR0b25zLlxuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfY3JlYXRlX2NvdXJzZScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF91cGRhdGVfY291cnNlJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogZmFsc2UsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDAgXX0sXG4gICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAxIF0sXG4gICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQpIHtcbiAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdub3dyYXAnKTtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDIgXX0sXG4gICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAzIF19XG4gICAgICAgIF1cbiAgICB9KTtcblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCB3aGljaCBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGNsYXNzZXMuXG4gICAgJCgnI2NyZWF0ZV9jbGFzc2VzX2J1dHRvbicpLmNvbG9yYm94KHtcbiAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOic2MCUnLCB0b3A6ICcyMDBweCcsIGhlaWdodDonMTI0cHgnLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiY291cnNlX2NyZWF0aW9uXCIsXG4gICAgICAgIGhyZWY6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9ICQoJy5jcmVhdGVfY291cnNlX2NhdGVnb3J5JykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGFzc2lnbm1lbnRzID0gKCQoJy5jcmVhdGVfYXNzaWdubWVudF9jaGVja2JveCcpLmlzKCc6Y2hlY2tlZCcpKSA/IFwiMVwiIDogXCIwXCI7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NfaWRzID0gXCJcIjtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzX2lkcyArPSBcIiZjbGFzc19pZFwiICsgaSArIFwiPVwiICsgJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2V1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcGFnZXVybC5yZXBsYWNlKFwiY21kPWNvdXJzZXNcIiwgXCJjbWQ9bXVsdGlwbGVfY2xhc3NfcmVjcmVhdGlvblwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB1cmwgKyBcIiZ2aWV3X2NvbnRleHQ9Ym94JmNhdGVnb3J5PVwiICsgY2F0ZWdvcnkgKyBcIiZhc3NpZ25tZW50cz1cIiArIGFzc2lnbm1lbnRzICsgY2xhc3NfaWRzICsgXCImc2Vzc2tleT1cIiArIE0uY2ZnLnNlc3NrZXk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICgkKCcjY2xhc3NfaWRzJykubGVuZ3RoID4gMCkge1xuXG4gICAgICAgIC8vIE1vdmUgYm94IHdpdGhpbiBmcmFtZS5cbiAgICAgICAgJChcIi5zaWRlLXByZS1vbmx5ICNwYWdlLWNvbnRlbnQgI3JlZ2lvbi1tYWluXCIpLmNzcyh7XG4gICAgICAgICAgICAnbWFyZ2luLWxlZnQnIDogJzBweCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5oYXMtcmVnaW9uLXNpZGUtcHJlICNwYWdlLWNvbnRlbnQgI3JlZ2lvbi1tYWluXCIpLmNzcyh7XG4gICAgICAgICAgICAnd2lkdGgnOiAnMTAwJScsXG4gICAgICAgICAgICAnbWFyZ2luLXRvcCc6ICctMzBweCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNsYXNzX2lkcyA9ICQoJyNjbGFzc19pZHMnKS5odG1sKCk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiY3JlYXRlX2NvdXJzZXNcIiwgY2xhc3NfaWRzOiBjbGFzc19pZHMsIGNvdXJzZV9jYXRlZ29yeTogJChcIiNjb3Vyc2VfY2F0ZWdvcnlcIikuaHRtbCgpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZV9hc3NpZ25tZW50czogJChcIiNjcmVhdGVfYXNzaWdubWVudHNcIikuaHRtbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKCcjY291cnNlX2NyZWF0aW9uX3N0YXR1cycpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgbGlnaHQgYm94IHRvIGNoYW5nZSB0aGUgZW5kIGRhdGUgb2YgYSBjb3Vyc2UuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUVkaXRFbmREYXRlKCkge1xuICAgICAgICAkKFwiYS5lZGl0X2NvdXJzZV9lbmRfbGlua1wiKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpbmxpbmU6dHJ1ZSwgd2lkdGg6XCI2MCVcIiwgdG9wOiBcIjEwMHB4XCIsIGJhY2tncm91bmQ6IFwiI2ZmZlwiLCBoZWlnaHQ6XCIyNjBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiZWRpdF9lbmRfZGF0ZV9mb3JtXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlIDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgY3VycmVudCBkYXRlIGZyb20gdGhlIHNwYW4gaWQgd2l0aGluIHRoZSBsaW5rIGFuZCBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgZGF0ZSBvZiB0aGUgZGF0ZXBpY2tlciBpbiB0aGUgbGlnaHRib3ggdG8gdGhhdC5cbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9kYXRlID0gJCgnIycgKyAkKHRoaXMpLmF0dHIoXCJpZFwiKSArICcgc3BhbicpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50X2RhdGUgPSBjdXJyZW50X2RhdGUuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX2RheScpLnZhbChjdXJyZW50X2RhdGVbMV0pO1xuICAgICAgICAgICAgICAgICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX21vbnRoJykudmFsKGN1cnJlbnRfZGF0ZVsyXSk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfeWVhcicpLnZhbChjdXJyZW50X2RhdGVbM10pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIHZhciB0aWlfY291cnNlX2lkID0gaWRTdHJbMl07XG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInRpaV9jb3Vyc2VfaWRcIl0nKS52YWwodGlpX2NvdXJzZV9pZCk7XG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInRpaV9jb3Vyc2VfdGl0bGVcIl0nKS52YWwoJCgnYSNjb3Vyc2VfJyArIHRpaV9jb3Vyc2VfaWQpLmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgJCgnI2Nib3hMb2FkZWRDb250ZW50IC5lZGl0X2NvdXJzZV9lbmRfZGF0ZV9mb3JtJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyNkYXRlc2VsZWN0b3ItY2FsZW5kYXItcGFuZWwnKS5jc3MoJ3otaW5kZXgnLCAnOTk5OScpO1xuXG4gICAgICAgICAgICAgICAgJCgnI2lkX3NhdmVfZW5kX2RhdGUnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiZWRpdF9jb3Vyc2VfZW5kX2RhdGVcIiwgdGlpX2NvdXJzZV9pZDogdGlpX2NvdXJzZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWlfY291cnNlX3RpdGxlOiAkKCdhI2NvdXJzZV8nICsgdGlpX2NvdXJzZV9pZCkuaHRtbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlX2Q6ICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX2RheScpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlX206ICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX21vbnRoJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGVfeTogJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfeWVhcicpLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC4kLmZuLmNvbG9yYm94LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjb3Vyc2VfZGF0ZV8nICsgdGlpX2NvdXJzZV9pZCArICcgc3BhbicpLmh0bWwoZGF0YS5lbmRfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfbXNnID0gJCgnI2VkaXRfZW5kX2RhdGVfZGVzYycpLmh0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNlZGl0X2VuZF9kYXRlX2Rlc2MnKS5odG1sKGN1cnJlbnRfbXNnICsgXCIgXCIgKyBkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy5lZGl0X2NvdXJzZV9lbmRfZGF0ZV9mb3JtJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCJ0aWlfY2xvc2VfYmFyXCI+PGEgaHJlZj1cIiNcIiBvbmNsaWNrPVwiJC5jb2xvcmJveC5jbG9zZSgpOyByZXR1cm4gZmFsc2U7XCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by5jbG9zZWJ1dHRvbiArICc8L2E+PC9kaXY+Jyk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBsaWdodCBib3ggd2l0aCBhIGZvcm0gdG8gZWl0aGVyIGNyZWF0ZSBhIG5ldyBjb3Vyc2Ugb3IgbGluayBhbiB1bmxpbmtlZCBNb29kbGUgY291cnNlXG4gICAgLy8gdG8gdGhlIGNsaWNrZWQgVHVybml0aW4gY2xhc3MsIHRoZW4gc3Vic2VxdWVudGx5IGNyZWF0ZSBhIE1vb2RsZSBhc3NpZ25tZW50IHVzaW5nIHRoZSBzZWxlY3RlZFxuICAgIC8vIGV4aXN0aW5nIGFzc2lnbm1lbnRzIG9uIFR1cm5pdGluIGFzIHBhcnRzLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VDb3Vyc2VSZWNyZWF0aW9uKCkge1xuXG4gICAgICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICB2YXIgY29sb3JCb3hXaWR0aCA9IFwiODAlXCI7XG4gICAgICAgIGlmICh3aW5kb3dXaWR0aCA8IDEwMDApIHtcbiAgICAgICAgICAgIGNvbG9yQm94V2lkdGggPSBcIjg2MHB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgIHZhciBjb2xvckJveEhlaWdodCA9IFwiODAlXCI7XG4gICAgICAgIGlmICh3aW5kb3dIZWlnaHQgPCA3MDApIHtcbiAgICAgICAgICAgIGNvbG9yQm94SGVpZ2h0ID0gXCI2MDBweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgJChcImEuY291cnNlX3JlY3JlYXRlXCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpjb2xvckJveFdpZHRoLCBoZWlnaHQ6Y29sb3JCb3hIZWlnaHQsIHRvcDogJzEwMHB4JywgY2xhc3NOYW1lOiBcIm1pZ3JhdGlvblwiLCBvcGFjaXR5OiBcIjAuN1wiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCgnLmJyb3dzZXJfY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcuY3JlYXRlX2NoZWNrYm94ZXMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHRoZSBidXR0b25zIG9uIHRoZSBjb3Vyc2UgY3JlYXRpb24vbGluayBmb3JtcyBjbGlja2FibGUgYW5kIGNvbmZpZ3VyZSB0aGUgcmVsZXZhbnQgdHJpZ2dlcmVkIGV2ZW50LlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VDb3Vyc2VCcm93c2VyQnV0dG9ucyhvVGFibGUpIHtcbiAgICAgICAgJCgnI2lkX2NyZWF0ZV9jb3Vyc2UnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJjcmVhdGVfY291cnNlXCIsIHRpaV9jb3Vyc2VfaWQ6ICQoXCIjdGlpX2NvdXJzZV9pZFwiKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIHRpaV9jb3Vyc2VfbmFtZTogZW5jb2RlVVJJQ29tcG9uZW50KCQoXCIjdGlpX2NvdXJzZV9uYW1lXCIpLmh0bWwoKSksXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZV9uYW1lOiBlbmNvZGVVUklDb21wb25lbnQoJChcIiNpZF9jb3Vyc2VuYW1lXCIpLnZhbCgpKSxcbiAgICAgICAgICAgICAgICAgICAgY291cnNlX2NhdGVnb3J5OiAkKFwiI2lkX2NvdXJzZWNhdGVnb3J5XCIpLnZhbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBqUXVlcnkucGFyc2VKU09OKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlQ291cnNlQ3JlYXRpb25PcHRpb25zKG9iaiwgb1RhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI2lkX3VwZGF0ZV9jb3Vyc2UnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJsaW5rX2NvdXJzZVwiLCB0aWlfY291cnNlX2lkOiAkKFwiI3RpaV9jb3Vyc2VfaWRcIikuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICB0aWlfY291cnNlX25hbWU6ICQoXCIjdGlpX2NvdXJzZV9uYW1lXCIpLmh0bWwoKSwgY291cnNlX3RvX2xpbms6ICQoXCIjaWRfY291cnNldG9saW5rXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBqUXVlcnkucGFyc2VKU09OKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlQ291cnNlQ3JlYXRpb25PcHRpb25zKG9iaiwgb1RhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGlkZSB0aGUgY291cnNlIGNyZWF0aW9uL2xpbmtpbmcgZm9ybSBvbmNlIHRoZSBzZWxlY3RlZCBUdXJuaXRpblxuICAgIC8vIGNvdXJzZSBoYXMgYmVlbiBjcmVhdGVkL2xpbmtlZCBsb2NhbGx5IGFuZCBpbml0aWFsaXNlIHRoZSBjcmVhdGUgYXNzaWdubWVudCBidXR0b24uXG4gICAgZnVuY3Rpb24gaGlkZUNvdXJzZUNyZWF0aW9uT3B0aW9ucyhvYmosIG9UYWJsZSkge1xuICAgICAgICBpZiAob2JqICE9IDApIHtcbiAgICAgICAgICAgICQoXCIjY291cnNlX2lkXCIpLmh0bWwob2JqLmNvdXJzZWlkKTtcblxuICAgICAgICAgICAgdmFyIGNiX2VsZW1lbnQgPSAnaW5wdXRbbmFtZT1cImNoZWNrXycgKyAkKCcjdGlpX2NvdXJzZV9pZCcpLmh0bWwoKSArICdcIl0nO1xuICAgICAgICAgICAgcGFyZW50LiQoY2JfZWxlbWVudCkuaGlkZSgpO1xuICAgICAgICAgICAgdmFyIHRpY2tfZWxlbWVudCA9ICcjdGlja18nICsgJCgnI3RpaV9jb3Vyc2VfaWQnKS5odG1sKCk7XG4gICAgICAgICAgICBwYXJlbnQuJCh0aWNrX2VsZW1lbnQpLnNob3coKTtcblxuICAgICAgICAgICAgJCgnZmllbGRzZXRbaWQkPVwiY3JlYXRlX2NvdXJzZV9maWVsZHNldFwiXScpLnBhcmVudCgpLnNsaWRlVG9nZ2xlKCk7XG4gICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJ1cGRhdGVfY291cnNlX2ZpZWxkc2V0XCJdJykucGFyZW50KCkuc2xpZGVUb2dnbGUoKTtcblxuICAgICAgICAgICAgJChcIiNvcl9jb250YWluZXJcIikuaGlkZSgpO1xuXG4gICAgICAgICAgICAkKCcjZXhpc3RpbmdfY291cnNlX3RpdGxlX3NwYW4nKS5odG1sKG9iai5jb3Vyc2VuYW1lKTtcbiAgICAgICAgICAgICQoJy5leGlzdGluZ19jb3Vyc2VfdGl0bGVfaDMnKS5yZW1vdmVDbGFzcygnaGlkZGVuX2NsYXNzJyk7XG5cbiAgICAgICAgICAgIGlmICgkKCcuYXNzaWdubWVudGlkc19jaGVjaycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcuYXNzaWdubWVudGlkc19jaGVjaycpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICgkKCcuYXNzaWdubWVudGlkc19jaGVjaycpLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggPj0gNSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikubm90KCc6Y2hlY2tlZCcpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGluaXRpYWxpc2VDcmVhdGVBc3NpZ25tZW50QnV0dG9uKG9UYWJsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIHRoZSBldmVudCB0byBjcmVhdGUgYW4gYXNzaWdubWVudCBmcm9tIHRoZSBzZWxlY3RlZCBwYXJ0cy5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbihvVGFibGUpIHtcbiAgICAgICAgJCgnI2lkX2NyZWF0ZV9hc3NpZ25tZW50JykudW5iaW5kKFwiY2xpY2tcIik7XG4gICAgICAgICQoJyNpZF9jcmVhdGVfYXNzaWdubWVudCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgcGFydHMgPSBcIlwiO1xuICAgICAgICAgICAgJCgnLmFzc2lnbm1lbnRpZHNfY2hlY2s6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICAgICAgcGFydHMgKz0gJCh0aGlzKS52YWwoKSArIFwiLFwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGFydHMuY2hhckF0KHBhcnRzLmxlbmd0aCAtIDEpID09ICcsJykge1xuICAgICAgICAgICAgICAgIHBhcnRzLnN1YnN0cmluZygwLCBwYXJ0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiY3JlYXRlX2Fzc2lnbm1lbnRcIiwgY291cnNlX2lkOiAkKFwiI2NvdXJzZV9pZFwiKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRfbmFtZTogJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS52YWwoKSwgcGFydHM6IHBhcnRzLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG9UYWJsZS5mblJlbG9hZEFqYXgoKTtcbiAgICAgICAgICAgICAgICAgICAgb1RhYmxlLmZuU3RhbmRpbmdSZWRyYXcoKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTsiXX0=
