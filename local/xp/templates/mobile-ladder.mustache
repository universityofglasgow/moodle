{{=<% %>=}}

<%> local_xp/mobile-css %>

<style>
.mma-xp-ladder .mma-xp-item-ladder.is-me {
    border-left: 5px solid #41c2ff;
    padding-left: 11px;
}
</style>

<%#tabs%>
    <%> local_xp/mobile-tabs %>
<%/tabs%>

<%#groupselector%>
    <%> local_xp/mobile-group-selector %>
<%/groupselector%>

<%#ladder%>
<div class="mma-xp-ladder" margin-bottom>
    <ion-list>
        <%#hasbefore%>
            <ion-item>
                <button ion-button clear block core-site-plugins-new-content component="local_xp" method="ladder_page" samePage="true" [useOtherData]="['groupid']" [args]="{courseid: <% courseid %>, page: <% prevpage %>}"><%#str%>previous, core<%/str%></button>
            </ion-item>
        <%/hasbefore%>

        <%#ranking%>
            <ion-item class="mma-xp-item-ladder <%#state.user.isme%>is-me<%/state.user.isme%>">

                <%#showrank%>
                    <div class="rank" item-start><% rank %>.</div>
                <%/showrank%>

                <%#state.level%>
                    <div item-start>
                        <%> local_xp/mobile-level-xsmall%>
                    </div>
                <%/state.level%>

                <%#showrelrank%>
                    <div class="rank rank-rel" item-start padding-left padding-right>
                        <%#rank%>
                            <%#rankpositive%>+<%/rankpositive%><% . %>
                        <%/rank%>
                        <%^rank%>0<%/rank%>
                    </div>
                <%/showrelrank%>

                <ion-avatar item-start>
                    <img src="<% state.user.profileimageurl %>" core-external-content alt="">
                </ion-avatar>

                <core-format-text text="<% state.user.fullname %>" component="local_xp"></core-format-text>

                <%#showtotal%>
                    <div item-end>
                        <%#state.xp%>
                            <%> local_xp/mobile-xp %>
                        <%/state.xp%>
                        <%^state.xp%>
                            <%> local_xp/mobile-xp-zero %>
                        <%/state.xp%>
                    </div>
                <%/showtotal%>

            </ion-item>
        <%/ranking%>

        <%#hasmore%>
            <ion-item>
                <button ion-button clear block core-site-plugins-new-content component="local_xp" method="ladder_page" samePage="true" [useOtherData]="['groupid']" [args]="{courseid: <% courseid %>, page: <% nextpage %>}"><%#str%>next, core<%/str%></button>
            </ion-item>
        <%/hasmore%>
    </ion-list>
</div>
<%/ladder%>
