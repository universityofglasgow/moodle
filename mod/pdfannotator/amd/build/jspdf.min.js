function _typeof2(obj){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof2(obj)}define("mod_pdfannotator/jspdf",(function(){var API,getCharWidthsArray,getArraySum,getStringUnitWidth,splitLongWord,splitParagraphIntoLines,_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return _typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)},jsPDF=function(global){var pageFormats={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};function PubSub(context){var topics={};this.subscribe=function(topic,callback,once){if("function"!=typeof callback)return!1;topics.hasOwnProperty(topic)||(topics[topic]={});var id=Math.random().toString(35);return topics[topic][id]=[callback,!!once],id},this.unsubscribe=function(token){for(var topic in topics)if(topics[topic][token])return delete topics[topic][token],!0;return!1},this.publish=function(topic){if(topics.hasOwnProperty(topic)){var args=Array.prototype.slice.call(arguments,1),idr=[];for(var id in topics[topic]){var sub=topics[topic][id];try{sub[0].apply(context,args)}catch(ex){global.console&&console.error("jsPDF PubSub Error",ex.message,ex)}sub[1]&&idr.push(id)}idr.length&&idr.forEach(this.unsubscribe)}}}function jsPDF(orientation,unit,format,compressPdf){var options={};"object"===(void 0===orientation?"undefined":_typeof(orientation))&&(orientation=(options=orientation).orientation,unit=options.unit||unit,format=options.format||format,compressPdf=options.compress||options.compressPdf||compressPdf),unit=unit||"mm",format=format||"a4",orientation=(""+(orientation||"P")).toLowerCase();(""+format).toLowerCase();var activeFontKey,k,tmp,currentPage,pageWidth,pageHeight,pageMode,zoomMode,layoutMode,creationDate,fn,compress=!!compressPdf&&"function"==typeof Uint8Array,textColor=options.textColor||"0 g",drawColor=options.drawColor||"0 G",activeFontSize=options.fontSize||16,activeCharSpace=options.charSpace||0,R2L=options.R2L||!1,lineHeightProportion=options.lineHeight||1.15,lineWidth=options.lineWidth||.200025,fileId="00000000000000000000000000000000",objectNumber=2,outToPages=!1,offsets=[],fonts={},fontmap={},page=0,pages=[],pagesContext=[],pagedim=[],content=[],additionalObjects=[],lineCapID=0,lineJoinID=0,content_length=0,documentProperties={title:"",subject:"",author:"",keywords:"",creator:""},API={},events=new PubSub(API),hotfixes=options.hotfixes||[],generateColorString=function(options){var color,ch1=options.ch1,ch2=options.ch2,ch3=options.ch3,ch4=options.ch4,letterArray=(options.precision,"draw"===options.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof ch1&&"#"!==ch1.charAt(0)){var rgbColor=new RGBColor(ch1);rgbColor.ok&&(ch1=rgbColor.toHex())}if("string"==typeof ch1&&/^#[0-9A-Fa-f]{3}$/.test(ch1)&&(ch1="#"+ch1[1]+ch1[1]+ch1[2]+ch1[2]+ch1[3]+ch1[3]),"string"==typeof ch1&&/^#[0-9A-Fa-f]{6}$/.test(ch1)){var hex=parseInt(ch1.substr(1),16);ch1=hex>>16&255,ch2=hex>>8&255,ch3=255&hex}if(void 0===ch2||void 0===ch4&&ch1===ch2&&ch2===ch3)if("string"==typeof ch1)color=ch1+" "+letterArray[0];else if(2===options.precision)color=f2(ch1/255)+" "+letterArray[0];else color=f3(ch1/255)+" "+letterArray[0];else if(void 0===ch4||"object"===(void 0===ch4?"undefined":_typeof(ch4))){if("string"==typeof ch1)color=[ch1,ch2,ch3,letterArray[1]].join(" ");else if(2===options.precision)color=[f2(ch1/255),f2(ch2/255),f2(ch3/255),letterArray[1]].join(" ");else color=[f3(ch1/255),f3(ch2/255),f3(ch3/255),letterArray[1]].join(" ");ch4&&0===ch4.a&&(color=["255","255","255",letterArray[1]].join(" "))}else if("string"==typeof ch1)color=[ch1,ch2,ch3,ch4,letterArray[2]].join(" ");else if(2===options.precision)color=[f2(ch1),f2(ch2),f2(ch3),f2(ch4),letterArray[2]].join(" ");else color=[f3(ch1),f3(ch2),f3(ch3),f3(ch4),letterArray[2]].join(" ");return color},convertDateToPDFDate=function(parmDate){var padd2=function(number){return("0"+parseInt(number)).slice(-2)},tzoffset=parmDate.getTimezoneOffset(),tzsign=tzoffset<0?"+":"-",tzhour=Math.floor(Math.abs(tzoffset/60)),tzmin=Math.abs(tzoffset%60),timeZoneString=[tzsign,padd2(tzhour),"'",padd2(tzmin),"'"].join("");return["D:",parmDate.getFullYear(),padd2(parmDate.getMonth()+1),padd2(parmDate.getDate()),padd2(parmDate.getHours()),padd2(parmDate.getMinutes()),padd2(parmDate.getSeconds()),timeZoneString].join("")},setCreationDate=function(date){var tmpCreationDateString;return void 0===(void 0===date?"undefined":_typeof(date))&&(date=new Date),tmpCreationDateString="object"===(void 0===date?"undefined":_typeof(date))&&"[object Date]"===Object.prototype.toString.call(date)?convertDateToPDFDate(date):/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(date)?date:convertDateToPDFDate(new Date),creationDate=tmpCreationDateString},getCreationDate=function(type){var parmPDFDate,year,month,date,hour,minutes,seconds,result=creationDate;return"jsDate"===type&&(parmPDFDate=creationDate,year=parseInt(parmPDFDate.substr(2,4),10),month=parseInt(parmPDFDate.substr(6,2),10)-1,date=parseInt(parmPDFDate.substr(8,2),10),hour=parseInt(parmPDFDate.substr(10,2),10),minutes=parseInt(parmPDFDate.substr(12,2),10),seconds=parseInt(parmPDFDate.substr(14,2),10),parseInt(parmPDFDate.substr(16,2),10),parseInt(parmPDFDate.substr(20,2),10),result=new Date(year,month,date,hour,minutes,seconds,0)),result},setFileId=function(value){return value=value||"12345678901234567890123456789012".split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),fileId=value},f2=function(number){return number.toFixed(2)},f3=function(number){return number.toFixed(3)},out=function(string){string="string"==typeof string?string:string.toString(),outToPages?pages[currentPage].push(string):(content_length+=string.length+1,content.push(string))},newObject=function(){return objectNumber++,offsets[objectNumber]=content_length,out(objectNumber+" 0 obj"),objectNumber},putStream=function(str){out("stream"),out(str),out("endstream")},putResourceDictionary=function(){for(var fontKey in out("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),out("/Font <<"),fonts)fonts.hasOwnProperty(fontKey)&&out("/"+fontKey+" "+fonts[fontKey].objectNumber+" 0 R");out(">>"),out("/XObject <<"),events.publish("putXobjectDict"),out(">>")},putResources=function(){!function(){for(var fontKey in fonts)fonts.hasOwnProperty(fontKey)&&(font=fonts[fontKey],events.publish("putFont",{font:font,out:out,newObject:newObject}),!0!==font.isAlreadyPutted&&(font.objectNumber=newObject(),out("<<"),out("/Type /Font"),out("/BaseFont /"+font.postScriptName),out("/Subtype /Type1"),"string"==typeof font.encoding&&out("/Encoding /"+font.encoding),out("/FirstChar 32"),out("/LastChar 255"),out(">>"),out("endobj")));var font}(),events.publish("putResources"),offsets[2]=content_length,out("2 0 obj"),out("<<"),putResourceDictionary(),out(">>"),out("endobj"),events.publish("postPutResources")},addToFontDictionary=function(fontKey,fontName,fontStyle){fontmap.hasOwnProperty(fontName)||(fontmap[fontName]={}),fontmap[fontName][fontStyle]=fontKey},addFont=function(postScriptName,fontName,fontStyle,encoding){var fontKey="F"+(Object.keys(fonts).length+1).toString(10),font=fonts[fontKey]={id:fontKey,postScriptName:postScriptName,fontName:fontName,fontStyle:fontStyle,encoding:encoding,metadata:{}};return addToFontDictionary(fontKey,fontName,fontStyle),events.publish("addFont",font),fontKey},pdfEscape=function(text,flags){return function(text,flags){var i,l,sourceEncoding,encodingBlock,outputEncoding,newtext,isUnicode,ch,bch;if(sourceEncoding=(flags=flags||{}).sourceEncoding||"Unicode",outputEncoding=flags.outputEncoding,(flags.autoencode||outputEncoding)&&fonts[activeFontKey].metadata&&fonts[activeFontKey].metadata[sourceEncoding]&&fonts[activeFontKey].metadata[sourceEncoding].encoding&&(encodingBlock=fonts[activeFontKey].metadata[sourceEncoding].encoding,!outputEncoding&&fonts[activeFontKey].encoding&&(outputEncoding=fonts[activeFontKey].encoding),!outputEncoding&&encodingBlock.codePages&&(outputEncoding=encodingBlock.codePages[0]),"string"==typeof outputEncoding&&(outputEncoding=encodingBlock[outputEncoding]),outputEncoding)){for(isUnicode=!1,newtext=[],i=0,l=text.length;i<l;i++)(ch=outputEncoding[text.charCodeAt(i)])?newtext.push(String.fromCharCode(ch)):newtext.push(text[i]),newtext[i].charCodeAt(0)>>8&&(isUnicode=!0);text=newtext.join("")}for(i=text.length;void 0===isUnicode&&0!==i;)text.charCodeAt(i-1)>>8&&(isUnicode=!0),i--;if(!isUnicode)return text;for(newtext=flags.noBOM?[]:[254,255],i=0,l=text.length;i<l;i++){if((bch=(ch=text.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+text+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");newtext.push(bch),newtext.push(ch-(bch<<8))}return String.fromCharCode.apply(void 0,newtext)}(text,flags).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},beginPage=function(width,height){var orientation="string"==typeof height&&height.toLowerCase();if("string"==typeof width){var format=width.toLowerCase();pageFormats.hasOwnProperty(format)&&(width=pageFormats[format][0]/k,height=pageFormats[format][1]/k)}if(Array.isArray(width)&&(height=width[1],width=width[0]),orientation){switch(orientation.substr(0,1)){case"l":height>width&&(orientation="s");break;case"p":width>height&&(orientation="s")}"s"===orientation&&(tmp=width,width=height,height=tmp)}outToPages=!0,pages[++page]=[],pagedim[page]={width:Number(width)||pageWidth,height:Number(height)||pageHeight},pagesContext[page]={},_setPage(page)},_addPage=function(){beginPage.apply(this,arguments),out(f2(lineWidth*k)+" w"),out(drawColor),0!==lineCapID&&out(lineCapID+" J"),0!==lineJoinID&&out(lineJoinID+" j"),events.publish("addPage",{pageNumber:page})},_deletePage=function(n){n>0&&n<=page&&(pages.splice(n,1),pagedim.splice(n,1),page--,currentPage>page&&(currentPage=page),this.setPage(currentPage))},_setPage=function(n){n>0&&n<=page&&(currentPage=n,pageWidth=pagedim[n].width,pageHeight=pagedim[n].height)},_getFont=function(fontName,fontStyle,options){var fontNameLowerCase,key=void 0;return options=options||{},fontName=void 0!==fontName?fontName:fonts[activeFontKey].fontName,fontStyle=void 0!==fontStyle?fontStyle:fonts[activeFontKey].fontStyle,fontNameLowerCase=fontName.toLowerCase(),void 0!==fontmap[fontNameLowerCase]&&void 0!==fontmap[fontNameLowerCase][fontStyle]?key=fontmap[fontNameLowerCase][fontStyle]:void 0!==fontmap[fontName]&&void 0!==fontmap[fontName][fontStyle]?key=fontmap[fontName][fontStyle]:!1===options.disableWarning&&console.warn("Unable to look up font label for font '"+fontName+"', '"+fontStyle+"'. Refer to getFontList() for available fonts."),key||options.noFallback||null==(key=fontmap.times[fontStyle])&&(key=fontmap.times.normal),key},buildDocument=function(){outToPages=!1,objectNumber=2,content_length=0,content=[],offsets=[],additionalObjects=[],events.publish("buildDocument"),out("%PDF-1.3"),out("%ºß¬à"),function(){var n,p,arr,i,deflater,adler32,adler32cs,wPt,hPt,pageObjectNumbers=[];for(adler32cs=global.adler32cs||jsPDF.API.adler32cs,compress&&void 0===adler32cs&&(compress=!1),n=1;n<=page;n++){if(pageObjectNumbers.push(newObject()),wPt=(pageWidth=pagedim[n].width)*k,hPt=(pageHeight=pagedim[n].height)*k,out("<</Type /Page"),out("/Parent 1 0 R"),out("/Resources 2 0 R"),out("/MediaBox [0 0 "+f2(wPt)+" "+f2(hPt)+"]"),events.publish("putPage",{pageNumber:n,page:pages[n]}),out("/Contents "+(objectNumber+1)+" 0 R"),out(">>"),out("endobj"),p=pages[n].join("\n"),newObject(),compress){for(arr=[],i=p.length;i--;)arr[i]=p.charCodeAt(i);adler32=adler32cs.from(p),(deflater=new Deflater(6)).append(new Uint8Array(arr)),p=deflater.flush(),(arr=new Uint8Array(p.length+6)).set(new Uint8Array([120,156])),arr.set(p,2),arr.set(new Uint8Array([255&adler32,adler32>>8&255,adler32>>16&255,adler32>>24&255]),p.length+2),p=String.fromCharCode.apply(null,arr),out("<</Length "+p.length+" /Filter [/FlateDecode]>>")}else out("<</Length "+p.length+">>");putStream(p),out("endobj")}offsets[1]=content_length,out("1 0 obj"),out("<</Type /Pages");var kids="/Kids [";for(i=0;i<page;i++)kids+=pageObjectNumbers[i]+" 0 R ";out(kids+"]"),out("/Count "+page),out(">>"),out("endobj"),events.publish("postPutPages")}(),function(){events.publish("putAdditionalObjects");for(var i=0;i<additionalObjects.length;i++){var obj=additionalObjects[i];offsets[obj.objId]=content_length,out(obj.objId+" 0 obj"),out(obj.content),out("endobj")}objectNumber+=additionalObjects.length,events.publish("postPutAdditionalObjects")}(),putResources(),newObject(),out("<<"),function(){for(var key in out("/Producer (jsPDF "+jsPDF.version+")"),documentProperties)documentProperties.hasOwnProperty(key)&&documentProperties[key]&&out("/"+key.substr(0,1).toUpperCase()+key.substr(1)+" ("+pdfEscape(documentProperties[key])+")");out("/CreationDate ("+creationDate+")")}(),out(">>"),out("endobj"),newObject(),out("<<"),function(){switch(out("/Type /Catalog"),out("/Pages 1 0 R"),zoomMode||(zoomMode="fullwidth"),zoomMode){case"fullwidth":out("/OpenAction [3 0 R /FitH null]");break;case"fullheight":out("/OpenAction [3 0 R /FitV null]");break;case"fullpage":out("/OpenAction [3 0 R /Fit]");break;case"original":out("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pcn=""+zoomMode;"%"===pcn.substr(pcn.length-1)&&(zoomMode=parseInt(zoomMode)/100),"number"==typeof zoomMode&&out("/OpenAction [3 0 R /XYZ null null "+f2(zoomMode)+"]")}switch(layoutMode||(layoutMode="continuous"),layoutMode){case"continuous":out("/PageLayout /OneColumn");break;case"single":out("/PageLayout /SinglePage");break;case"two":case"twoleft":out("/PageLayout /TwoColumnLeft");break;case"tworight":out("/PageLayout /TwoColumnRight")}pageMode&&out("/PageMode /"+pageMode),events.publish("putCatalog")}(),out(">>"),out("endobj");var i,o=content_length,p="0000000000";for(out("xref"),out("0 "+(objectNumber+1)),out(p+" 65535 f "),i=1;i<=objectNumber;i++){var offset=offsets[i];out("function"==typeof offset?(p+offsets[i]()).slice(-10)+" 00000 n ":(p+offsets[i]).slice(-10)+" 00000 n ")}return out("trailer"),out("<<"),out("/Size "+(objectNumber+1)),out("/Root "+objectNumber+" 0 R"),out("/Info "+(objectNumber-1)+" 0 R"),out("/ID [ <"+fileId+"> <"+fileId+"> ]"),out(">>"),out("startxref"),out(""+o),out("%%EOF"),outToPages=!0,content.join("\n")},getStyle=function(style){var op="S";return"F"===style?op="f":"FD"===style||"DF"===style?op="B":"f"!==style&&"f*"!==style&&"B"!==style&&"B*"!==style||(op=style),op},getArrayBuffer=function(){for(var data=buildDocument(),len=data.length,ab=new ArrayBuffer(len),u8=new Uint8Array(ab);len--;)u8[len]=data.charCodeAt(len);return ab},getBlob=function(){return new Blob([getArrayBuffer()],{type:"application/pdf"})},_output=(fn=function(type,options){var datauri="dataur"===(""+type).substr(0,6)?"data:application/pdf;base64,"+btoa(buildDocument()):0;switch(type){case void 0:return buildDocument();case"save":if("object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))&&navigator.getUserMedia&&(void 0===global.URL||void 0===global.URL.createObjectURL))return API.output("dataurlnewwindow");saveAs(getBlob(),options),"function"==typeof saveAs.unload&&global.setTimeout&&setTimeout(saveAs.unload,911);break;case"arraybuffer":return getArrayBuffer();case"blob":return getBlob();case"bloburi":case"bloburl":return global.URL&&global.URL.createObjectURL(getBlob())||void 0;case"datauristring":case"dataurlstring":return datauri;case"dataurlnewwindow":var nW=global.open(datauri);if(nW||"undefined"==typeof safari)return nW;case"datauri":case"dataurl":return global.document.location.href=datauri;default:throw new Error('Output type "'+type+'" is not supported.')}},fn.foo=function(){try{return fn.apply(this,arguments)}catch(e){var stack=e.stack||"";~stack.indexOf(" at ")&&(stack=stack.split(" at ")[1]);var m="Error in function "+stack.split("\n")[0].split("<")[0]+": "+e.message;if(!global.console)throw new Error(m);global.console.error(m,e),global.alert&&alert(m)}},fn.foo.bar=fn,fn.foo),hasHotfix=function(hotfixName){return!0===Array.isArray(hotfixes)&&hotfixes.indexOf(hotfixName)>-1};switch(unit){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=1==hasHotfix("px_scaling")?.75:96/72;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+unit}for(var plugin in setCreationDate(),setFileId(),API.internal={pdfEscape:pdfEscape,getStyle:getStyle,getFont:function(){return fonts[_getFont.apply(API,arguments)]},getFontSize:function(){return activeFontSize},getCharSpace:function(){return activeCharSpace},getTextColor:function(){var colorEncoded=textColor.split(" ");if(2===colorEncoded.length&&"g"===colorEncoded[1]){var floatVal=parseFloat(colorEncoded[0]);colorEncoded=[floatVal,floatVal,floatVal,"r"]}for(var colorAsHex="#",i=0;i<3;i++)colorAsHex+=("0"+Math.floor(255*parseFloat(colorEncoded[i])).toString(16)).slice(-2);return colorAsHex},getLineHeight:function(){return activeFontSize*lineHeightProportion},write:function(string1){out(1===arguments.length?string1:Array.prototype.join.call(arguments," "))},getCoordinateString:function(value){return f2(value*k)},getVerticalCoordinateString:function(value){return f2((pageHeight-value)*k)},collections:{},newObject:newObject,newAdditionalObject:function(){var objId=2*pages.length+1,obj={objId:objId+=additionalObjects.length,content:""};return additionalObjects.push(obj),obj},newObjectDeferred:function(){return objectNumber++,offsets[objectNumber]=function(){return content_length},objectNumber},newObjectDeferredBegin:function(oid){offsets[oid]=content_length},putStream:putStream,events:events,scaleFactor:k,pageSize:{getWidth:function(){return pageWidth},getHeight:function(){return pageHeight}},output:function(type,options){return _output(type,options)},getNumberOfPages:function(){return pages.length-1},pages:pages,out:out,f2:f2,getPageInfo:function(pageNumberOneBased){return{objId:2*(pageNumberOneBased-1)+3,pageNumber:pageNumberOneBased,pageContext:pagesContext[pageNumberOneBased]}},getCurrentPageInfo:function(){return{objId:2*(currentPage-1)+3,pageNumber:currentPage,pageContext:pagesContext[currentPage]}},getPDFVersion:function(){return"1.3"},hasHotfix:hasHotfix},API.addPage=function(){return _addPage.apply(this,arguments),this},API.setPage=function(){return _setPage.apply(this,arguments),this},API.insertPage=function(beforePage){return this.addPage(),this.movePage(currentPage,beforePage),this},API.movePage=function(targetPage,beforePage){if(targetPage>beforePage){for(var tmpPages=pages[targetPage],tmpPagedim=pagedim[targetPage],tmpPagesContext=pagesContext[targetPage],i=targetPage;i>beforePage;i--)pages[i]=pages[i-1],pagedim[i]=pagedim[i-1],pagesContext[i]=pagesContext[i-1];pages[beforePage]=tmpPages,pagedim[beforePage]=tmpPagedim,pagesContext[beforePage]=tmpPagesContext,this.setPage(beforePage)}else if(targetPage<beforePage){for(tmpPages=pages[targetPage],tmpPagedim=pagedim[targetPage],tmpPagesContext=pagesContext[targetPage],i=targetPage;i<beforePage;i++)pages[i]=pages[i+1],pagedim[i]=pagedim[i+1],pagesContext[i]=pagesContext[i+1];pages[beforePage]=tmpPages,pagedim[beforePage]=tmpPagedim,pagesContext[beforePage]=tmpPagesContext,this.setPage(beforePage)}return this},API.deletePage=function(){return _deletePage.apply(this,arguments),this},API.setCreationDate=function(date){return setCreationDate(date),this},API.getCreationDate=function(type){return getCreationDate(type)},API.setFileId=function(value){return setFileId(value),this},API.getFileId=function(){return fileId},API.setDisplayMode=function(zoom,layout,pmode){if(zoomMode=zoom,layoutMode=layout,pageMode=pmode,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(pmode))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+pmode+'" is not recognized.');return this},API.text=function(text,x,y,options){var tmp,xtra="",isHex=!1,lineHeight=lineHeightProportion,scope=this;function ESC(s){return s=s.split("\t").join(Array(options.TabLen||9).join(" ")),pdfEscape(s,flags)}function transformTextToSpecialArray(text){for(var curDa,sa=text.concat(),da=[],len=sa.length;len--;)"string"==typeof(curDa=sa.shift())?da.push(curDa):"[object Array]"===Object.prototype.toString.call(text)&&1===curDa.length?da.push(curDa[0]):da.push([curDa[0],curDa[1],curDa[2]]);return da}function processTextByFunction(text,processingFunction){var result;if("string"==typeof text)result=processingFunction(text)[0];else if("[object Array]"===Object.prototype.toString.call(text)){for(var curDa,tmpResult,sa=text.concat(),da=[],len=sa.length;len--;)"string"==typeof(curDa=sa.shift())?da.push(processingFunction(curDa)[0]):"[object Array]"===Object.prototype.toString.call(curDa)&&"string"===curDa[0]&&(tmpResult=processingFunction(curDa[0],curDa[1],curDa[2]),da.push([tmpResult[0],tmpResult[1],tmpResult[2]]));result=da}return result}"number"==typeof text&&(tmp=y,y=x,x=text,text=tmp);var angle=arguments[4],align=arguments[5];"object"===(void 0===(flags=arguments[3])?"undefined":_typeof(flags))&&null!==flags||("string"==typeof angle&&(align=angle,angle=null),"string"==typeof flags&&(align=flags,flags=null),"number"==typeof flags&&(angle=flags,flags=null),options={flags:flags,angle:angle,align:align});var textIsOfTypeString=!1,tmpTextIsOfTypeString=!0;if("string"==typeof text)textIsOfTypeString=!0;else if("[object Array]"===Object.prototype.toString.call(text)){for(var curDa,sa=text.concat(),da=[],len=sa.length;len--;)("string"!=typeof(curDa=sa.shift())||"[object Array]"===Object.prototype.toString.call(curDa)&&"string"!=typeof curDa[0])&&(tmpTextIsOfTypeString=!1);textIsOfTypeString=tmpTextIsOfTypeString}if(!1===textIsOfTypeString)throw new Error('Type of text must be string or Array. "'+text+'" is not recognized.');var activeFontEncoding=fonts[activeFontKey].encoding;"WinAnsiEncoding"!==activeFontEncoding&&"StandardEncoding"!==activeFontEncoding||(text=processTextByFunction(text,(function(text,posX,posY){return[ESC(text),posX,posY]}))),"string"==typeof text&&(text=text.match(/[\r?\n]/)?text.split(/\r\n|\r|\n/g):[text]),(maxWidth=options.maxWidth||0)>0&&("string"==typeof text?text=scope.splitTextToSize(text,maxWidth):"[object Array]"===Object.prototype.toString.call(text)&&(text=scope.splitTextToSize(text.join(" "),maxWidth)));var payload={text:text,x:x,y:y,options:options,mutex:{pdfEscape:pdfEscape,activeFontKey:activeFontKey,fonts:fonts,activeFontSize:activeFontSize}};events.publish("preProcessText",payload),text=payload.text;angle=(options=payload.options).angle;var k=scope.internal.scaleFactor,transformationMatrix=(scope.internal.pageSize.getHeight(),[]);if(angle){angle*=Math.PI/180;var c=Math.cos(angle),s=Math.sin(angle),f2=function(number){return number.toFixed(2)};transformationMatrix=[f2(c),f2(s),f2(-1*s),f2(c)]}void 0!==(charSpace=options.charSpace)&&(xtra+=charSpace+" Tc\n");options.lang;var tmpRenderingMode=-1,parmRenderingMode=options.renderingMode||options.stroke,pageContext=scope.internal.getCurrentPageInfo().pageContext;switch(parmRenderingMode){case 0:case!1:case"fill":tmpRenderingMode=0;break;case 1:case!0:case"stroke":tmpRenderingMode=1;break;case 2:case"fillThenStroke":tmpRenderingMode=2;break;case 3:case"invisible":tmpRenderingMode=3;break;case 4:case"fillAndAddForClipping":tmpRenderingMode=4;break;case 5:case"strokeAndAddPathForClipping":tmpRenderingMode=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tmpRenderingMode=6;break;case 7:case"addToPathForClipping":tmpRenderingMode=7}var usedRenderingMode=pageContext.usedRenderingMode||-1;-1!==tmpRenderingMode?xtra+=tmpRenderingMode+" Tr\n":-1!==usedRenderingMode&&(xtra+="0 Tr\n"),-1!==tmpRenderingMode&&(pageContext.usedRenderingMode=tmpRenderingMode);align=options.align||"left";var leading=activeFontSize*lineHeight,pageHeight=scope.internal.pageSize.getHeight(),pageWidth=scope.internal.pageSize.getWidth(),activeFont=(k=scope.internal.scaleFactor,fonts[activeFontKey]),charSpace=options.charSpace||activeCharSpace,maxWidth=options.maxWidth||0,flags={},wordSpacingPerLine=[];if("[object Array]"===Object.prototype.toString.call(text)){var newY,lineWidths;da=transformTextToSpecialArray(text);"left"!==align&&(lineWidths=da.map((function(v){return scope.getStringUnitWidth(v,{font:activeFont,charSpace:charSpace,fontSize:activeFontSize})*activeFontSize/k})));var newX,maxLineLength=Math.max.apply(Math,lineWidths),prevWidth=0;if("right"===align){x-=lineWidths[0],text=[];var i=0;for(len=da.length;i<len;i++)maxLineLength-lineWidths[i],0===i?(newX=x*k,newY=(pageHeight-y)*k):(newX=(prevWidth-lineWidths[i])*k,newY=-leading),text.push([da[i],newX,newY]),prevWidth=lineWidths[i]}else if("center"===align){x-=lineWidths[0]/2,text=[];for(i=0,len=da.length;i<len;i++)(maxLineLength-lineWidths[i])/2,0===i?(newX=x*k,newY=(pageHeight-y)*k):(newX=(prevWidth-lineWidths[i])/2*k,newY=-leading),text.push([da[i],newX,newY]),prevWidth=lineWidths[i]}else if("left"===align){text=[];for(i=0,len=da.length;i<len;i++)newY=0===i?(pageHeight-y)*k:-leading,newX=0===i?x*k:0,text.push(da[i])}else{if("justify"!==align)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');text=[];for(maxWidth=0!==maxWidth?maxWidth:pageWidth,i=0,len=da.length;i<len;i++)newY=0===i?(pageHeight-y)*k:-leading,newX=0===i?x*k:0,i<len-1&&wordSpacingPerLine.push(((maxWidth-lineWidths[i])/(da[i].split(" ").length-1)*k).toFixed(2)),text.push([da[i],newX,newY])}}var doReversing="boolean"==typeof options.R2L?options.R2L:R2L;!0===doReversing&&(text=processTextByFunction(text,(function(text,posX,posY){return[text.split("").reverse().join(""),posX,posY]})));payload={text:text,x:x,y:y,options:options,mutex:{pdfEscape:pdfEscape,activeFontKey:activeFontKey,fonts:fonts,activeFontSize:activeFontSize}};events.publish("postProcessText",payload),text=payload.text,isHex=payload.mutex.isHex;da=transformTextToSpecialArray(text);text=[];var posX,posY,content,variant=0,wordSpacing=(len=da.length,"");for(i=0;i<len;i++)wordSpacing="","[object Array]"!==Object.prototype.toString.call(da[i])?(posX=parseFloat(x*k).toFixed(2),posY=parseFloat((pageHeight-y)*k).toFixed(2),content=(isHex?"<":"(")+da[i]+(isHex?">":")")):"[object Array]"===Object.prototype.toString.call(da[i])&&(posX=parseFloat(da[i][1]).toFixed(2),posY=parseFloat(da[i][2]).toFixed(2),content=(isHex?"<":"(")+da[i][0]+(isHex?">":")"),variant=1),void 0!==wordSpacingPerLine&&void 0!==wordSpacingPerLine[i]&&(wordSpacing=wordSpacingPerLine[i]+" Tw\n"),0!==transformationMatrix.length&&0===i?text.push(wordSpacing+transformationMatrix.join(" ")+" "+posX+" "+posY+" Tm\n"+content):1===variant||0===variant&&0===i?text.push(wordSpacing+posX+" "+posY+" Td\n"+content):text.push(wordSpacing+content);text=0===variant?text.join(" Tj\nT* "):text.join(" Tj\n"),text+=" Tj\n";var result="BT\n/"+activeFontKey+" "+activeFontSize+" Tf\n"+(activeFontSize*lineHeight).toFixed(2)+" TL\n"+textColor+"\n";return result+=xtra,result+=text,out(result+="ET"),scope},API.lstext=function(text,x,y,spacing){console.warn("jsPDF.lstext is deprecated");for(var i=0,len=text.length;i<len;i++,x+=spacing)this.text(text[i],x,y);return this},API.line=function(x1,y1,x2,y2){return this.lines([[x2-x1,y2-y1]],x1,y1)},API.clip=function(){out("W"),out("S")},API.clip_fixed=function(fillRule){out("evenodd"===fillRule?"W*":"W"),out("n")},API.lines=function(lines,x,y,scale,style,closed){var scalex,scaley,i,l,leg,x2,y2,x3,y3,x4,y4;for("number"==typeof lines&&(tmp=y,y=x,x=lines,lines=tmp),scale=scale||[1,1],out(f3(x*k)+" "+f3((pageHeight-y)*k)+" m "),scalex=scale[0],scaley=scale[1],l=lines.length,x4=x,y4=y,i=0;i<l;i++)2===(leg=lines[i]).length?(x4=leg[0]*scalex+x4,y4=leg[1]*scaley+y4,out(f3(x4*k)+" "+f3((pageHeight-y4)*k)+" l")):(x2=leg[0]*scalex+x4,y2=leg[1]*scaley+y4,x3=leg[2]*scalex+x4,y3=leg[3]*scaley+y4,x4=leg[4]*scalex+x4,y4=leg[5]*scaley+y4,out(f3(x2*k)+" "+f3((pageHeight-y2)*k)+" "+f3(x3*k)+" "+f3((pageHeight-y3)*k)+" "+f3(x4*k)+" "+f3((pageHeight-y4)*k)+" c"));return closed&&out(" h"),null!==style&&out(getStyle(style)),this},API.rect=function(x,y,w,h,style){getStyle(style);return out([f2(x*k),f2((pageHeight-y)*k),f2(w*k),f2(-h*k),"re"].join(" ")),null!==style&&out(getStyle(style)),this},API.triangle=function(x1,y1,x2,y2,x3,y3,style){return this.lines([[x2-x1,y2-y1],[x3-x2,y3-y2],[x1-x3,y1-y3]],x1,y1,[1,1],style,!0),this},API.roundedRect=function(x,y,w,h,rx,ry,style){var MyArc=4/3*(Math.SQRT2-1);return this.lines([[w-2*rx,0],[rx*MyArc,0,rx,ry-ry*MyArc,rx,ry],[0,h-2*ry],[0,ry*MyArc,-rx*MyArc,ry,-rx,ry],[2*rx-w,0],[-rx*MyArc,0,-rx,-ry*MyArc,-rx,-ry],[0,2*ry-h],[0,-ry*MyArc,rx*MyArc,-ry,rx,-ry]],x+rx,y,[1,1],style),this},API.ellipse=function(x,y,rx,ry,style){var lx=4/3*(Math.SQRT2-1)*rx,ly=4/3*(Math.SQRT2-1)*ry;return out([f2((x+rx)*k),f2((pageHeight-y)*k),"m",f2((x+rx)*k),f2((pageHeight-(y-ly))*k),f2((x+lx)*k),f2((pageHeight-(y-ry))*k),f2(x*k),f2((pageHeight-(y-ry))*k),"c"].join(" ")),out([f2((x-lx)*k),f2((pageHeight-(y-ry))*k),f2((x-rx)*k),f2((pageHeight-(y-ly))*k),f2((x-rx)*k),f2((pageHeight-y)*k),"c"].join(" ")),out([f2((x-rx)*k),f2((pageHeight-(y+ly))*k),f2((x-lx)*k),f2((pageHeight-(y+ry))*k),f2(x*k),f2((pageHeight-(y+ry))*k),"c"].join(" ")),out([f2((x+lx)*k),f2((pageHeight-(y+ry))*k),f2((x+rx)*k),f2((pageHeight-(y+ly))*k),f2((x+rx)*k),f2((pageHeight-y)*k),"c"].join(" ")),null!==style&&out(getStyle(style)),this},API.circle=function(x,y,r,style){return this.ellipse(x,y,r,r,style)},API.setProperties=function(properties){for(var property in documentProperties)documentProperties.hasOwnProperty(property)&&properties[property]&&(documentProperties[property]=properties[property]);return this},API.setFontSize=function(size){return activeFontSize=size,this},API.setFont=function(fontName,fontStyle){return activeFontKey=_getFont(fontName,fontStyle),this},API.setFontStyle=API.setFontType=function(style){return activeFontKey=_getFont(void 0,style),this},API.getFontList=function(){var fontName,fontStyle,tmp,list={};for(fontName in fontmap)if(fontmap.hasOwnProperty(fontName))for(fontStyle in list[fontName]=tmp=[],fontmap[fontName])fontmap[fontName].hasOwnProperty(fontStyle)&&tmp.push(fontStyle);return list},API.addFont=function(postScriptName,fontName,fontStyle,encoding){addFont(postScriptName,fontName,fontStyle,encoding=encoding||"Identity-H")},API.setLineWidth=function(width){return out((width*k).toFixed(2)+" w"),this},API.setDrawColor=function(ch1,ch2,ch3,ch4){return out(generateColorString({ch1:ch1,ch2:ch2,ch3:ch3,ch4:ch4,pdfColorType:"draw",precision:2})),this},API.setFillColor=function(ch1,ch2,ch3,ch4){return out(generateColorString({ch1:ch1,ch2:ch2,ch3:ch3,ch4:ch4,pdfColorType:"fill",precision:2})),this},API.setTextColor=function(ch1,ch2,ch3,ch4){return textColor=generateColorString({ch1:ch1,ch2:ch2,ch3:ch3,ch4:ch4,pdfColorType:"text",precision:3}),this},API.setCharSpace=function(charSpace){return activeCharSpace=charSpace,this},API.setR2L=function(boolean){return R2L=boolean,this},API.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},API.setLineCap=function(style){var id=this.CapJoinStyles[style];if(void 0===id)throw new Error("Line cap style of '"+style+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lineCapID=id,out(id+" J"),this},API.setLineJoin=function(style){var id=this.CapJoinStyles[style];if(void 0===id)throw new Error("Line join style of '"+style+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lineJoinID=id,out(id+" j"),this},API.output=_output,API.save=function(filename){API.output("save",filename)},jsPDF.API)jsPDF.API.hasOwnProperty(plugin)&&("events"===plugin&&jsPDF.API.events.length?function(events,newEvents){var eventname,handler_and_args,i;for(i=newEvents.length-1;-1!==i;i--)eventname=newEvents[i][0],handler_and_args=newEvents[i][1],events.subscribe.apply(events,[eventname].concat("function"==typeof handler_and_args?[handler_and_args]:handler_and_args))}(events,jsPDF.API.events):API[plugin]=jsPDF.API[plugin]);return function(){for(var standardFonts=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],i=0,l=standardFonts.length;i<l;i++){var fontKey=addFont(standardFonts[i][0],standardFonts[i][1],standardFonts[i][2],standardFonts[i][3]),parts=standardFonts[i][0].split("-");addToFontDictionary(fontKey,parts[0],parts[1]||"")}events.publish("addFonts",{fonts:fonts,dictionary:fontmap})}(),activeFontKey="F1",_addPage(format,orientation),events.publish("initialized"),API}return jsPDF.API={events:[]},jsPDF.version="0.0.0","function"==typeof define&&define.amd?define("jsPDF",(function(){return jsPDF})):"undefined"!=typeof module&&module.exports?(module.exports=jsPDF,module.exports.jsPDF=jsPDF):global.jsPDF=jsPDF,jsPDF}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());
/** @preserve
   * jsPDF - PDF Document creation from JavaScript
   * Version 1.4.1 Built on 2018-06-06T07:49:28.721Z
   *                           CommitID 3233f44044
   *
   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, willow-systems.com
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Licensed under the MIT License
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */!function(jsPDFAPI,globalObj){var scope,pageHeight,scaleFactor=1,inherit=function(child,parent){child.prototype=Object.create(parent.prototype),child.prototype.constructor=child},scale=function(x){return x*(scaleFactor/1)},createFormXObject=function(formObject){var xobj=new AcroFormXObject,height=AcroFormAppearance.internal.getHeight(formObject)||0,width=AcroFormAppearance.internal.getWidth(formObject)||0;return xobj.BBox=[0,0,width.toFixed(2),height.toFixed(2)],xobj},setBitPosition=function(variable,position,value){variable=variable||0;var bitMask=1;if(bitMask<<=position-1,1==(value=value||1))variable=variable|bitMask;else variable=variable&~bitMask;return variable},calculateFlagsOnOptions=function(flags,opts,PDFVersion){PDFVersion=PDFVersion||1.3,flags=flags||0;return 1==opts.readOnly&&(flags=setBitPosition(flags,1)),1==opts.required&&(flags=setBitPosition(flags,2)),1==opts.noExport&&(flags=setBitPosition(flags,3)),1==opts.multiline&&(flags=setBitPosition(flags,13)),opts.password&&(flags=setBitPosition(flags,14)),opts.noToggleToOff&&(flags=setBitPosition(flags,15)),opts.radio&&(flags=setBitPosition(flags,16)),opts.pushbutton&&(flags=setBitPosition(flags,17)),opts.combo&&(flags=setBitPosition(flags,18)),opts.edit&&(flags=setBitPosition(flags,19)),opts.sort&&(flags=setBitPosition(flags,20)),opts.fileSelect&&PDFVersion>=1.4&&(flags=setBitPosition(flags,21)),opts.multiSelect&&PDFVersion>=1.4&&(flags=setBitPosition(flags,22)),opts.doNotSpellCheck&&PDFVersion>=1.4&&(flags=setBitPosition(flags,23)),1==opts.doNotScroll&&PDFVersion>=1.4&&(flags=setBitPosition(flags,24)),opts.richText&&PDFVersion>=1.4&&(flags=setBitPosition(flags,25)),flags},calculateCoordinates=function(args){var x=args[0],y=args[1],w=args[2],h=args[3],coordinates={};return Array.isArray(x)?(x[0]=scale(x[0]),x[1]=scale(x[1]),x[2]=scale(x[2]),x[3]=scale(x[3])):(x=scale(x),y=scale(y),w=scale(w),h=scale(h)),coordinates.lowerLeft_X=x||0,coordinates.lowerLeft_Y=scale(pageHeight)-y-h||0,coordinates.upperRight_X=x+w||0,coordinates.upperRight_Y=scale(pageHeight)-y||0,[coordinates.lowerLeft_X.toFixed(2),coordinates.lowerLeft_Y.toFixed(2),coordinates.upperRight_X.toFixed(2),coordinates.upperRight_Y.toFixed(2)]},calculateAppearanceStream=function(formObject){if(formObject.appearanceStreamContent)return formObject.appearanceStreamContent;if(formObject.V||formObject.DV){var stream=[],text=formObject.V||formObject.DV,calcRes=calculateX(formObject,text);stream.push("/Tx BMC"),stream.push("q"),stream.push("/F1 "+calcRes.fontSize.toFixed(2)+" Tf"),stream.push("1 0 0 1 0 0 Tm"),stream.push("BT"),stream.push(calcRes.text),stream.push("ET"),stream.push("Q"),stream.push("EMC");var appearanceStreamContent=new createFormXObject(formObject);return appearanceStreamContent.stream=stream.join("\n"),appearanceStreamContent}},calculateX=function(formObject,text,font,maxFontSize){maxFontSize=maxFontSize||12,font=font||"helvetica";var returnValue={text:"",fontSize:""},textSplit=(text=")"==(text="("==text.substr(0,1)?text.substr(1):text).substr(text.length-1)?text.substr(0,text.length-1):text).split(" "),fontSize=maxFontSize,height=AcroFormAppearance.internal.getHeight(formObject)||0;height=height<0?-height:height;var width=AcroFormAppearance.internal.getWidth(formObject)||0;width=width<0?-width:width;var isSmallerThanWidth=function(i,lastLine,fontSize){if(i+1<textSplit.length){var tmp=lastLine+" "+textSplit[i+1];return calculateFontSpace(tmp,fontSize+"px",font).width<=width-4}return!1};fontSize++;FontSize:for(;;){text="";fontSize--;var textHeight=calculateFontSpace("3",fontSize+"px",font).height,startY=formObject.multiline?height-fontSize:(height-textHeight)/2,startX=-2,lastY=startY+=2,firstWordInLine=0,lastWordInLine=0,lastLength=0;if(fontSize<=0){fontSize=12,text="(...) Tj\n",text+="% Width of Text: "+calculateFontSpace(text,"1px").width+", FieldWidth:"+width+"\n";break}lastLength=calculateFontSpace(textSplit[0]+" ",fontSize+"px",font).width;var lastLine="",lineCount=0;for(var i in textSplit){lastLine=" "==(lastLine+=textSplit[i]+" ").substr(lastLine.length-1)?lastLine.substr(0,lastLine.length-1):lastLine;var key=parseInt(i);lastLength=calculateFontSpace(lastLine+" ",fontSize+"px",font).width;var nextLineIsSmaller=isSmallerThanWidth(key,lastLine,fontSize),isLastWord=i>=textSplit.length-1;if(!nextLineIsSmaller||isLastWord){if(nextLineIsSmaller||isLastWord){if(isLastWord)lastWordInLine=key;else if(formObject.multiline&&(textHeight+2)*(lineCount+2)+2>height)continue FontSize}else{if(!formObject.multiline)continue FontSize;if((textHeight+2)*(lineCount+2)+2>height)continue FontSize;lastWordInLine=key}for(var line="",x=firstWordInLine;x<=lastWordInLine;x++)line+=textSplit[x]+" ";switch(line=" "==line.substr(line.length-1)?line.substr(0,line.length-1):line,lastLength=calculateFontSpace(line,fontSize+"px",font).width,formObject.Q){case 2:startX=width-lastLength-2;break;case 1:startX=(width-lastLength)/2;break;default:startX=2}text+=startX.toFixed(2)+" "+lastY.toFixed(2)+" Td\n",text+="("+line+") Tj\n",text+=-startX.toFixed(2)+" 0 Td\n",lastY=-(fontSize+2),lastLength=0,firstWordInLine=lastWordInLine+1,lineCount++,lastLine=""}else lastLine+=" "}break}return returnValue.text=text,returnValue.fontSize=fontSize,returnValue},calculateFontSpace=function(text,fontSize,fontType){fontType=fontType||"helvetica";var font=scope.internal.getFont(fontType),width=scope.getStringUnitWidth(text,{font:font,fontSize:parseFloat(fontSize),charSpace:0})*parseFloat(fontSize);return{height:scope.getStringUnitWidth("3",{font:font,fontSize:parseFloat(fontSize),charSpace:0})*parseFloat(fontSize)*1.5,width:width}},acroformPluginTemplate={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},annotReferenceCallback=function(){for(var i in scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields){var formObject=scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields[i];formObject.hasAnnotation&&createAnnotationReference.call(scope,formObject)}},putForm=function(formObject){scope.internal.acroformPlugin.printedOut&&(scope.internal.acroformPlugin.printedOut=!1,scope.internal.acroformPlugin.acroFormDictionaryRoot=null),scope.internal.acroformPlugin.acroFormDictionaryRoot||initializeAcroForm.call(scope),scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(formObject)},createAnnotationReference=function(object){var options={type:"reference",object:object};scope.annotationPlugin.annotations[scope.internal.getPageInfo(object.page).pageNumber].push(options)},putCatalogCallback=function(){void 0!==scope.internal.acroformPlugin.acroFormDictionaryRoot?scope.internal.write("/AcroForm "+scope.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},AcroFormDictionaryCallback=function(){scope.internal.events.unsubscribe(scope.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete scope.internal.acroformPlugin.acroFormDictionaryRoot._eventID,scope.internal.acroformPlugin.printedOut=!0},createFieldCallback=function(fieldArray){var standardFields=!fieldArray;fieldArray||(scope.internal.newObjectDeferredBegin(scope.internal.acroformPlugin.acroFormDictionaryRoot.objId),scope.internal.out(scope.internal.acroformPlugin.acroFormDictionaryRoot.getString()));fieldArray=fieldArray||scope.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var i in fieldArray){var form=fieldArray[i],oldRect=form.Rect;form.Rect&&(form.Rect=calculateCoordinates.call(this,form.Rect)),scope.internal.newObjectDeferredBegin(form.objId);var content=form.objId+" 0 obj\n<<\n";if("object"===(void 0===form?"undefined":_typeof(form))&&"function"==typeof form.getContent&&(content+=form.getContent()),form.Rect=oldRect,form.hasAppearanceStream&&!form.appearanceStreamContent){var appearance=calculateAppearanceStream.call(this,form);content+="/AP << /N "+appearance+" >>\n",scope.internal.acroformPlugin.xForms.push(appearance)}if(form.appearanceStreamContent){for(var k in content+="/AP << ",form.appearanceStreamContent){var value=form.appearanceStreamContent[k];if(content+="/"+k+" ",content+="<< ",Object.keys(value).length>=1||Array.isArray(value))for(var i in value){var obj;"function"==typeof(obj=value[i])&&(obj=obj.call(this,form)),content+="/"+i+" "+obj+" ",scope.internal.acroformPlugin.xForms.indexOf(obj)>=0||scope.internal.acroformPlugin.xForms.push(obj)}else"function"==typeof(obj=value)&&(obj=obj.call(this,form)),content+="/"+i+" "+obj+" \n",scope.internal.acroformPlugin.xForms.indexOf(obj)>=0||scope.internal.acroformPlugin.xForms.push(obj);content+=" >>\n"}content+=">>\n"}content+=">>\nendobj\n",scope.internal.out(content)}standardFields&&createXFormObjectCallback.call(this,scope.internal.acroformPlugin.xForms)},createXFormObjectCallback=function(fieldArray){for(var i in fieldArray){var key=i,form=fieldArray[i];scope.internal.newObjectDeferredBegin(form&&form.objId);var content="";"object"===(void 0===form?"undefined":_typeof(form))&&"function"==typeof form.getString&&(content=form.getString()),scope.internal.out(content),delete fieldArray[key]}},initializeAcroForm=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(scope=this,AcroFormField.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(acroformPluginTemplate)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");scaleFactor=scope.internal.scaleFactor,pageHeight=scope.internal.pageSize.getHeight(),scope.internal.acroformPlugin.acroFormDictionaryRoot=new AcroFormDictionary,scope.internal.acroformPlugin.acroFormDictionaryRoot._eventID=scope.internal.events.subscribe("postPutResources",AcroFormDictionaryCallback),scope.internal.events.subscribe("buildDocument",annotReferenceCallback),scope.internal.events.subscribe("putCatalog",putCatalogCallback),scope.internal.events.subscribe("postPutPages",createFieldCallback),scope.internal.acroformPlugin.isInitialized=!0}},arrayToPdfArray=function(array){if(Array.isArray(array)){var content=" [";for(var i in array){content+=array[i].toString(),content+=i<array.length-1?" ":""}return content+="]"}},toPdfString=function(string){return 0!==(string=string||"").indexOf("(")&&(string="("+string),")"!=string.substring(string.length-1)&&(string+=")"),string},AcroFormPDFObject=function(){var _objId;Object.defineProperty(this,"objId",{get:function(){return _objId||(_objId=scope.internal.newObjectDeferred()),_objId||console.log("Couldn't create Object ID"),_objId},configurable:!1})};AcroFormPDFObject.prototype.toString=function(){return this.objId+" 0 R"},AcroFormPDFObject.prototype.getString=function(){var res=this.objId+" 0 obj\n<<";return res+=this.getContent()+">>\n",this.stream&&(res+="stream\n",res+=this.stream,res+="\nendstream\n"),res+="endobj\n"},AcroFormPDFObject.prototype.getContent=function(){var object="";return object+=function(fieldObject){var content="",keys=Object.keys(fieldObject).filter((function(key){return"content"!=key&&"appearanceStreamContent"!=key&&"_"!=key.substring(0,1)}));for(var i in keys){var key=keys[i],value=fieldObject[key];value&&(Array.isArray(value)?content+="/"+key+" "+arrayToPdfArray(value)+"\n":content+=value instanceof AcroFormPDFObject?"/"+key+" "+value.objId+" 0 R\n":"/"+key+" "+value+"\n")}return content}(this)};var AcroFormXObject=function(){var _stream;AcroFormPDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo,Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==_stream?_stream.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(val){_stream=val.trim()},get:function(){return _stream||null}})};inherit(AcroFormXObject,AcroFormPDFObject);var AcroFormDictionary=function(){AcroFormPDFObject.call(this);var _Kids=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _Kids.length>0?_Kids:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return _Kids}}),this.DA};inherit(AcroFormDictionary,AcroFormPDFObject);var AcroFormField=function AcroFormField(){var _Rect;AcroFormPDFObject.call(this),Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(_Rect)return _Rect},set:function(val){_Rect=val}});var _T,_DA,_DV,_V,_FT="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(val){_FT=val},get:function(){return _FT}}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(val){_T=val},get:function(){if(!_T||_T.length<1){if(this instanceof AcroFormChildClass)return;return"(FieldObject"+AcroFormField.FieldNum+++")"}return"("==_T.substring(0,1)&&_T.substring(_T.length-1)?_T:"("+_T+")"}}),Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(_DA)return"("+_DA+")"},set:function(val){_DA=val}}),Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(_DV)return _DV},set:function(val){_DV=val}}),Object.defineProperty(this,"V",{enumerable:!0,configurable:!0,get:function(){if(_V)return _V},set:function(val){_V=val}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};inherit(AcroFormField,AcroFormPDFObject);var AcroFormChoiceField=function(){AcroFormField.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0;var _combo=!1;Object.defineProperty(this,"combo",{enumerable:!1,get:function(){return _combo},set:function(val){_combo=val}}),Object.defineProperty(this,"edit",{enumerable:!0,set:function(val){1==val?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0};inherit(AcroFormChoiceField,AcroFormField);var AcroFormListBox=function(){AcroFormChoiceField.call(this),this.combo=!1};inherit(AcroFormListBox,AcroFormChoiceField);var AcroFormComboBox=function(){AcroFormListBox.call(this),this.combo=!0};inherit(AcroFormComboBox,AcroFormListBox);var AcroFormEditBox=function(){AcroFormComboBox.call(this),this.edit=!0};inherit(AcroFormEditBox,AcroFormComboBox);var AcroFormButton=function(){AcroFormField.call(this),this.FT="/Btn"};inherit(AcroFormButton,AcroFormField);var AcroFormPushButton=function(){AcroFormButton.call(this);var _pushbutton=!0;Object.defineProperty(this,"pushbutton",{enumerable:!1,get:function(){return _pushbutton},set:function(val){_pushbutton=val}})};inherit(AcroFormPushButton,AcroFormButton);var AcroFormRadioButton=function(){AcroFormButton.call(this);var _radio=!0;Object.defineProperty(this,"radio",{enumerable:!1,get:function(){return _radio},set:function(val){_radio=val}});var _noToggleToOff,_Kids=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(_Kids.length>0)return _Kids}}),Object.defineProperty(this,"__Kids",{get:function(){return _Kids}}),Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return _noToggleToOff},set:function(val){_noToggleToOff=val}})};inherit(AcroFormRadioButton,AcroFormButton);var AcroFormChildClass=function(parent,name){AcroFormField.call(this),this.Parent=parent,this._AppearanceType=AcroFormAppearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name),this.F=setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=name};inherit(AcroFormChildClass,AcroFormField),AcroFormRadioButton.prototype.setAppearance=function(appearance){if("createAppearanceStream"in appearance&&"createMK"in appearance)for(var i in this.__Kids){var child=this.__Kids[i];child.appearanceStreamContent=appearance.createAppearanceStream(child._Name),child.MK=appearance.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},AcroFormRadioButton.prototype.createOption=function(name){this.__Kids.length;var child=new AcroFormChildClass(this,name);return this.__Kids.push(child),jsPDFAPI.addField(child),child};var AcroFormCheckBox=function(){AcroFormButton.call(this),this.appearanceStreamContent=AcroFormAppearance.CheckBox.createAppearanceStream(),this.MK=AcroFormAppearance.CheckBox.createMK(),this.AS="/On",this.V="/On"};inherit(AcroFormCheckBox,AcroFormButton);var AcroFormTextField=function(){var _V,_DV;AcroFormField.call(this),this.DA=AcroFormAppearance.createDefaultAppearanceStream(),this.F=4,Object.defineProperty(this,"V",{get:function(){return _V?toPdfString(_V):_V},enumerable:!0,set:function(val){_V=val}}),Object.defineProperty(this,"DV",{get:function(){return _DV?toPdfString(_DV):_DV},enumerable:!0,set:function(val){_DV=val}});var _multiline=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return _multiline},set:function(val){_multiline=val}});var _fileSelect=!1;Object.defineProperty(this,"fileSelect",{enumerable:!1,get:function(){return _fileSelect},set:function(val){_fileSelect=val}});var _doNotSpellCheck=!1;Object.defineProperty(this,"doNotSpellCheck",{enumerable:!1,get:function(){return _doNotSpellCheck},set:function(val){_doNotSpellCheck=val}});var _doNotScroll=!1;Object.defineProperty(this,"doNotScroll",{enumerable:!1,get:function(){return _doNotScroll},set:function(val){_doNotScroll=val}});var _MaxLen=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return _MaxLen},set:function(val){_MaxLen=val}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};inherit(AcroFormTextField,AcroFormField);var AcroFormPasswordField=function(){AcroFormTextField.call(this);var _password=!0;Object.defineProperty(this,"password",{enumerable:!1,get:function(){return _password},set:function(val){_password=val}})};inherit(AcroFormPasswordField,AcroFormTextField);var AcroFormAppearance={CheckBox:{createAppearanceStream:function(){return{N:{On:AcroFormAppearance.CheckBox.YesNormal},D:{On:AcroFormAppearance.CheckBox.YesPushDown,Off:AcroFormAppearance.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(formObject){var xobj=createFormXObject(formObject),stream=[],zapfDingbatsId=scope.internal.getFont("zapfdingbats","normal").id;formObject.Q=1;var calcRes=calculateX(formObject,"3","ZapfDingbats",50);return stream.push("0.749023 g"),stream.push("0 0 "+AcroFormAppearance.internal.getWidth(formObject).toFixed(2)+" "+AcroFormAppearance.internal.getHeight(formObject).toFixed(2)+" re"),stream.push("f"),stream.push("BMC"),stream.push("q"),stream.push("0 0 1 rg"),stream.push("/"+zapfDingbatsId+" "+calcRes.fontSize.toFixed(2)+" Tf 0 g"),stream.push("BT"),stream.push(calcRes.text),stream.push("ET"),stream.push("Q"),stream.push("EMC"),xobj.stream=stream.join("\n"),xobj},YesNormal:function(formObject){var xobj=createFormXObject(formObject),zapfDingbatsId=scope.internal.getFont("zapfdingbats","normal").id,stream=[];formObject.Q=1;var height=AcroFormAppearance.internal.getHeight(formObject),width=AcroFormAppearance.internal.getWidth(formObject),calcRes=calculateX(formObject,"3","ZapfDingbats",.9*height);return stream.push("1 g"),stream.push("0 0 "+width.toFixed(2)+" "+height.toFixed(2)+" re"),stream.push("f"),stream.push("q"),stream.push("0 0 1 rg"),stream.push("0 0 "+(width-1).toFixed(2)+" "+(height-1).toFixed(2)+" re"),stream.push("W"),stream.push("n"),stream.push("0 g"),stream.push("BT"),stream.push("/"+zapfDingbatsId+" "+calcRes.fontSize.toFixed(2)+" Tf 0 g"),stream.push(calcRes.text),stream.push("ET"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj},OffPushDown:function(formObject){var xobj=createFormXObject(formObject),stream=[];return stream.push("0.749023 g"),stream.push("0 0 "+AcroFormAppearance.internal.getWidth(formObject).toFixed(2)+" "+AcroFormAppearance.internal.getHeight(formObject).toFixed(2)+" re"),stream.push("f"),xobj.stream=stream.join("\n"),xobj}},RadioButton:{Circle:{createAppearanceStream:function(name){var appearanceStreamContent={D:{Off:AcroFormAppearance.RadioButton.Circle.OffPushDown},N:{}};return appearanceStreamContent.N[name]=AcroFormAppearance.RadioButton.Circle.YesNormal,appearanceStreamContent.D[name]=AcroFormAppearance.RadioButton.Circle.YesPushDown,appearanceStreamContent},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(formObject){var xobj=createFormXObject(formObject),stream=[],DotRadius=AcroFormAppearance.internal.getWidth(formObject)<=AcroFormAppearance.internal.getHeight(formObject)?AcroFormAppearance.internal.getWidth(formObject)/4:AcroFormAppearance.internal.getHeight(formObject)/4;DotRadius*=.9;var c=AcroFormAppearance.internal.Bezier_C;return stream.push("q"),stream.push("1 0 0 1 "+AcroFormAppearance.internal.getWidth(formObject)/2+" "+AcroFormAppearance.internal.getHeight(formObject)/2+" cm"),stream.push(DotRadius+" 0 m"),stream.push(DotRadius+" "+DotRadius*c+" "+DotRadius*c+" "+DotRadius+" 0 "+DotRadius+" c"),stream.push("-"+DotRadius*c+" "+DotRadius+" -"+DotRadius+" "+DotRadius*c+" -"+DotRadius+" 0 c"),stream.push("-"+DotRadius+" -"+DotRadius*c+" -"+DotRadius*c+" -"+DotRadius+" 0 -"+DotRadius+" c"),stream.push(DotRadius*c+" -"+DotRadius+" "+DotRadius+" -"+DotRadius*c+" "+DotRadius+" 0 c"),stream.push("f"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj},YesPushDown:function(formObject){var xobj=createFormXObject(formObject),stream=[],DotRadius=AcroFormAppearance.internal.getWidth(formObject)<=AcroFormAppearance.internal.getHeight(formObject)?AcroFormAppearance.internal.getWidth(formObject)/4:AcroFormAppearance.internal.getHeight(formObject)/4,k=2*(DotRadius*=.9),kc=k*AcroFormAppearance.internal.Bezier_C,dc=DotRadius*AcroFormAppearance.internal.Bezier_C;return stream.push("0.749023 g"),stream.push("q"),stream.push("1 0 0 1 "+(AcroFormAppearance.internal.getWidth(formObject)/2).toFixed(2)+" "+(AcroFormAppearance.internal.getHeight(formObject)/2).toFixed(2)+" cm"),stream.push(k+" 0 m"),stream.push(k+" "+kc+" "+kc+" "+k+" 0 "+k+" c"),stream.push("-"+kc+" "+k+" -"+k+" "+kc+" -"+k+" 0 c"),stream.push("-"+k+" -"+kc+" -"+kc+" -"+k+" 0 -"+k+" c"),stream.push(kc+" -"+k+" "+k+" -"+kc+" "+k+" 0 c"),stream.push("f"),stream.push("Q"),stream.push("0 g"),stream.push("q"),stream.push("1 0 0 1 "+(AcroFormAppearance.internal.getWidth(formObject)/2).toFixed(2)+" "+(AcroFormAppearance.internal.getHeight(formObject)/2).toFixed(2)+" cm"),stream.push(DotRadius+" 0 m"),stream.push(DotRadius+" "+dc+" "+dc+" "+DotRadius+" 0 "+DotRadius+" c"),stream.push("-"+dc+" "+DotRadius+" -"+DotRadius+" "+dc+" -"+DotRadius+" 0 c"),stream.push("-"+DotRadius+" -"+dc+" -"+dc+" -"+DotRadius+" 0 -"+DotRadius+" c"),stream.push(dc+" -"+DotRadius+" "+DotRadius+" -"+dc+" "+DotRadius+" 0 c"),stream.push("f"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj},OffPushDown:function(formObject){var xobj=createFormXObject(formObject),stream=[],DotRadius=AcroFormAppearance.internal.getWidth(formObject)<=AcroFormAppearance.internal.getHeight(formObject)?AcroFormAppearance.internal.getWidth(formObject)/4:AcroFormAppearance.internal.getHeight(formObject)/4,k=2*(DotRadius*=.9),kc=k*AcroFormAppearance.internal.Bezier_C;return stream.push("0.749023 g"),stream.push("q"),stream.push("1 0 0 1 "+(AcroFormAppearance.internal.getWidth(formObject)/2).toFixed(2)+" "+(AcroFormAppearance.internal.getHeight(formObject)/2).toFixed(2)+" cm"),stream.push(k+" 0 m"),stream.push(k+" "+kc+" "+kc+" "+k+" 0 "+k+" c"),stream.push("-"+kc+" "+k+" -"+k+" "+kc+" -"+k+" 0 c"),stream.push("-"+k+" -"+kc+" -"+kc+" -"+k+" 0 -"+k+" c"),stream.push(kc+" -"+k+" "+k+" -"+kc+" "+k+" 0 c"),stream.push("f"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj}},Cross:{createAppearanceStream:function(name){var appearanceStreamContent={D:{Off:AcroFormAppearance.RadioButton.Cross.OffPushDown},N:{}};return appearanceStreamContent.N[name]=AcroFormAppearance.RadioButton.Cross.YesNormal,appearanceStreamContent.D[name]=AcroFormAppearance.RadioButton.Cross.YesPushDown,appearanceStreamContent},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(formObject){var xobj=createFormXObject(formObject),stream=[],cross=AcroFormAppearance.internal.calculateCross(formObject);return stream.push("q"),stream.push("1 1 "+(AcroFormAppearance.internal.getWidth(formObject)-2).toFixed(2)+" "+(AcroFormAppearance.internal.getHeight(formObject)-2).toFixed(2)+" re"),stream.push("W"),stream.push("n"),stream.push(cross.x1.x.toFixed(2)+" "+cross.x1.y.toFixed(2)+" m"),stream.push(cross.x2.x.toFixed(2)+" "+cross.x2.y.toFixed(2)+" l"),stream.push(cross.x4.x.toFixed(2)+" "+cross.x4.y.toFixed(2)+" m"),stream.push(cross.x3.x.toFixed(2)+" "+cross.x3.y.toFixed(2)+" l"),stream.push("s"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj},YesPushDown:function(formObject){var xobj=createFormXObject(formObject),cross=AcroFormAppearance.internal.calculateCross(formObject),stream=[];return stream.push("0.749023 g"),stream.push("0 0 "+AcroFormAppearance.internal.getWidth(formObject).toFixed(2)+" "+AcroFormAppearance.internal.getHeight(formObject).toFixed(2)+" re"),stream.push("f"),stream.push("q"),stream.push("1 1 "+(AcroFormAppearance.internal.getWidth(formObject)-2).toFixed(2)+" "+(AcroFormAppearance.internal.getHeight(formObject)-2).toFixed(2)+" re"),stream.push("W"),stream.push("n"),stream.push(cross.x1.x.toFixed(2)+" "+cross.x1.y.toFixed(2)+" m"),stream.push(cross.x2.x.toFixed(2)+" "+cross.x2.y.toFixed(2)+" l"),stream.push(cross.x4.x.toFixed(2)+" "+cross.x4.y.toFixed(2)+" m"),stream.push(cross.x3.x.toFixed(2)+" "+cross.x3.y.toFixed(2)+" l"),stream.push("s"),stream.push("Q"),xobj.stream=stream.join("\n"),xobj},OffPushDown:function(formObject){var xobj=createFormXObject(formObject),stream=[];return stream.push("0.749023 g"),stream.push("0 0 "+AcroFormAppearance.internal.getWidth(formObject).toFixed(2)+" "+AcroFormAppearance.internal.getHeight(formObject).toFixed(2)+" re"),stream.push("f"),xobj.stream=stream.join("\n"),xobj}}},createDefaultAppearanceStream:function(formObject){return"/F1 0 Tf 0 g"}};AcroFormAppearance.internal={Bezier_C:.551915024494,calculateCross:function(formObject){var x,y,width=AcroFormAppearance.internal.getWidth(formObject),height=AcroFormAppearance.internal.getHeight(formObject),a=(x=width)>(y=height)?y:x;return{x1:{x:(width-a)/2,y:(height-a)/2+a},x2:{x:(width-a)/2+a,y:(height-a)/2},x3:{x:(width-a)/2,y:(height-a)/2},x4:{x:(width-a)/2+a,y:(height-a)/2+a}}}},AcroFormAppearance.internal.getWidth=function(formObject){var result=0;return"object"===(void 0===formObject?"undefined":_typeof(formObject))&&(result=scale(formObject.Rect[2])),result},AcroFormAppearance.internal.getHeight=function(formObject){var result=0;return"object"===(void 0===formObject?"undefined":_typeof(formObject))&&(result=scale(formObject.Rect[3])),result},jsPDFAPI.addField=function(fieldObject){return initializeAcroForm.call(this),fieldObject instanceof AcroFormTextField?this.addTextField.call(this,fieldObject):fieldObject instanceof AcroFormChoiceField?this.addChoiceField.call(this,fieldObject):fieldObject instanceof AcroFormButton?this.addButton.call(this,fieldObject):(fieldObject instanceof AcroFormChildClass||fieldObject)&&putForm.call(this,fieldObject),fieldObject.page=scope.internal.getCurrentPageInfo().pageNumber,this},jsPDFAPI.addButton=function(opts){initializeAcroForm.call(this);var options=opts||new AcroFormField;options.FT="/Btn",options.Ff=calculateFlagsOnOptions(options.Ff,opts,scope.internal.getPDFVersion()),putForm.call(this,options)},jsPDFAPI.addTextField=function(opts){initializeAcroForm.call(this);var options=opts||new AcroFormField;options.FT="/Tx",options.Ff=calculateFlagsOnOptions(options.Ff,opts,scope.internal.getPDFVersion()),putForm.call(this,options)},jsPDFAPI.addChoiceField=function(opts){initializeAcroForm.call(this);var options=opts||new AcroFormField;options.FT="/Ch",options.Ff=calculateFlagsOnOptions(options.Ff,opts,scope.internal.getPDFVersion()),putForm.call(this,options)},"object"==(void 0===globalObj?"undefined":_typeof(globalObj))&&(globalObj.ChoiceField=AcroFormChoiceField,globalObj.ListBox=AcroFormListBox,globalObj.ComboBox=AcroFormComboBox,globalObj.EditBox=AcroFormEditBox,globalObj.Button=AcroFormButton,globalObj.PushButton=AcroFormPushButton,globalObj.RadioButton=AcroFormRadioButton,globalObj.CheckBox=AcroFormCheckBox,globalObj.TextField=AcroFormTextField,globalObj.PasswordField=AcroFormPasswordField,globalObj.AcroForm={Appearance:AcroFormAppearance}),jsPDFAPI.AcroFormChoiceField=AcroFormChoiceField,jsPDFAPI.AcroFormListBox=AcroFormListBox,jsPDFAPI.AcroFormComboBox=AcroFormComboBox,jsPDFAPI.AcroFormEditBox=AcroFormEditBox,jsPDFAPI.AcroFormButton=AcroFormButton,jsPDFAPI.AcroFormPushButton=AcroFormPushButton,jsPDFAPI.AcroFormRadioButton=AcroFormRadioButton,jsPDFAPI.AcroFormCheckBox=AcroFormCheckBox,jsPDFAPI.AcroFormTextField=AcroFormTextField,jsPDFAPI.AcroFormPasswordField=AcroFormPasswordField,jsPDFAPI.AcroForm={ChoiceField:AcroFormChoiceField,ListBox:AcroFormListBox,ComboBox:AcroFormComboBox,EditBox:AcroFormEditBox,Button:AcroFormButton,PushButton:AcroFormPushButton,RadioButton:AcroFormRadioButton,CheckBox:AcroFormCheckBox,TextField:AcroFormTextField,PasswordField:AcroFormPasswordField}}(jsPDF.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),jsPDF.API.addHTML=function(element,x,y,options,callback){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof x&&(options=x,callback=y),"function"==typeof options&&(callback=options,options=null),"function"!=typeof callback&&(callback=function(){});var I=this.internal,K=I.scaleFactor,W=I.pageSize.getWidth(),H=I.pageSize.getHeight();if((options=options||{}).onrendered=function(obj){x=parseInt(x)||0,y=parseInt(y)||0;var dim=options.dim||{},margin=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},options.margin),h=dim.h||Math.min(H,obj.height/K),w=dim.w||Math.min(W,obj.width/K)-x,format=options.format||"JPEG",imageCompression=options.imageCompression||"SLOW";if(obj.height>H-margin.top-margin.bottom&&options.pagesplit){var cropArea=function(parmObj,parmX,parmY,parmWidth,parmHeight){var canvas=document.createElement("canvas");canvas.height=parmHeight,canvas.width=parmWidth;var ctx=canvas.getContext("2d");return ctx.mozImageSmoothingEnabled=!1,ctx.webkitImageSmoothingEnabled=!1,ctx.msImageSmoothingEnabled=!1,ctx.imageSmoothingEnabled=!1,ctx.fillStyle=options.backgroundColor||"#ffffff",ctx.fillRect(0,0,parmWidth,parmHeight),ctx.drawImage(parmObj,parmX,parmY,parmWidth,parmHeight,0,0,parmWidth,parmHeight),canvas},crop=function(){for(var width,height,cy=0,cx=0,position={},isOverWide=!1;;){var canvas;if(cx=0,position.top=0!==cy?margin.top:y,position.left=0!==cy?margin.left:x,isOverWide=(W-margin.left-margin.right)*K<obj.width,"content"===margin.useFor?0===cy?(width=Math.min((W-margin.left)*K,obj.width),height=Math.min((H-margin.top)*K,obj.height-cy)):(width=Math.min(W*K,obj.width),height=Math.min(H*K,obj.height-cy),position.top=0):(width=Math.min((W-margin.left-margin.right)*K,obj.width),height=Math.min((H-margin.bottom-margin.top)*K,obj.height-cy)),isOverWide)for(;;){"content"===margin.useFor&&(0===cx?width=Math.min((W-margin.left)*K,obj.width):(width=Math.min(W*K,obj.width-cx),position.left=0));var args=[canvas=cropArea(obj,cx,cy,width,height),position.left,position.top,canvas.width/K,canvas.height/K,format,null,imageCompression];if(this.addImage.apply(this,args),(cx+=width)>=obj.width)break;this.addPage()}else args=[canvas=cropArea(obj,0,cy,width,height),position.left,position.top,canvas.width/K,canvas.height/K,format,null,imageCompression],this.addImage.apply(this,args);if((cy+=height)>=obj.height)break;this.addPage()}callback(w,cy,null,args)}.bind(this);if("CANVAS"===obj.nodeName){var img=new Image;img.onload=crop,img.src=obj.toDataURL("image/png"),obj=img}else crop()}else{var alias=Math.random().toString(35),args=[obj,x,y,w,h,format,alias,imageCompression];this.addImage.apply(this,args),callback(w,h,alias,args)}}.bind(this),"undefined"!=typeof html2canvas&&!options.rstz)return html2canvas(element,options);if("undefined"!=typeof rasterizeHTML){var meth="drawDocument";return"string"==typeof element&&(meth=/^http/.test(element)?"drawURL":"drawHTML"),options.width=options.width||W*K,rasterizeHTML[meth](element,void 0,options).then((function(r){options.onrendered(r.image)}),(function(e){callback(null,e)}))}return null},
/** @preserve
   * jsPDF addImage plugin
   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
   *               2013 Chris Dowling, https://github.com/gingerchris
   *               2013 Trinh Ho, https://github.com/ineedfat
   *               2013 Edwin Alejandro Perez, https://github.com/eaparango
   *               2013 Norah Smith, https://github.com/burnburnrocket
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   */
function(jsPDFAPI){var imageFileTypeHeaders={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]};jsPDFAPI.getImageFileTypeByImageData=function(imageData,fallbackFormat){var i,j;fallbackFormat=fallbackFormat||"UNKNOWN";var headerSchemata,compareResult,fileType,result="UNKNOWN";for(fileType in imageFileTypeHeaders)for(headerSchemata=imageFileTypeHeaders[fileType],i=0;i<headerSchemata.length;i+=1){for(compareResult=!0,j=0;j<headerSchemata[i].length;j+=1)if(void 0!==headerSchemata[i][j]&&headerSchemata[i][j]!==imageData.charCodeAt(j)){compareResult=!1;break}if(!0===compareResult){result=fileType;break}}return"UNKNOWN"===result&&"UNKNOWN"!==fallbackFormat&&(console.warn('FileType of Image not recognized. Processing image as "'+fallbackFormat+'".'),result=fallbackFormat),result};var putImage=function putImage(img){var objectNumber=this.internal.newObject(),out=this.internal.write,putStream=this.internal.putStream;if(img.n=objectNumber,out("<</Type /XObject"),out("/Subtype /Image"),out("/Width "+img.w),out("/Height "+img.h),img.cs===this.color_spaces.INDEXED?out("/ColorSpace [/Indexed /DeviceRGB "+(img.pal.length/3-1)+" "+("smask"in img?objectNumber+2:objectNumber+1)+" 0 R]"):(out("/ColorSpace /"+img.cs),img.cs===this.color_spaces.DEVICE_CMYK&&out("/Decode [1 0 1 0 1 0 1 0]")),out("/BitsPerComponent "+img.bpc),"f"in img&&out("/Filter /"+img.f),"dp"in img&&out("/DecodeParms <<"+img.dp+">>"),"trns"in img&&img.trns.constructor==Array){for(var trns="",i=0,len=img.trns.length;i<len;i++)trns+=img.trns[i]+" "+img.trns[i]+" ";out("/Mask ["+trns+"]")}if("smask"in img&&out("/SMask "+(objectNumber+1)+" 0 R"),out("/Length "+img.data.length+">>"),putStream(img.data),out("endobj"),"smask"in img){var dp="/Predictor "+img.p+" /Colors 1 /BitsPerComponent "+img.bpc+" /Columns "+img.w,smask={w:img.w,h:img.h,cs:"DeviceGray",bpc:img.bpc,dp:dp,data:img.smask};"f"in img&&(smask.f=img.f),putImage.call(this,smask)}img.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),out("<< /Length "+img.pal.length+">>"),putStream(this.arrayBufferToBinaryString(new Uint8Array(img.pal))),out("endobj"))},putResourcesCallback=function(){var images=this.internal.collections.addImage_images;for(var i in images)putImage.call(this,images[i])},putXObjectsDictCallback=function(){var image,images=this.internal.collections.addImage_images,out=this.internal.write;for(var i in images)out("/I"+(image=images[i]).i,image.n,"0","R")},checkCompressValue=function(value){return value&&"string"==typeof value&&(value=value.toUpperCase()),value in jsPDFAPI.image_compression?value:jsPDFAPI.image_compression.NONE},getImages=function(){var images=this.internal.collections.addImage_images;return images||(this.internal.collections.addImage_images=images={},this.internal.events.subscribe("putResources",putResourcesCallback),this.internal.events.subscribe("putXobjectDict",putXObjectsDictCallback)),images},getImageIndex=function(images){var imageIndex=0;return images&&(imageIndex=Object.keys?Object.keys(images).length:function(o){var i=0;for(var e in o)o.hasOwnProperty(e)&&i++;return i}(images)),imageIndex},notDefined=function(value){return null==value||0===value.length},generateAliasFromData=function(data){return"string"==typeof data&&jsPDFAPI.sHashCode(data)},isImageTypeSupported=function(type){return"function"==typeof jsPDFAPI["process"+type.toUpperCase()]},isDOMElement=function(object){return"object"===(void 0===object?"undefined":_typeof(object))&&1===object.nodeType},createDataURIFromElement=function(element,format){if("IMG"===element.nodeName&&element.hasAttribute("src")){var src=""+element.getAttribute("src");if(0===src.indexOf("data:image/"))return src;!format&&/\.png(?:[?#].*)?$/i.test(src)&&(format="png")}if("CANVAS"===element.nodeName)var canvas=element;else{(canvas=document.createElement("canvas")).width=element.clientWidth||element.width,canvas.height=element.clientHeight||element.height;var ctx=canvas.getContext("2d");if(!ctx)throw"addImage requires canvas to be supported by browser.";ctx.drawImage(element,0,0,canvas.width,canvas.height)}return canvas.toDataURL("png"==(""+format).toLowerCase()?"image/png":"image/jpeg")},checkImagesForAlias=function(alias,images){var cached_info;if(images)for(var e in images)if(alias===images[e].alias){cached_info=images[e];break}return cached_info},determineWidthAndHeight=function(w,h,info){return w||h||(w=-96,h=-96),w<0&&(w=-1*info.w*72/w/this.internal.scaleFactor),h<0&&(h=-1*info.h*72/h/this.internal.scaleFactor),0===w&&(w=h*info.w/info.h),0===h&&(h=w*info.h/info.w),[w,h]},writeImageToPDF=function(x,y,w,h,info,index,images,rotation){var dims=determineWidthAndHeight.call(this,w,h,info),coord=this.internal.getCoordinateString,vcoord=this.internal.getVerticalCoordinateString;if(w=dims[0],h=dims[1],images[index]=info,rotation){rotation*=Math.PI/180;var c=Math.cos(rotation),s=Math.sin(rotation),f4=function(number){return number.toFixed(4)},rotationTransformationMatrix=[f4(c),f4(s),f4(-1*s),f4(c),0,0,"cm"]}this.internal.write("q"),rotation?(this.internal.write([1,"0","0",1,coord(x),vcoord(y+h),"cm"].join(" ")),this.internal.write(rotationTransformationMatrix.join(" ")),this.internal.write([coord(w),"0","0",coord(h),"0","0","cm"].join(" "))):this.internal.write([coord(w),"0","0",coord(h),coord(x),vcoord(y+h),"cm"].join(" ")),this.internal.write("/I"+info.i+" Do"),this.internal.write("Q")};jsPDFAPI.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},jsPDFAPI.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},jsPDFAPI.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},jsPDFAPI.sHashCode=function(str){return str=str||"",Array.prototype.reduce&&str.split("").reduce((function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a}),0)},jsPDFAPI.isString=function(object){return"string"==typeof object},jsPDFAPI.validateStringAsBase64=function(possibleBase64String){var result=!0;return(possibleBase64String=possibleBase64String||"").length%4!=0&&(result=!1),!1===/[A-Za-z0-9\/]+/.test(possibleBase64String.substr(0,possibleBase64String.length-2))&&(result=!1),!1===/[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==/.test(possibleBase64String.substr(-2))&&(result=!1),result},jsPDFAPI.extractInfoFromBase64DataURI=function(dataURI){return/^data:([\w]+?\/([\w]+?));base64,(.+)$/g.exec(dataURI)},jsPDFAPI.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},jsPDFAPI.isArrayBuffer=function(object){return!!this.supportsArrayBuffer()&&object instanceof ArrayBuffer},jsPDFAPI.isArrayBufferView=function(object){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(object instanceof Int8Array||object instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&object instanceof Uint8ClampedArray||object instanceof Int16Array||object instanceof Uint16Array||object instanceof Int32Array||object instanceof Uint32Array||object instanceof Float32Array||object instanceof Float64Array))},jsPDFAPI.binaryStringToUint8Array=function(binary_string){for(var len=binary_string.length,bytes=new Uint8Array(len),i=0;i<len;i++)bytes[i]=binary_string.charCodeAt(i);return bytes},jsPDFAPI.arrayBufferToBinaryString=function(buffer){if("function"==typeof atob)return atob(this.arrayBufferToBase64(buffer));if("function"==typeof TextDecoder){var decoder=new TextDecoder("ascii");if("ascii"===decoder.encoding)return decoder.decode(buffer)}for(var data=this.isArrayBuffer(buffer)?buffer:new Uint8Array(buffer),binary_string="",slicesCount=Math.ceil(data.byteLength/20480),i=0;i<slicesCount;i++)binary_string+=String.fromCharCode.apply(null,data.slice(20480*i,20480*i+20480));return binary_string},jsPDFAPI.arrayBufferToBase64=function(arrayBuffer){for(var chunk,base64="",encodings="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bytes=new Uint8Array(arrayBuffer),byteLength=bytes.byteLength,byteRemainder=byteLength%3,mainLength=byteLength-byteRemainder,i=0;i<mainLength;i+=3)base64+=encodings[(16515072&(chunk=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2]))>>18]+encodings[(258048&chunk)>>12]+encodings[(4032&chunk)>>6]+encodings[63&chunk];return 1==byteRemainder?base64+=encodings[(252&(chunk=bytes[mainLength]))>>2]+encodings[(3&chunk)<<4]+"==":2==byteRemainder&&(base64+=encodings[(64512&(chunk=bytes[mainLength]<<8|bytes[mainLength+1]))>>10]+encodings[(1008&chunk)>>4]+encodings[(15&chunk)<<2]+"="),base64},jsPDFAPI.createImageInfo=function(data,wd,ht,cs,bpc,f,imageIndex,alias,dp,trns,pal,smask,p){var info={alias:alias,w:wd,h:ht,cs:cs,bpc:bpc,i:imageIndex,data:data};return f&&(info.f=f),dp&&(info.dp=dp),trns&&(info.trns=trns),pal&&(info.pal=pal),smask&&(info.smask=smask),p&&(info.p=p),info},jsPDFAPI.addImage=function(imageData,format,x,y,w,h,alias,compression,rotation){var tmpImageData="";if("string"!=typeof format){var tmp=h;h=w,w=y,y=x,x=format,format=tmp}if("object"===(void 0===imageData?"undefined":_typeof(imageData))&&!isDOMElement(imageData)&&"imageData"in imageData){var options=imageData;imageData=options.imageData,format=options.format||format,x=options.x||x||0,y=options.y||y||0,w=options.w||w,h=options.h||h,alias=options.alias||alias,compression=options.compression||compression,rotation=options.rotation||options.angle||rotation}if(isNaN(x)||isNaN(y))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var info,dataAsBinaryString,images=getImages.call(this);if(!(info=checkImagesForAlias(imageData,images))&&(isDOMElement(imageData)&&(imageData=createDataURIFromElement(imageData,format)),notDefined(alias)&&(alias=generateAliasFromData(imageData)),!(info=checkImagesForAlias(alias,images)))){if(this.isString(imageData)&&(""!==(tmpImageData=this.convertStringToImageData(imageData))||void 0!==(tmpImageData=this.loadImageFile(imageData)))&&(imageData=tmpImageData),format=this.getImageFileTypeByImageData(imageData,format),!isImageTypeSupported(format))throw new Error("addImage does not support files of type '"+format+"', please ensure that a plugin for '"+format+"' support is added.");if(this.supportsArrayBuffer()&&(imageData instanceof Uint8Array||(dataAsBinaryString=imageData,imageData=this.binaryStringToUint8Array(imageData))),!(info=this["process"+format.toUpperCase()](imageData,getImageIndex(images),alias,checkCompressValue(compression),dataAsBinaryString)))throw new Error("An unkwown error occurred whilst processing the image")}return writeImageToPDF.call(this,x,y,w,h,info,info.i,images,rotation),this},jsPDFAPI.convertStringToImageData=function(stringData){var base64Info,imageData="";this.isString(stringData)&&(null!==(base64Info=this.extractInfoFromBase64DataURI(stringData))?jsPDFAPI.validateStringAsBase64(base64Info[3])&&(imageData=atob(base64Info[3])):jsPDFAPI.validateStringAsBase64(stringData)&&(imageData=atob(stringData)));return imageData};var readBytes=function(data,offset){return data.subarray(offset,offset+5)};jsPDFAPI.processJPEG=function(data,index,alias,compression,dataAsBinaryString,colorSpace){var dims,filter=this.decode.DCT_DECODE;if(!this.isString(data)&&!this.isArrayBuffer(data)&&!this.isArrayBufferView(data))return null;if(this.isString(data)&&(dims=function(imgData){var height;if(255===!imgData.charCodeAt(0)||216===!imgData.charCodeAt(1)||255===!imgData.charCodeAt(2)||224===!imgData.charCodeAt(3)||!imgData.charCodeAt(6)==="J".charCodeAt(0)||!imgData.charCodeAt(7)==="F".charCodeAt(0)||!imgData.charCodeAt(8)==="I".charCodeAt(0)||!imgData.charCodeAt(9)==="F".charCodeAt(0)||0===!imgData.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var blockLength=256*imgData.charCodeAt(4)+imgData.charCodeAt(5),i=4,len=imgData.length;i<len;){if(i+=blockLength,255!==imgData.charCodeAt(i))throw new Error("getJpegSize could not find the size of the image");if(192===imgData.charCodeAt(i+1)||193===imgData.charCodeAt(i+1)||194===imgData.charCodeAt(i+1)||195===imgData.charCodeAt(i+1)||196===imgData.charCodeAt(i+1)||197===imgData.charCodeAt(i+1)||198===imgData.charCodeAt(i+1)||199===imgData.charCodeAt(i+1))return height=256*imgData.charCodeAt(i+5)+imgData.charCodeAt(i+6),[256*imgData.charCodeAt(i+7)+imgData.charCodeAt(i+8),height,imgData.charCodeAt(i+9)];i+=2,blockLength=256*imgData.charCodeAt(i)+imgData.charCodeAt(i+1)}}(data)),this.isArrayBuffer(data)&&(data=new Uint8Array(data)),this.isArrayBufferView(data)&&(dims=function(data){if(65496!=(data[0]<<8|data[1]))throw new Error("Supplied data is not a JPEG");for(var bytes,len=data.length,block=(data[4]<<8)+data[5],pos=4;pos<len;){if(block=((bytes=readBytes(data,pos+=block))[2]<<8)+bytes[3],(192===bytes[1]||194===bytes[1])&&255===bytes[0]&&block>7)return{width:((bytes=readBytes(data,pos+5))[2]<<8)+bytes[3],height:(bytes[0]<<8)+bytes[1],numcomponents:bytes[4]};pos+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(data),data=dataAsBinaryString||this.arrayBufferToBinaryString(data)),void 0===colorSpace)switch(dims.numcomponents){case 1:colorSpace=this.color_spaces.DEVICE_GRAY;break;case 4:colorSpace=this.color_spaces.DEVICE_CMYK;break;default:colorSpace=this.color_spaces.DEVICE_RGB}return this.createImageInfo(data,dims.width,dims.height,colorSpace,8,filter,index,alias)},jsPDFAPI.processJPG=function(){return this.processJPEG.apply(this,arguments)},jsPDFAPI.loadImageFile=function(path,sync,callback){sync=sync||!0,callback=callback||function(){};Object.prototype.toString.call("undefined"!=typeof process?process:0);if(void 0!==("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof location?"undefined":_typeof(location))&&"http"===location.protocol.substr(0,4))return function(url,sync,callback){var req=new XMLHttpRequest,byteArray=[],i=0,sanitizeUnicode=function(data){var dataLength=data.length,StringFromCharCode=String.fromCharCode;for(i=0;i<dataLength;i+=1)byteArray.push(StringFromCharCode(255&data.charCodeAt(i)));return byteArray.join("")};if(req.open("GET",url,!sync),req.overrideMimeType("text/plain; charset=x-user-defined"),!1===sync&&(req.onload=function(){return sanitizeUnicode(this.responseText)}),req.send(null),200===req.status)return sync?sanitizeUnicode(req.responseText):void 0;console.warn('Unable to load file "'+url+'"')}(path,sync)},jsPDFAPI.getImageProperties=function(imageData){var info,format,tmpImageData="";if(isDOMElement(imageData)&&(imageData=createDataURIFromElement(imageData)),this.isString(imageData)&&(""!==(tmpImageData=this.convertStringToImageData(imageData))||void 0!==(tmpImageData=this.loadImageFile(imageData)))&&(imageData=tmpImageData),format=this.getImageFileTypeByImageData(imageData),!isImageTypeSupported(format))throw new Error("addImage does not support files of type '"+format+"', please ensure that a plugin for '"+format+"' support is added.");if(this.supportsArrayBuffer()&&(imageData instanceof Uint8Array||(imageData=this.binaryStringToUint8Array(imageData))),!(info=this["process"+format.toUpperCase()](imageData)))throw new Error("An unkwown error occurred whilst processing the image");return{fileType:format,width:info.w,height:info.h,colorSpace:info.cs,compressionMode:info.f,bitsPerComponent:info.bpc}}}(jsPDF.API),function(jsPDFAPI){var annotationPlugin={annotations:[],f2:function(number){return number.toFixed(2)},notEmpty:function(obj){if(void 0!==obj&&""!=obj)return!0}};jsPDF.API.annotationPlugin=annotationPlugin,jsPDF.API.events.push(["addPage",function(info){this.annotationPlugin.annotations[info.pageNumber]=[]}]),jsPDFAPI.events.push(["putPage",function(info){for(var pageAnnos=this.annotationPlugin.annotations[info.pageNumber],found=!1,a=0;a<pageAnnos.length&&!found;a++){switch((anno=pageAnnos[a]).type){case"link":if(annotationPlugin.notEmpty(anno.options.url)||annotationPlugin.notEmpty(anno.options.pageNumber)){found=!0;break}case"reference":case"text":case"freetext":found=!0}}if(0!=found){this.internal.write("/Annots [");var f2=this.annotationPlugin.f2,k=this.internal.scaleFactor,pageHeight=this.internal.pageSize.getHeight(),pageInfo=this.internal.getPageInfo(info.pageNumber);for(a=0;a<pageAnnos.length;a++){var anno;switch((anno=pageAnnos[a]).type){case"reference":this.internal.write(" "+anno.object.objId+" 0 R ");break;case"text":var objText=this.internal.newAdditionalObject(),objPopup=this.internal.newAdditionalObject(),title=anno.title||"Note";line="<</Type /Annot /Subtype /Text "+(rect="/Rect ["+f2(anno.bounds.x*k)+" "+f2(pageHeight-(anno.bounds.y+anno.bounds.h)*k)+" "+f2((anno.bounds.x+anno.bounds.w)*k)+" "+f2((pageHeight-anno.bounds.y)*k)+"] ")+"/Contents ("+anno.contents+")",line+=" /Popup "+objPopup.objId+" 0 R",line+=" /P "+pageInfo.objId+" 0 R",line+=" /T ("+title+") >>",objText.content=line;var parent=objText.objId+" 0 R";line="<</Type /Annot /Subtype /Popup "+(rect="/Rect ["+f2((anno.bounds.x+30)*k)+" "+f2(pageHeight-(anno.bounds.y+anno.bounds.h)*k)+" "+f2((anno.bounds.x+anno.bounds.w+30)*k)+" "+f2((pageHeight-anno.bounds.y)*k)+"] ")+" /Parent "+parent,anno.open&&(line+=" /Open true"),line+=" >>",objPopup.content=line,this.internal.write(objText.objId,"0 R",objPopup.objId,"0 R");break;case"freetext":var rect="/Rect ["+f2(anno.bounds.x*k)+" "+f2((pageHeight-anno.bounds.y)*k)+" "+f2(anno.bounds.x+anno.bounds.w*k)+" "+f2(pageHeight-(anno.bounds.y+anno.bounds.h)*k)+"] ",color=anno.color||"#000000";line="<</Type /Annot /Subtype /FreeText "+rect+"/Contents ("+anno.contents+")",line+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+color+")",line+=" /Border [0 0 0]",line+=" >>",this.internal.write(line);break;case"link":if(anno.options.name){var loc=this.annotations._nameMap[anno.options.name];anno.options.pageNumber=loc.page,anno.options.top=loc.y}else anno.options.top||(anno.options.top=0);rect="/Rect ["+f2(anno.x*k)+" "+f2((pageHeight-anno.y)*k)+" "+f2((anno.x+anno.w)*k)+" "+f2((pageHeight-(anno.y+anno.h))*k)+"] ";var line="";if(anno.options.url)line="<</Type /Annot /Subtype /Link "+rect+"/Border [0 0 0] /A <</S /URI /URI ("+anno.options.url+") >>";else if(anno.options.pageNumber){switch(line="<</Type /Annot /Subtype /Link "+rect+"/Border [0 0 0] /Dest ["+(info=this.internal.getPageInfo(anno.options.pageNumber)).objId+" 0 R",anno.options.magFactor=anno.options.magFactor||"XYZ",anno.options.magFactor){case"Fit":line+=" /Fit]";break;case"FitH":line+=" /FitH "+anno.options.top+"]";break;case"FitV":anno.options.left=anno.options.left||0,line+=" /FitV "+anno.options.left+"]";break;default:var top=f2((pageHeight-anno.options.top)*k);anno.options.left=anno.options.left||0,void 0===anno.options.zoom&&(anno.options.zoom=0),line+=" /XYZ "+anno.options.left+" "+top+" "+anno.options.zoom+"]"}}""!=line&&(line+=" >>",this.internal.write(line))}}this.internal.write("]")}}]),jsPDFAPI.createAnnotation=function(options){switch(options.type){case"link":this.link(options.bounds.x,options.bounds.y,options.bounds.w,options.bounds.h,options);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(options)}},jsPDFAPI.link=function(x,y,w,h,options){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:x,y:y,w:w,h:h,options:options,type:"link"})},jsPDFAPI.textWithLink=function(text,x,y,options){var width=this.getTextWidth(text),height=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(text,x,y),y+=.2*height,this.link(x,y-height,width,height,options),width},jsPDFAPI.getTextWidth=function(text){var fontSize=this.internal.getFontSize();return this.getStringUnitWidth(text)*fontSize/this.internal.scaleFactor},jsPDFAPI.getLineHeight=function(){return this.internal.getLineHeight()}}(jsPDF.API),function(jsPDFAPI){var arLangCodesKeys=Object.keys({ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",fa:"Persian","fa-IR":"Persian/Iran",ur:"Urdu"}),arabicSubst={1569:[65152],1570:[65153,65154,65153,65154],1571:[65155,65156,65155,65156],1572:[65157,65158],1573:[65159,65160,65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166,65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194,65193],1584:[65195,65196,65195],1585:[65197,65198,65197],1586:[65199,65200,65199],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262,65261],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395,64394],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},arabiclaasubst={1570:[65269,65270,65269,65270],1571:[65271,65272,65271,65272],1573:[65273,65274,65273,65274],1575:[65275,65276,65275,65276]},arabicorigsubst={1570:[65153,65154,65153,65154],1571:[65155,65156,65155,65156],1573:[65159,65160,65159,65160],1575:[65165,65166,65165,65166]},arabic_diacritics={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},alfletter=[1570,1571,1573,1575],endedletter=[1569,1570,1571,1572,1573,1575,1577,1583,1584,1585,1586,1608,1688];function isArabicLetter(letter){return void 0!==letter&&void 0!==arabicSubst[letter.charCodeAt(0)]}function isArabicEndLetter(letter){return void 0!==letter&&endedletter.indexOf(letter.charCodeAt(0))>=0}function isArabicAlfLetter(letter){return void 0!==letter&&alfletter.indexOf(letter.charCodeAt(0))>=0}function arabicLetterHasFinalForm(letter){return isArabicLetter(letter)&&arabicSubst[letter.charCodeAt(0)].length>=2}function getCorrectForm(currentChar,beforeChar,nextChar,arabicSubstition){return isArabicLetter(currentChar)?(arabicSubstition=arabicSubstition||{},arabicSubst=Object.assign(arabicSubst,arabicSubstition),!arabicLetterHasFinalForm(currentChar)||!isArabicLetter(beforeChar)&&!isArabicLetter(nextChar)||!isArabicLetter(nextChar)&&isArabicEndLetter(beforeChar)||isArabicEndLetter(currentChar)&&!isArabicLetter(beforeChar)||isArabicEndLetter(currentChar)&&isArabicAlfLetter(beforeChar)||isArabicEndLetter(currentChar)&&isArabicEndLetter(beforeChar)?(arabicSubst=Object.assign(arabicSubst,arabicorigsubst),0):isArabicLetter(letter=currentChar)&&4==arabicSubst[letter.charCodeAt(0)].length&&isArabicLetter(beforeChar)&&!isArabicEndLetter(beforeChar)&&isArabicLetter(nextChar)&&arabicLetterHasFinalForm(nextChar)?(arabicSubst=Object.assign(arabicSubst,arabicorigsubst),3):isArabicEndLetter(currentChar)||!isArabicLetter(nextChar)?(arabicSubst=Object.assign(arabicSubst,arabicorigsubst),1):(arabicSubst=Object.assign(arabicSubst,arabicorigsubst),2)):-1;var letter}var processArabic=jsPDFAPI.processArabic=function(text,reverse){text=text||"",reverse=reverse||!1;var resultingLetter,letter,character,result="",i=0,position=0,currentLetter="",prevLetter="",nextLetter="";for(i=0;i<text.length;i+=1)currentLetter=text[i],prevLetter=text[i-1],nextLetter=text[i+1],isArabicLetter(currentLetter)?void 0!==prevLetter&&1604===prevLetter.charCodeAt(0)&&isArabicAlfLetter(currentLetter)?(position=getCorrectForm(currentLetter,text[i-2],text[i+1],arabiclaasubst),resultingLetter=String.fromCharCode(arabiclaasubst[currentLetter.charCodeAt(0)][position]),result=result.substr(0,result.length-1)+resultingLetter):void 0!==prevLetter&&1617===prevLetter.charCodeAt(0)&&(void 0!==(letter=currentLetter)&&void 0!==arabic_diacritics[letter.charCodeAt(0)])?(position=getCorrectForm(currentLetter,text[i-2],text[i+1],arabicorigsubst),resultingLetter=String.fromCharCode(arabic_diacritics[currentLetter.charCodeAt(0)][position]),result=result.substr(0,result.length-1)+resultingLetter):(position=getCorrectForm(currentLetter,prevLetter,nextLetter,arabicorigsubst),result+=String.fromCharCode(arabicSubst[currentLetter.charCodeAt(0)][position])):result+=reverse?{"(":")",")":"("}[character=currentLetter]||character:currentLetter;return reverse?result.split("").reverse().join(""):result};jsPDFAPI.events.push(["preProcessText",function(args){var text=args.text,options=(args.x,args.y,args.options||{}),lang=(args.mutex,options.lang),tmpText=[];if(arLangCodesKeys.indexOf(lang)>=0){if("[object Array]"===Object.prototype.toString.call(text)){var i=0;for(tmpText=[],i=0;i<text.length;i+=1)"[object Array]"===Object.prototype.toString.call(text[i])?tmpText.push([processArabic(text[i][0],!0),text[i][1],text[i][2]]):tmpText.push([processArabic(text[i],!0)]);args.text=tmpText}else args.text=processArabic(text,!0);void 0===options.charSpace&&(args.options.charSpace=0),!0===options.R2L&&(args.options.R2L=!1)}}])}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.autoPrint=function(options){var refAutoPrintTag;if((options=options||{}).variant=options.variant||"non-conform","javascript"===options.variant)this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){refAutoPrintTag=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+refAutoPrintTag+" 0 R")}));return this}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.events.push(["initialized",function(){this.canvas.pdf=this}]),jsPDFAPI.canvas={getContext:function(name){return this.pdf.context2d._canvas=this,this.pdf.context2d},childNodes:[]},Object.defineProperty(jsPDFAPI.canvas,"width",{get:function(){return this._width},set:function(value){this._width=value,this.getContext("2d").pageWrapX=value+1}}),Object.defineProperty(jsPDFAPI.canvas,"height",{get:function(){return this._height},set:function(value){this._height=value,this.getContext("2d").pageWrapY=value+1}})}(jsPDF.API),function(jsPDFAPI){var fontName,fontSize,fontStyle,headerFunction,lastCellPos={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},pages=1,setLastCellPosition=function(x,y,w,h,ln){lastCellPos={x:x,y:y,w:w,h:h,ln:ln}},getLastCellPosition=function(){return lastCellPos},NO_MARGINS={left:0,top:0,bottom:0};jsPDFAPI.setHeaderFunction=function(func){headerFunction=func},jsPDFAPI.getTextDimensions=function(txt){fontName=this.internal.getFont().fontName,fontSize=this.table_font_size||this.internal.getFontSize(),fontStyle=this.internal.getFont().fontStyle;var dimensions,text,px2pt=19.049976/25.4;(text=document.createElement("font")).id="jsPDFCell";try{text.style.fontStyle=fontStyle}catch(e){text.style.fontWeight=fontStyle}text.style.fontSize=fontSize+"pt",text.style.fontFamily=fontName;try{text.textContent=txt}catch(e){text.innerText=txt}return document.body.appendChild(text),dimensions={w:(text.offsetWidth+1)*px2pt,h:(text.offsetHeight+1)*px2pt},document.body.removeChild(text),dimensions},jsPDFAPI.cellAddPage=function(){var margins=this.margins||NO_MARGINS;this.addPage(),setLastCellPosition(margins.left,margins.top,void 0,void 0),pages+=1},jsPDFAPI.cellInitialize=function(){lastCellPos={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},pages=1},jsPDFAPI.cell=function(x,y,w,h,txt,ln,align){var curCell=getLastCellPosition(),pgAdded=!1;if(void 0!==curCell.ln)if(curCell.ln===ln)x=curCell.x+curCell.w,y=curCell.y;else{var margins=this.margins||NO_MARGINS;curCell.y+curCell.h+h+13>=this.internal.pageSize.getHeight()-margins.bottom&&(this.cellAddPage(),pgAdded=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(ln,!0)),y=getLastCellPosition().y+getLastCellPosition().h,pgAdded&&(y=23)}if(void 0!==txt[0])if(this.printingHeaderRow?this.rect(x,y,w,h,"FD"):this.rect(x,y,w,h),"right"===align){txt instanceof Array||(txt=[txt]);for(var i=0;i<txt.length;i++){var currentLine=txt[i],textSize=this.getStringUnitWidth(currentLine)*this.internal.getFontSize();this.text(currentLine,x+w-textSize-3,y+this.internal.getLineHeight()*(i+1))}}else this.text(txt,x+3,y+this.internal.getLineHeight());return setLastCellPosition(x,y,w,h,ln),this},jsPDFAPI.arrayMax=function(array,comparisonFn){var i,ln,item,max=array[0];for(i=0,ln=array.length;i<ln;i+=1)item=array[i],comparisonFn?-1===comparisonFn(max,item)&&(max=item):item>max&&(max=item);return max},jsPDFAPI.table=function(x,y,data,headers,config){if(!data)throw"No data for PDF table";var header,i,ln,cln,columnData,column,j,model,jln,func,headerNames=[],headerPrompts=[],columnMatrix={},columnWidths={},columnMinWidths=[],tableHeaderConfigs=[],autoSize=!1,printHeaders=!0,fontSize=12,margins=NO_MARGINS;if(margins.width=this.internal.pageSize.getWidth(),config&&(!0===config.autoSize&&(autoSize=!0),!1===config.printHeaders&&(printHeaders=!1),config.fontSize&&(fontSize=config.fontSize),config.css&&void 0!==config.css["font-size"]&&(fontSize=16*config.css["font-size"]),config.margins&&(margins=config.margins)),this.lnMod=0,lastCellPos={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},pages=1,this.printHeaders=printHeaders,this.margins=margins,this.setFontSize(fontSize),this.table_font_size=fontSize,null==headers)headerNames=Object.keys(data[0]);else if(headers[0]&&"string"!=typeof headers[0]){for(i=0,ln=headers.length;i<ln;i+=1)header=headers[i],headerNames.push(header.name),headerPrompts.push(header.prompt),columnWidths[header.name]=.7499990551181103*header.width}else headerNames=headers;if(autoSize)for(func=function(rec){return rec[header]},i=0,ln=headerNames.length;i<ln;i+=1){for(columnMatrix[header=headerNames[i]]=data.map(func),columnMinWidths.push(this.getTextDimensions(headerPrompts[i]||header).w),j=0,cln=(column=columnMatrix[header]).length;j<cln;j+=1)columnData=column[j],columnMinWidths.push(this.getTextDimensions(columnData).w);columnWidths[header]=jsPDFAPI.arrayMax(columnMinWidths),columnMinWidths=[]}if(printHeaders){var lineHeight=this.calculateLineHeight(headerNames,columnWidths,headerPrompts.length?headerPrompts:headerNames);for(i=0,ln=headerNames.length;i<ln;i+=1)header=headerNames[i],tableHeaderConfigs.push([x,y,columnWidths[header],lineHeight,String(headerPrompts.length?headerPrompts[i]:header)]);this.setTableHeaderRow(tableHeaderConfigs),this.printHeaderRow(1,!1)}for(i=0,ln=data.length;i<ln;i+=1){for(model=data[i],lineHeight=this.calculateLineHeight(headerNames,columnWidths,model),j=0,jln=headerNames.length;j<jln;j+=1)header=headerNames[j],this.cell(x,y,columnWidths[header],lineHeight,model[header],i+2,header.align)}return this.lastCellPos=lastCellPos,this.table_x=x,this.table_y=y,this},jsPDFAPI.calculateLineHeight=function(headerNames,columnWidths,model){for(var header,lineHeight=0,j=0;j<headerNames.length;j++){model[header=headerNames[j]]=this.splitTextToSize(String(model[header]),columnWidths[header]-3);var h=this.internal.getLineHeight()*model[header].length+3;h>lineHeight&&(lineHeight=h)}return lineHeight},jsPDFAPI.setTableHeaderRow=function(config){this.tableHeaderRow=config},jsPDFAPI.printHeaderRow=function(lineNumber,new_page){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var tableHeaderCell,tmpArray,i,ln;if(this.printingHeaderRow=!0,void 0!==headerFunction){var position=headerFunction(this,pages);setLastCellPosition(position[0],position[1],position[2],position[3],-1)}this.setFontStyle("bold");var tempHeaderConf=[];for(i=0,ln=this.tableHeaderRow.length;i<ln;i+=1)this.setFillColor(200,200,200),tableHeaderCell=this.tableHeaderRow[i],new_page&&(this.margins.top=13,tableHeaderCell[1]=this.margins&&this.margins.top||0,tempHeaderConf.push(tableHeaderCell)),tmpArray=[].concat(tableHeaderCell),this.cell.apply(this,tmpArray.concat(lineNumber));tempHeaderConf.length>0&&this.setTableHeaderRow(tempHeaderConf),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new context,this.context2d.ctxStack=[],this.context2d.path=[]}]),jsPDFAPI.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new context,f2:function(number){return number.toFixed(2)},fillRect:function(x,y,w,h){if(!this._isFillTransparent()){x=this._wrapX(x),y=this._wrapY(y);var xRect=this._matrix_map_rect(this.ctx._transform,{x:x,y:y,w:w,h:h});this.pdf.rect(xRect.x,xRect.y,xRect.w,xRect.h,"f")}},strokeRect:function(x,y,w,h){if(!this._isStrokeTransparent()){x=this._wrapX(x),y=this._wrapY(y);var xRect=this._matrix_map_rect(this.ctx._transform,{x:x,y:y,w:w,h:h});this.pdf.rect(xRect.x,xRect.y,xRect.w,xRect.h,"s")}},clearRect:function(x,y,w,h){if(!this.ctx.ignoreClearRect){x=this._wrapX(x),y=this._wrapY(y);var xRect=this._matrix_map_rect(this.ctx._transform,{x:x,y:y,w:w,h:h});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(xRect.x,xRect.y,xRect.w,xRect.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var ctx=new context;ctx.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=ctx},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(x,y,w,h){this.moveTo(x,y),this.lineTo(x+w,y),this.lineTo(x+w,y+h),this.lineTo(x,y+h),this.lineTo(x,y),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(style){var r,g,b,a,rgbColor=new RGBColor(style);if(!style)return{r:0,g:0,b:0,a:0,style:style};if(this.internal.rxTransparent.test(style))r=0,g=0,b=0,a=0;else{var m=this.internal.rxRgb.exec(style);null!=m?(r=parseInt(m[1]),g=parseInt(m[2]),b=parseInt(m[3]),a=1):null!=(m=this.internal.rxRgba.exec(style))?(r=parseInt(m[1]),g=parseInt(m[2]),b=parseInt(m[3]),a=parseFloat(m[4])):(a=1,"#"!=style.charAt(0)&&(style=rgbColor.ok?rgbColor.toHex():"#000000"),4===style.length?(r=style.substring(1,2),r+=r,g=style.substring(2,3),g+=g,b=style.substring(3,4),b+=b):(r=style.substring(1,3),g=style.substring(3,5),b=style.substring(5,7)),r=parseInt(r,16),g=parseInt(g,16),b=parseInt(b,16))}return{r:r,g:g,b:b,a:a,style:style}},setFillStyle:function(style){var rgba=this._getRGBA(style);this.ctx.fillStyle=style,this.ctx._isFillTransparent=0===rgba.a,this.ctx._fillOpacity=rgba.a,this.pdf.setFillColor(rgba.r,rgba.g,rgba.b,{a:rgba.a}),this.pdf.setTextColor(rgba.r,rgba.g,rgba.b,{a:rgba.a})},setStrokeStyle:function(style){var rgba=this._getRGBA(style);this.ctx.strokeStyle=rgba.style,this.ctx._isStrokeTransparent=0===rgba.a,this.ctx._strokeOpacity=rgba.a,0===rgba.a?this.pdf.setDrawColor(255,255,255):(rgba.a,this.pdf.setDrawColor(rgba.r,rgba.g,rgba.b))},fillText:function(text,x,y,maxWidth){if(!this._isFillTransparent()){x=this._wrapX(x),y=this._wrapY(y);var xpt=this._matrix_map_point(this.ctx._transform,[x,y]);x=xpt[0],y=xpt[1];var degs=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var lines;(lines=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var origPath=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=origPath}var scale=1;try{scale=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(scale<.01)this.pdf.text(text,x,this._getBaseline(y),null,degs);else{var oldSize=this.pdf.internal.getFontSize();this.pdf.setFontSize(oldSize*scale),this.pdf.text(text,x,this._getBaseline(y),null,degs),this.pdf.setFontSize(oldSize)}this.ctx._clip_path.length>0&&lines.push("Q")}},strokeText:function(text,x,y,maxWidth){if(!this._isStrokeTransparent()){x=this._wrapX(x),y=this._wrapY(y);var xpt=this._matrix_map_point(this.ctx._transform,[x,y]);x=xpt[0],y=xpt[1];var degs=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var lines;(lines=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var origPath=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=origPath}var scale=1;try{scale=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(1===scale)this.pdf.text(text,x,this._getBaseline(y),{stroke:!0},degs);else{var oldSize=this.pdf.internal.getFontSize();this.pdf.setFontSize(oldSize*scale),this.pdf.text(text,x,this._getBaseline(y),{stroke:!0},degs),this.pdf.setFontSize(oldSize)}this.ctx._clip_path.length>0&&lines.push("Q")}},setFont:function(font){if(this.ctx.font=font,null!=(m=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/.exec(font))){var fontStyle=m[1],fontWeight=(m[2],m[3]),fontSize=m[4],fontSizeUnit=m[5],fontFamily=m[6];fontSize="px"===fontSizeUnit?Math.floor(parseFloat(fontSize)):"em"===fontSizeUnit?Math.floor(parseFloat(fontSize)*this.pdf.getFontSize()):Math.floor(parseFloat(fontSize)),this.pdf.setFontSize(fontSize),"bold"===fontWeight||"700"===fontWeight?this.pdf.setFontStyle("bold"):"italic"===fontStyle?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal"),style="bold"===fontWeight||"700"===fontWeight?"italic"===fontStyle?"bolditalic":"bold":"italic"===fontStyle?"italic":"normal";for(var parts=fontFamily.toLowerCase().split(/\s*,\s*/),jsPdfFontName="Times",i=0;i<parts.length;i++){if(void 0!==this.pdf.internal.getFont(parts[i],style,{noFallback:!0,disableWarning:!0})){jsPdfFontName=parts[i];break}if("bolditalic"===style&&void 0!==this.pdf.internal.getFont(parts[i],"bold",{noFallback:!0,disableWarning:!0}))jsPdfFontName=parts[i],style="bold";else if(void 0!==this.pdf.internal.getFont(parts[i],"normal",{noFallback:!0,disableWarning:!0})){jsPdfFontName=parts[i],style="normal";break}}this.pdf.setFont(jsPdfFontName,style)}else{var m=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/.exec(font);if(null!=m){var style,size=m[1],name=(m[2],m[3]);(style=m[4])||(style="normal"),size="em"===fontSizeUnit?Math.floor(parseFloat(fontSize)*this.pdf.getFontSize()):Math.floor(parseFloat(size)),this.pdf.setFontSize(size),this.pdf.setFont(name,style)}}},setTextBaseline:function(baseline){this.ctx.textBaseline=baseline},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(align){this.ctx.textAlign=align},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(width){this.ctx.lineWidth=width,this.pdf.setLineWidth(width)},setLineCap:function(style){this.ctx.lineCap=style,this.pdf.setLineCap(style)},setLineJoin:function(style){this.ctx.lineJoin=style,this.pdf.setLineJoin(style)},moveTo:function(x,y){x=this._wrapX(x),y=this._wrapY(y);var xpt=this._matrix_map_point(this.ctx._transform,[x,y]),obj={type:"mt",x:x=xpt[0],y:y=xpt[1]};this.path.push(obj)},_wrapX:function(x){return this.pageWrapXEnabled?x%this.pageWrapX:x},_wrapY:function(y){return this.pageWrapYEnabled?(this._gotoPage(this._page(y)),(y-this.lastBreak)%this.pageWrapY):y},transform:function(a,b,c,d,e,f){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[a,b,c,d,e,f])},setTransform:function(a,b,c,d,e,f){this.ctx._transform=[a,b,c,d,e,f]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(y){if(this.pageWrapYEnabled){this.lastBreak=0;for(var manualBreaks=0,autoBreaks=0,i=0;i<this.pageBreaks.length;i++)if(y>=this.pageBreaks[i]){manualBreaks++,0===this.lastBreak&&autoBreaks++;var spaceBetweenLastBreak=this.pageBreaks[i]-this.lastBreak;this.lastBreak=this.pageBreaks[i],autoBreaks+=Math.floor(spaceBetweenLastBreak/this.pageWrapY)}if(0===this.lastBreak)autoBreaks+=Math.floor(y/this.pageWrapY)+1;return autoBreaks+manualBreaks}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(pageOneBased){},lineTo:function(x,y){x=this._wrapX(x),y=this._wrapY(y);var xpt=this._matrix_map_point(this.ctx._transform,[x,y]),obj={type:"lt",x:x=xpt[0],y:y=xpt[1]};this.path.push(obj)},bezierCurveTo:function(x1,y1,x2,y2,x,y){var xpt;x1=this._wrapX(x1),y1=this._wrapY(y1),x2=this._wrapX(x2),y2=this._wrapY(y2),x=this._wrapX(x),y=this._wrapY(y),x=(xpt=this._matrix_map_point(this.ctx._transform,[x,y]))[0],y=xpt[1];var obj={type:"bct",x1:x1=(xpt=this._matrix_map_point(this.ctx._transform,[x1,y1]))[0],y1:y1=xpt[1],x2:x2=(xpt=this._matrix_map_point(this.ctx._transform,[x2,y2]))[0],y2:y2=xpt[1],x:x,y:y};this.path.push(obj)},quadraticCurveTo:function(x1,y1,x,y){var xpt;x1=this._wrapX(x1),y1=this._wrapY(y1),x=this._wrapX(x),y=this._wrapY(y),x=(xpt=this._matrix_map_point(this.ctx._transform,[x,y]))[0],y=xpt[1];var obj={type:"qct",x1:x1=(xpt=this._matrix_map_point(this.ctx._transform,[x1,y1]))[0],y1:y1=xpt[1],x:x,y:y};this.path.push(obj)},arc:function(x,y,radius,startAngle,endAngle,anticlockwise){if(x=this._wrapX(x),y=this._wrapY(y),!this._matrix_is_identity(this.ctx._transform)){var xpt=this._matrix_map_point(this.ctx._transform,[x,y]);x=xpt[0],y=xpt[1];var x_radPt0=this._matrix_map_point(this.ctx._transform,[0,0]),x_radPt=this._matrix_map_point(this.ctx._transform,[0,radius]);radius=Math.sqrt(Math.pow(x_radPt[0]-x_radPt0[0],2)+Math.pow(x_radPt[1]-x_radPt0[1],2))}var obj={type:"arc",x:x,y:y,radius:radius,startAngle:startAngle,endAngle:endAngle,anticlockwise:anticlockwise};this.path.push(obj)},drawImage:function(img,x,y,w,h,x2,y2,w2,h2){void 0!==x2&&(x=x2,y=y2,w=w2,h=h2),x=this._wrapX(x),y=this._wrapY(y);var format,xRect=this._matrix_map_rect(this.ctx._transform,{x:x,y:y,w:w,h:h}),m=(this._matrix_map_rect(this.ctx._transform,{x:x2,y:y2,w:w2,h:h2}),/data:image\/(\w+).*/i.exec(img));format=null!=m?m[1]:"png",this.pdf.addImage(img,format,xRect.x,xRect.y,xRect.w,xRect.h)},_matrix_multiply:function(m2,m1){var sx=m1[0],shy=m1[1],shx=m1[2],sy=m1[3],tx=m1[4],ty=m1[5],t0=sx*m2[0]+shy*m2[2],t2=shx*m2[0]+sy*m2[2],t4=tx*m2[0]+ty*m2[2]+m2[4];return shy=sx*m2[1]+shy*m2[3],sy=shx*m2[1]+sy*m2[3],ty=tx*m2[1]+ty*m2[3]+m2[5],[sx=t0,shy,shx=t2,sy,tx=t4,ty]},_matrix_rotation:function(m){return Math.atan2(m[2],m[0])},_matrix_decompose:function(matrix){var a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],scaleX=Math.sqrt(a*a+b*b),shear=(a/=scaleX)*c+(b/=scaleX)*d;c-=a*shear,d-=b*shear;var scaleY=Math.sqrt(c*c+d*d);return shear/=scaleY,a*(d/=scaleY)<b*(c/=scaleY)&&(a=-a,b=-b,shear=-shear,scaleX=-scaleX),{scale:[scaleX,0,0,scaleY,0,0],translate:[1,0,0,1,matrix[4],matrix[5]],rotate:[a,b,-b,a,0,0],skew:[1,0,shear,1,0,0]}},_matrix_map_point:function(m1,pt){var sx=m1[0],shy=m1[1],shx=m1[2],sy=m1[3],tx=m1[4],ty=m1[5],px=pt[0],py=pt[1];return[px*sx+py*shx+tx,px*shy+py*sy+ty]},_matrix_map_point_obj:function(m1,pt){var xpt=this._matrix_map_point(m1,[pt.x,pt.y]);return{x:xpt[0],y:xpt[1]}},_matrix_map_rect:function(m1,rect){var p1=this._matrix_map_point(m1,[rect.x,rect.y]),p2=this._matrix_map_point(m1,[rect.x+rect.w,rect.y+rect.h]);return{x:p1[0],y:p1[1],w:p2[0]-p1[0],h:p2[1]-p1[1]}},_matrix_is_identity:function(m1){return 1==m1[0]&&(0==m1[1]&&(0==m1[2]&&(1==m1[3]&&(0==m1[4]&&0==m1[5]))))},rotate:function(angle){var matrix=[Math.cos(angle),Math.sin(angle),-Math.sin(angle),Math.cos(angle),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,matrix)},scale:function(sx,sy){var matrix=[sx,0,0,sy,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,matrix)},translate:function(x,y){var matrix=[1,0,0,1,x,y];this.ctx._transform=this._matrix_multiply(this.ctx._transform,matrix)},stroke:function(){if(this.ctx._clip_path.length>0){var lines;(lines=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var origPath=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=origPath,this._stroke(!1),lines.push("Q")}else this._stroke(!1)},_stroke:function(isClip){if(isClip||!this._isStrokeTransparent()){for(var moves=[],xPath=this.path,i=0;i<xPath.length;i++){var pt=xPath[i];switch(pt.type){case"mt":moves.push({start:pt,deltas:[],abs:[]});break;case"lt":var delta=[pt.x-xPath[i-1].x,pt.y-xPath[i-1].y];moves[moves.length-1].deltas.push(delta),moves[moves.length-1].abs.push(pt);break;case"bct":delta=[pt.x1-xPath[i-1].x,pt.y1-xPath[i-1].y,pt.x2-xPath[i-1].x,pt.y2-xPath[i-1].y,pt.x-xPath[i-1].x,pt.y-xPath[i-1].y];moves[moves.length-1].deltas.push(delta);break;case"qct":var x1=xPath[i-1].x+2/3*(pt.x1-xPath[i-1].x),y1=xPath[i-1].y+2/3*(pt.y1-xPath[i-1].y),x2=pt.x+2/3*(pt.x1-pt.x),y2=pt.y+2/3*(pt.y1-pt.y),x3=pt.x,y3=pt.y;delta=[x1-xPath[i-1].x,y1-xPath[i-1].y,x2-xPath[i-1].x,y2-xPath[i-1].y,x3-xPath[i-1].x,y3-xPath[i-1].y];moves[moves.length-1].deltas.push(delta);break;case"arc":0==moves.length&&moves.push({start:{x:0,y:0},deltas:[],abs:[]}),moves[moves.length-1].arc=!0,Array.isArray(moves[moves.length-1].abs)&&moves[moves.length-1].abs.push(pt)}}for(i=0;i<moves.length;i++){var style;if(style=i==moves.length-1?"s":null,moves[i].arc)for(var arcs=moves[i].abs,ii=0;ii<arcs.length;ii++){var arc=arcs[ii],start=360*arc.startAngle/(2*Math.PI),end=360*arc.endAngle/(2*Math.PI),x=arc.x,y=arc.y;this.internal.arc2(this,x,y,arc.radius,start,end,arc.anticlockwise,style,isClip)}else{x=moves[i].start.x,y=moves[i].start.y;isClip?(this.pdf.lines(moves[i].deltas,x,y,null,null),this.pdf.clip_fixed()):this.pdf.lines(moves[i].deltas,x,y,null,style)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(fillRule){if(this.ctx._clip_path.length>0){var lines;(lines=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var origPath=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(fillRule,!0),this.ctx._clip_path=this.path,this.path=origPath,this._fill(fillRule,!1),lines.push("Q")}else this._fill(fillRule,!1)},_fill:function(fillRule,isClip){if(!this._isFillTransparent()){var lines,v2Support="function"==typeof this.pdf.internal.newObject2;lines=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var moves=[],outInterceptOld=window.outIntercept;if(v2Support)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var obj=this.pdf.internal.newStreamObject(),obj2=this.pdf.internal.newObject2();obj2.push("<</Type /ExtGState"),obj2.push("/SMask <</S /Alpha /G "+obj.objId+" 0 R>>"),obj2.push(">>");var gsName="MASK"+obj2.objId;this.pdf.internal.addGraphicsState(gsName,obj2.objId);var instruction="/"+gsName+" gs";lines.splice(0,0,"q"),lines.splice(1,0,instruction),lines.push("Q"),window.outIntercept=obj;break;default:var dictionaryEntry="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];dictionaryEntry&&this.pdf.internal.out(dictionaryEntry+" gs")}var alpha=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(alpha=this.ctx._fillOpacity),v2Support){var objOpac=this.pdf.internal.newObject2();objOpac.push("<</Type /ExtGState"),objOpac.push("/CA "+alpha),objOpac.push("/ca "+alpha),objOpac.push(">>");gsName="GS_O_"+objOpac.objId;this.pdf.internal.addGraphicsState(gsName,objOpac.objId),this.pdf.internal.out("/"+gsName+" gs")}for(var xPath=this.path,i=0;i<xPath.length;i++){var pt=xPath[i];switch(pt.type){case"mt":moves.push({start:pt,deltas:[],abs:[]});break;case"lt":var delta=[pt.x-xPath[i-1].x,pt.y-xPath[i-1].y];moves[moves.length-1].deltas.push(delta),moves[moves.length-1].abs.push(pt);break;case"bct":delta=[pt.x1-xPath[i-1].x,pt.y1-xPath[i-1].y,pt.x2-xPath[i-1].x,pt.y2-xPath[i-1].y,pt.x-xPath[i-1].x,pt.y-xPath[i-1].y];moves[moves.length-1].deltas.push(delta);break;case"qct":var x1=xPath[i-1].x+2/3*(pt.x1-xPath[i-1].x),y1=xPath[i-1].y+2/3*(pt.y1-xPath[i-1].y),x2=pt.x+2/3*(pt.x1-pt.x),y2=pt.y+2/3*(pt.y1-pt.y),x3=pt.x,y3=pt.y;delta=[x1-xPath[i-1].x,y1-xPath[i-1].y,x2-xPath[i-1].x,y2-xPath[i-1].y,x3-xPath[i-1].x,y3-xPath[i-1].y];moves[moves.length-1].deltas.push(delta);break;case"arc":0===moves.length&&moves.push({deltas:[],abs:[]}),moves[moves.length-1].arc=!0,Array.isArray(moves[moves.length-1].abs)&&moves[moves.length-1].abs.push(pt);break;case"close":moves.push({close:!0})}}for(i=0;i<moves.length;i++){var style;if(i==moves.length-1?(style="f","evenodd"===fillRule&&(style+="*")):style=null,moves[i].close)this.pdf.internal.out("h"),style&&this.pdf.internal.out(style);else if(moves[i].arc){moves[i].start&&this.internal.move2(this,moves[i].start.x,moves[i].start.y);for(var arcs=moves[i].abs,ii=0;ii<arcs.length;ii++){var arc=arcs[ii];if(void 0!==arc.startAngle){var start=360*arc.startAngle/(2*Math.PI),end=360*arc.endAngle/(2*Math.PI),x=arc.x,y=arc.y;if(0===ii&&this.internal.move2(this,x,y),this.internal.arc2(this,x,y,arc.radius,start,end,arc.anticlockwise,null,isClip),ii===arcs.length-1&&moves[i].start){x=moves[i].start.x,y=moves[i].start.y;this.internal.line2(c2d,x,y)}}else this.internal.line2(c2d,arc.x,arc.y)}}else{x=moves[i].start.x,y=moves[i].start.y;isClip?(this.pdf.lines(moves[i].deltas,x,y,null,null),this.pdf.clip_fixed()):this.pdf.lines(moves[i].deltas,x,y,null,style)}}window.outIntercept=outInterceptOld}},pushMask:function(){if("function"==typeof this.pdf.internal.newObject2){var obj=this.pdf.internal.newStreamObject(),obj2=this.pdf.internal.newObject2();obj2.push("<</Type /ExtGState"),obj2.push("/SMask <</S /Alpha /G "+obj.objId+" 0 R>>"),obj2.push(">>");var gsName="MASK"+obj2.objId;this.pdf.internal.addGraphicsState(gsName,obj2.objId);var instruction="/"+gsName+" gs";this.pdf.internal.out(instruction)}else console.log("jsPDF v2 not enabled")},clip:function(){if(this.ctx._clip_path.length>0)for(var i=0;i<this.path.length;i++)this.ctx._clip_path.push(this.path[i]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(text){var pdf=this.pdf;return{getWidth:function(){var fontSize=pdf.internal.getFontSize(),txtWidth=pdf.getStringUnitWidth(text)*fontSize/pdf.internal.scaleFactor;return txtWidth*=1.3333},get width(){return this.getWidth(text)}}},_getBaseline:function(y){var height=parseInt(this.pdf.internal.getFontSize()),descent=.25*height;switch(this.ctx.textBaseline){case"bottom":return y-descent;case"top":return y+height;case"hanging":return y+height-descent;case"middle":return y+height/2-descent;default:return y}}};var c2d=jsPDFAPI.context2d;function context(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(ctx){this._isStrokeTransparent=ctx._isStrokeTransparent,this._strokeOpacity=ctx._strokeOpacity,this.strokeStyle=ctx.strokeStyle,this._isFillTransparent=ctx._isFillTransparent,this._fillOpacity=ctx._fillOpacity,this.fillStyle=ctx.fillStyle,this.font=ctx.font,this.lineWidth=ctx.lineWidth,this.lineJoin=ctx.lineJoin,this.lineCap=ctx.lineCap,this.textBaseline=ctx.textBaseline,this.textAlign=ctx.textAlign,this._fontSize=ctx._fontSize,this._transform=ctx._transform.slice(0),this.globalCompositeOperation=ctx.globalCompositeOperation,this.globalAlpha=ctx.globalAlpha,this._clip_path=ctx._clip_path.slice(0),this.ignoreClearRect=ctx.ignoreClearRect}}Object.defineProperty(c2d,"fillStyle",{set:function(value){this.setFillStyle(value)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(c2d,"strokeStyle",{set:function(value){this.setStrokeStyle(value)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(c2d,"lineWidth",{set:function(value){this.setLineWidth(value)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(c2d,"lineCap",{set:function(val){this.setLineCap(val)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(c2d,"lineJoin",{set:function(val){this.setLineJoin(val)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(c2d,"miterLimit",{set:function(val){this.ctx.miterLimit=val},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(c2d,"textBaseline",{set:function(value){this.setTextBaseline(value)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(c2d,"textAlign",{set:function(value){this.setTextAlign(value)},get:function(){return this.getTextAlign()}}),Object.defineProperty(c2d,"font",{set:function(value){this.setFont(value)},get:function(){return this.ctx.font}}),Object.defineProperty(c2d,"globalCompositeOperation",{set:function(value){this.ctx.globalCompositeOperation=value},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(c2d,"globalAlpha",{set:function(value){this.ctx.globalAlpha=value},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(c2d,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(c2d,"ignoreClearRect",{set:function(value){this.ctx.ignoreClearRect=value},get:function(){return this.ctx.ignoreClearRect}}),c2d.internal={},c2d.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,c2d.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,c2d.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,c2d.internal.arc=function(c2d,xc,yc,r,a1,a2,anticlockwise,style){for(var k=this.pdf.internal.scaleFactor,pageHeight=this.pdf.internal.pageSize.getHeight(),f2=this.pdf.internal.f2,a1r=a1*(Math.PI/180),a2r=a2*(Math.PI/180),curves=this.createArc(r,a1r,a2r,anticlockwise),i=0;i<curves.length;i++){var curve=curves[i];0===i?this.pdf.internal.out([f2((curve.x1+xc)*k),f2((pageHeight-(curve.y1+yc))*k),"m",f2((curve.x2+xc)*k),f2((pageHeight-(curve.y2+yc))*k),f2((curve.x3+xc)*k),f2((pageHeight-(curve.y3+yc))*k),f2((curve.x4+xc)*k),f2((pageHeight-(curve.y4+yc))*k),"c"].join(" ")):this.pdf.internal.out([f2((curve.x2+xc)*k),f2((pageHeight-(curve.y2+yc))*k),f2((curve.x3+xc)*k),f2((pageHeight-(curve.y3+yc))*k),f2((curve.x4+xc)*k),f2((pageHeight-(curve.y4+yc))*k),"c"].join(" ")),c2d._lastPoint={x:xc,y:yc}}null!==style&&this.pdf.internal.out(this.pdf.internal.getStyle(style))},c2d.internal.arc2=function(c2d,x,y,r,a1,a2,anticlockwise,style,isClip){var centerX=x,centerY=y;isClip?(this.arc(c2d,centerX,centerY,r,a1,a2,anticlockwise,null),this.pdf.clip_fixed()):this.arc(c2d,centerX,centerY,r,a1,a2,anticlockwise,style)},c2d.internal.move2=function(c2d,x,y){var k=this.pdf.internal.scaleFactor,pageHeight=this.pdf.internal.pageSize.getHeight(),f2=this.pdf.internal.f2;this.pdf.internal.out([f2(x*k),f2((pageHeight-y)*k),"m"].join(" ")),c2d._lastPoint={x:x,y:y}},c2d.internal.line2=function(c2d,dx,dy){var k=this.pdf.internal.scaleFactor,pageHeight=this.pdf.internal.pageSize.getHeight(),f2=this.pdf.internal.f2,pt={x:dx,y:dy};this.pdf.internal.out([f2(pt.x*k),f2((pageHeight-pt.y)*k),"l"].join(" ")),c2d._lastPoint=pt},c2d.internal.createArc=function(radius,startAngle,endAngle,anticlockwise){var twoPI=2*Math.PI,piOverTwo=Math.PI/2,startAngleN=startAngle;for((startAngleN<twoPI||startAngleN>twoPI)&&(startAngleN%=twoPI),startAngleN<0&&(startAngleN=twoPI+startAngleN);startAngle>endAngle;)startAngle-=twoPI;var totalAngle=Math.abs(endAngle-startAngle);totalAngle<twoPI&&anticlockwise&&(totalAngle=twoPI-totalAngle);for(var curves=[],sgn=anticlockwise?-1:1,a1=startAngleN;totalAngle>1e-5;){var a2=a1+sgn*Math.min(totalAngle,piOverTwo);curves.push(this.createSmallArc(radius,a1,a2)),totalAngle-=Math.abs(a2-a1),a1=a2}return curves},c2d.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},c2d.internal.createSmallArc=function(r,a1,a2){var a=(a2-a1)/2,x4=r*Math.cos(a),y4=r*Math.sin(a),x1=x4,y1=-y4,q1=x1*x1+y1*y1,q2=q1+x1*x4+y1*y4,k2=4/3*(Math.sqrt(2*q1*q2)-q2)/(x1*y4-y1*x4),x2=x1-k2*y1,y2=y1+k2*x1,x3=x2,y3=-y2,ar=a+a1,cos_ar=Math.cos(ar),sin_ar=Math.sin(ar);return{x1:r*Math.cos(a1),y1:r*Math.sin(a1),x2:x2*cos_ar-y2*sin_ar,y2:x2*sin_ar+y2*cos_ar,x3:x3*cos_ar-y3*sin_ar,y3:x3*sin_ar+y3*cos_ar,x4:r*Math.cos(a2),y4:r*Math.sin(a2)}}}(jsPDF.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),
/** @preserve
   * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Daniel Husar, https://github.com/danielhusar
   *               2014 Wolfgang Gassler, https://github.com/woolfg
   *               2014 Steven Spungin, https://github.com/flamenco
   *
   * 
   * ====================================================================
   */
function(jsPDFAPI){var clone,_DrillForContent,FontNameDB,FontStyleMap,TextAlignMap,FontWeightMap,FloatMap,ClearMap,GetCSS,PurgeWhiteSpace,Renderer,ResolveFont,ResolveUnitedNumber,UnitedNumberMap,elementHandledElsewhere,images,loadImgs,checkForFooter,process,tableToJson;clone=function(){return function(obj){return Clone.prototype=obj,new Clone};function Clone(){}}(),PurgeWhiteSpace=function(array){var fragment,i,l,lTrimmed,r,rTrimmed,trailingSpace;for(i=0,l=array.length,fragment=void 0,lTrimmed=!1,rTrimmed=!1;!lTrimmed&&i!==l;)(fragment=array[i]=array[i].trimLeft())&&(lTrimmed=!0),i++;for(i=l-1;l&&!rTrimmed&&-1!==i;)(fragment=array[i]=array[i].trimRight())&&(rTrimmed=!0),i--;for(r=/\s+$/g,trailingSpace=!0,i=0;i!==l;)"\u2028"!=array[i]&&(fragment=array[i].replace(/\s+/g," "),trailingSpace&&(fragment=fragment.trimLeft()),fragment&&(trailingSpace=r.test(fragment)),array[i]=fragment),i++;return array},ResolveFont=function(css_font_family_string){var name,part,parts;for(name=void 0,part=(parts=css_font_family_string.split(",")).shift();!name&&part;)name=FontNameDB[part.trim().toLowerCase()],part=parts.shift();return name},ResolveUnitedNumber=function(css_line_height_string){var value;return(css_line_height_string="auto"===css_line_height_string?"0px":css_line_height_string).indexOf("em")>-1&&!isNaN(Number(css_line_height_string.replace("em","")))&&(css_line_height_string=18.719*Number(css_line_height_string.replace("em",""))+"px"),css_line_height_string.indexOf("pt")>-1&&!isNaN(Number(css_line_height_string.replace("pt","")))&&(css_line_height_string=1.333*Number(css_line_height_string.replace("pt",""))+"px"),void 0,16,(value=UnitedNumberMap[css_line_height_string])?value:undefined!==(value={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[css_line_height_string])||(value=parseFloat(css_line_height_string))?UnitedNumberMap[css_line_height_string]=value/16:(value=css_line_height_string.match(/([\d\.]+)(px)/),Array.isArray(value)&&3===value.length?UnitedNumberMap[css_line_height_string]=parseFloat(value[1])/16:UnitedNumberMap[css_line_height_string]=1)},GetCSS=function(element){var css,tmp,computedCSSElement,compCSS;return compCSS=function(el){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(el,null):el.currentStyle?el.currentStyle:el.style}(element),tmp=void 0,(css={})["font-family"]=ResolveFont((computedCSSElement=function(prop){return prop=prop.replace(/-\D/g,(function(match){return match.charAt(1).toUpperCase()})),compCSS[prop]})("font-family"))||"times",css["font-style"]=FontStyleMap[computedCSSElement("font-style")]||"normal",css["text-align"]=TextAlignMap[computedCSSElement("text-align")]||"left","bold"===(tmp=FontWeightMap[computedCSSElement("font-weight")]||"normal")&&("normal"===css["font-style"]?css["font-style"]=tmp:css["font-style"]=tmp+css["font-style"]),css["font-size"]=ResolveUnitedNumber(computedCSSElement("font-size"))||1,css["line-height"]=ResolveUnitedNumber(computedCSSElement("line-height"))||1,css.display="inline"===computedCSSElement("display")?"inline":"block",tmp="block"===css.display,css["margin-top"]=tmp&&ResolveUnitedNumber(computedCSSElement("margin-top"))||0,css["margin-bottom"]=tmp&&ResolveUnitedNumber(computedCSSElement("margin-bottom"))||0,css["padding-top"]=tmp&&ResolveUnitedNumber(computedCSSElement("padding-top"))||0,css["padding-bottom"]=tmp&&ResolveUnitedNumber(computedCSSElement("padding-bottom"))||0,css["margin-left"]=tmp&&ResolveUnitedNumber(computedCSSElement("margin-left"))||0,css["margin-right"]=tmp&&ResolveUnitedNumber(computedCSSElement("margin-right"))||0,css["padding-left"]=tmp&&ResolveUnitedNumber(computedCSSElement("padding-left"))||0,css["padding-right"]=tmp&&ResolveUnitedNumber(computedCSSElement("padding-right"))||0,css["page-break-before"]=computedCSSElement("page-break-before")||"auto",css.float=FloatMap[computedCSSElement("cssFloat")]||"none",css.clear=ClearMap[computedCSSElement("clear")]||"none",css.color=computedCSSElement("color"),css},elementHandledElsewhere=function(element,renderer,elementHandlers){var handlers,i,isHandledElsewhere,l,classNames;if(isHandledElsewhere=!1,i=void 0,l=void 0,handlers=elementHandlers["#"+element.id])if("function"==typeof handlers)isHandledElsewhere=handlers(element,renderer);else for(i=0,l=handlers.length;!isHandledElsewhere&&i!==l;)isHandledElsewhere=handlers[i](element,renderer),i++;if(handlers=elementHandlers[element.nodeName],!isHandledElsewhere&&handlers)if("function"==typeof handlers)isHandledElsewhere=handlers(element,renderer);else for(i=0,l=handlers.length;!isHandledElsewhere&&i!==l;)isHandledElsewhere=handlers[i](element,renderer),i++;for(classNames="string"==typeof element.className?element.className.split(" "):[],i=0;i<classNames.length;i++)if(handlers=elementHandlers["."+classNames[i]],!isHandledElsewhere&&handlers)if("function"==typeof handlers)isHandledElsewhere=handlers(element,renderer);else for(i=0,l=handlers.length;!isHandledElsewhere&&i!==l;)isHandledElsewhere=handlers[i](element,renderer),i++;return isHandledElsewhere},tableToJson=function(table,renderer){var data,headers,i,j,rowData,tableRow,table_with,cell,l;for(data=[],headers=[],i=0,l=table.rows[0].cells.length,table_with=table.clientWidth;i<l;)cell=table.rows[0].cells[i],headers[i]={name:cell.textContent.toLowerCase().replace(/\s+/g,""),prompt:cell.textContent.replace(/\r?\n/g,""),width:cell.clientWidth/table_with*renderer.pdf.internal.pageSize.getWidth()},i++;for(i=1;i<table.rows.length;){for(tableRow=table.rows[i],rowData={},j=0;j<tableRow.cells.length;)rowData[headers[j].name]=tableRow.cells[j].textContent.replace(/\r?\n/g,""),j++;data.push(rowData),i++}return{rows:data,headers:headers}};var SkipNode={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},listCount=1;_DrillForContent=function(element,renderer,elementHandlers){var cn,cns,fragmentCSS,i,isBlock,l,table2json,cb;for(cns=element.childNodes,cn=void 0,(isBlock="block"===(fragmentCSS=GetCSS(element)).display)&&(renderer.setBlockBoundary(),renderer.setBlockStyle(fragmentCSS)),i=0,l=cns.length;i<l;){if("object"===(void 0===(cn=cns[i])?"undefined":_typeof(cn))){if(renderer.executeWatchFunctions(cn),1===cn.nodeType&&"HEADER"===cn.nodeName){var header=cn,oldMarginTop=renderer.pdf.margins_doc.top;renderer.pdf.internal.events.subscribe("addPage",(function(pageInfo){renderer.y=oldMarginTop,_DrillForContent(header,renderer,elementHandlers),renderer.pdf.margins_doc.top=renderer.y+10,renderer.y+=10}),!1)}if(8===cn.nodeType&&"#comment"===cn.nodeName)~cn.textContent.indexOf("ADD_PAGE")&&(renderer.pdf.addPage(),renderer.y=renderer.pdf.margins_doc.top);else if(1!==cn.nodeType||SkipNode[cn.nodeName])if(3===cn.nodeType){var value=cn.nodeValue;if(cn.nodeValue&&"LI"===cn.parentNode.nodeName)if("OL"===cn.parentNode.parentNode.nodeName)value=listCount+++". "+value;else{var fontSize=fragmentCSS["font-size"],offsetX=(3-.75*fontSize)*renderer.pdf.internal.scaleFactor,offsetY=.75*fontSize*renderer.pdf.internal.scaleFactor,radius=1.74*fontSize/renderer.pdf.internal.scaleFactor;cb=function(x,y){this.pdf.circle(x+offsetX,y+offsetY,radius,"FD")}}16&cn.ownerDocument.body.compareDocumentPosition(cn)&&renderer.addText(value,fragmentCSS)}else"string"==typeof cn&&renderer.addText(cn,fragmentCSS);else{var cached_image;if("IMG"===cn.nodeName){var url=cn.getAttribute("src");cached_image=images[renderer.pdf.sHashCode(url)||url]}if(cached_image){renderer.pdf.internal.pageSize.getHeight()-renderer.pdf.margins_doc.bottom<renderer.y+cn.height&&renderer.y>renderer.pdf.margins_doc.top&&(renderer.pdf.addPage(),renderer.y=renderer.pdf.margins_doc.top,renderer.executeWatchFunctions(cn));var imagesCSS=GetCSS(cn),imageX=renderer.x,fontToUnitRatio=12/renderer.pdf.internal.scaleFactor,additionalSpaceLeft=(imagesCSS["margin-left"]+imagesCSS["padding-left"])*fontToUnitRatio,additionalSpaceRight=(imagesCSS["margin-right"]+imagesCSS["padding-right"])*fontToUnitRatio,additionalSpaceTop=(imagesCSS["margin-top"]+imagesCSS["padding-top"])*fontToUnitRatio,additionalSpaceBottom=(imagesCSS["margin-bottom"]+imagesCSS["padding-bottom"])*fontToUnitRatio;void 0!==imagesCSS.float&&"right"===imagesCSS.float?imageX+=renderer.settings.width-cn.width-additionalSpaceRight:imageX+=additionalSpaceLeft,renderer.pdf.addImage(cached_image,imageX,renderer.y+additionalSpaceTop,cn.width,cn.height),cached_image=void 0,"right"===imagesCSS.float||"left"===imagesCSS.float?(renderer.watchFunctions.push(function(diffX,thresholdY,diffWidth,el){return renderer.y>=thresholdY?(renderer.x+=diffX,renderer.settings.width+=diffWidth,!0):!!(el&&1===el.nodeType&&!SkipNode[el.nodeName]&&renderer.x+el.width>renderer.pdf.margins_doc.left+renderer.pdf.margins_doc.width)&&(renderer.x+=diffX,renderer.y=thresholdY,renderer.settings.width+=diffWidth,!0)}.bind(this,"left"===imagesCSS.float?-cn.width-additionalSpaceLeft-additionalSpaceRight:0,renderer.y+cn.height+additionalSpaceTop+additionalSpaceBottom,cn.width)),renderer.watchFunctions.push(function(yPositionAfterFloating,pages,el){return!(renderer.y<yPositionAfterFloating&&pages===renderer.pdf.internal.getNumberOfPages())||1===el.nodeType&&"both"===GetCSS(el).clear&&(renderer.y=yPositionAfterFloating,!0)}.bind(this,renderer.y+cn.height,renderer.pdf.internal.getNumberOfPages())),renderer.settings.width-=cn.width+additionalSpaceLeft+additionalSpaceRight,"left"===imagesCSS.float&&(renderer.x+=cn.width+additionalSpaceLeft+additionalSpaceRight)):renderer.y+=cn.height+additionalSpaceTop+additionalSpaceBottom}else if("TABLE"===cn.nodeName)table2json=tableToJson(cn,renderer),renderer.y+=10,renderer.pdf.table(renderer.x,renderer.y,table2json.rows,table2json.headers,{autoSize:!1,printHeaders:elementHandlers.printHeaders,margins:renderer.pdf.margins_doc,css:GetCSS(cn)}),renderer.y=renderer.pdf.lastCellPos.y+renderer.pdf.lastCellPos.h+20;else if("OL"===cn.nodeName||"UL"===cn.nodeName)listCount=1,elementHandledElsewhere(cn,renderer,elementHandlers)||_DrillForContent(cn,renderer,elementHandlers),renderer.y+=10;else if("LI"===cn.nodeName){var temp=renderer.x;renderer.x+=20/renderer.pdf.internal.scaleFactor,renderer.y+=3,elementHandledElsewhere(cn,renderer,elementHandlers)||_DrillForContent(cn,renderer,elementHandlers),renderer.x=temp}else"BR"===cn.nodeName?(renderer.y+=fragmentCSS["font-size"]*renderer.pdf.internal.scaleFactor,renderer.addText("\u2028",clone(fragmentCSS))):elementHandledElsewhere(cn,renderer,elementHandlers)||_DrillForContent(cn,renderer,elementHandlers)}}i++}if(elementHandlers.outY=renderer.y,isBlock)return renderer.setBlockBoundary(cb)},images={},loadImgs=function(element,renderer,elementHandlers,cb){var found_images,imgs=element.getElementsByTagName("img"),l=imgs.length,x=0;function done(){renderer.pdf.internal.events.publish("imagesLoaded"),cb(found_images)}function loadImage(url,width,height){if(url){var img=new Image;found_images=++x,img.crossOrigin="",img.onerror=img.onload=function(){if(img.complete&&(0===img.src.indexOf("data:image/")&&(img.width=width||img.width||0,img.height=height||img.height||0),img.width+img.height)){var hash=renderer.pdf.sHashCode(url)||url;images[hash]=images[hash]||img}--x||done()},img.src=url}}for(;l--;)loadImage(imgs[l].getAttribute("src"),imgs[l].width,imgs[l].height);return x||done()},checkForFooter=function(elem,renderer,elementHandlers){var footer=elem.getElementsByTagName("footer");if(footer.length>0){footer=footer[0];var oldOut=renderer.pdf.internal.write,oldY=renderer.y;renderer.pdf.internal.write=function(){},_DrillForContent(footer,renderer,elementHandlers);var footerHeight=Math.ceil(renderer.y-oldY)+5;renderer.y=oldY,renderer.pdf.internal.write=oldOut,renderer.pdf.margins_doc.bottom+=footerHeight;for(var renderFooter=function(pageInfo){var pageNumber=void 0!==pageInfo?pageInfo.pageNumber:1,oldPosition=renderer.y;renderer.y=renderer.pdf.internal.pageSize.getHeight()-renderer.pdf.margins_doc.bottom,renderer.pdf.margins_doc.bottom-=footerHeight;for(var spans=footer.getElementsByTagName("span"),i=0;i<spans.length;++i)(" "+spans[i].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(spans[i].innerHTML=pageNumber),(" "+spans[i].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(spans[i].innerHTML="###jsPDFVarTotalPages###");_DrillForContent(footer,renderer,elementHandlers),renderer.pdf.margins_doc.bottom+=footerHeight,renderer.y=oldPosition},spans=footer.getElementsByTagName("span"),i=0;i<spans.length;++i)(" "+spans[i].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&renderer.pdf.internal.events.subscribe("htmlRenderingFinished",renderer.pdf.putTotalPages.bind(renderer.pdf,"###jsPDFVarTotalPages###"),!0);renderer.pdf.internal.events.subscribe("addPage",renderFooter,!1),renderFooter(),SkipNode.FOOTER=1}},process=function(pdf,element,x,y,settings,callback){if(!element)return!1;"string"==typeof element||element.parentNode||(element=""+element.innerHTML),"string"==typeof element&&(element=function(element){var $frame,$hiddendiv,framename;return framename="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",($hiddendiv=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",$hiddendiv.innerHTML='<iframe style="height:1px;width:1px" name="'+framename+'" />',document.body.appendChild($hiddendiv),($frame=window.frames[framename]).document.open(),$frame.document.writeln(element),$frame.document.close(),$frame.document.body}(element.replace(/<\/?script[^>]*?>/gi,"")));var out,r=new Renderer(pdf,x,y,settings);return loadImgs.call(this,element,r,settings.elementHandlers,(function(found_images){checkForFooter(element,r,settings.elementHandlers),_DrillForContent(element,r,settings.elementHandlers),r.pdf.internal.events.publish("htmlRenderingFinished"),out=r.dispose(),"function"==typeof callback?callback(out):found_images&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")})),out||{x:r.x,y:r.y}},(Renderer=function(pdf,x,y,settings){return this.pdf=pdf,this.x=x,this.y=y,this.settings=settings,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},Renderer.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},Renderer.prototype.executeWatchFunctions=function(el){var ret=!1,narray=[];if(this.watchFunctions.length>0){for(var i=0;i<this.watchFunctions.length;++i)!0===this.watchFunctions[i](el)?ret=!0:narray.push(this.watchFunctions[i]);this.watchFunctions=narray}return ret},Renderer.prototype.splitFragmentsIntoLines=function(fragments,styles){var currentLineLength,ff,fontMetrics,fontMetricsCache,fragment,fragmentChopped,fragmentLength,fragmentSpecificMetrics,fs,k,line,lines,maxLineLength,style;for(12,k=this.pdf.internal.scaleFactor,fontMetricsCache={},ff=void 0,fs=void 0,fontMetrics=void 0,fragment=void 0,style=void 0,fragmentSpecificMetrics=void 0,fragmentLength=void 0,fragmentChopped=void 0,lines=[line=[]],currentLineLength=0,maxLineLength=this.settings.width;fragments.length;)if(fragment=fragments.shift(),style=styles.shift(),fragment)if((fontMetrics=fontMetricsCache[(ff=style["font-family"])+(fs=style["font-style"])])||(fontMetrics=this.pdf.internal.getFont(ff,fs).metadata.Unicode,fontMetricsCache[ff+fs]=fontMetrics),fragmentSpecificMetrics={widths:fontMetrics.widths,kerning:fontMetrics.kerning,fontSize:12*style["font-size"],textIndent:currentLineLength},fragmentLength=this.pdf.getStringUnitWidth(fragment,fragmentSpecificMetrics)*fragmentSpecificMetrics.fontSize/k,"\u2028"==fragment)line=[],lines.push(line);else if(currentLineLength+fragmentLength>maxLineLength){for(fragmentChopped=this.pdf.splitTextToSize(fragment,maxLineLength,fragmentSpecificMetrics),line.push([fragmentChopped.shift(),style]);fragmentChopped.length;)line=[[fragmentChopped.shift(),style]],lines.push(line);currentLineLength=this.pdf.getStringUnitWidth(line[0][0],fragmentSpecificMetrics)*fragmentSpecificMetrics.fontSize/k}else line.push([fragment,style]),currentLineLength+=fragmentLength;if(void 0!==style["text-align"]&&("center"===style["text-align"]||"right"===style["text-align"]||"justify"===style["text-align"]))for(var i=0;i<lines.length;++i){var length=this.pdf.getStringUnitWidth(lines[i][0][0],fragmentSpecificMetrics)*fragmentSpecificMetrics.fontSize/k;i>0&&(lines[i][0][1]=clone(lines[i][0][1]));var space=maxLineLength-length;if("right"===style["text-align"])lines[i][0][1]["margin-left"]=space;else if("center"===style["text-align"])lines[i][0][1]["margin-left"]=space/2;else if("justify"===style["text-align"]){var countSpaces=lines[i][0][0].split(" ").length-1;lines[i][0][1]["word-spacing"]=space/countSpaces,i===lines.length-1&&(lines[i][0][1]["word-spacing"]=0)}}return lines},Renderer.prototype.RenderTextFragment=function(text,style){var font,maxLineHeight;maxLineHeight=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(style.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),maxLineHeight=Math.max(maxLineHeight,style["line-height"],style["font-size"]),this.pdf.internal.write(0,(-12*maxLineHeight).toFixed(2),"Td")),font=this.pdf.internal.getFont(style["font-family"],style["font-style"]);var pdfTextColor=this.getPdfColor(style.color);pdfTextColor!==this.lastTextColor&&(this.pdf.internal.write(pdfTextColor),this.lastTextColor=pdfTextColor),void 0!==style["word-spacing"]&&style["word-spacing"]>0&&this.pdf.internal.write(style["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+font.id,(12*style["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(text)+") Tj"),void 0!==style["word-spacing"]&&this.pdf.internal.write(0,"Tw")},Renderer.prototype.getPdfColor=function(style){var r,g,b,rgbColor=new RGBColor(style),m=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(style);if(null!=m?(r=parseInt(m[1]),g=parseInt(m[2]),b=parseInt(m[3])):("#"!=style.charAt(0)&&(style=rgbColor.ok?rgbColor.toHex():"#000000"),r=style.substring(1,3),r=parseInt(r,16),g=style.substring(3,5),g=parseInt(g,16),b=style.substring(5,7),b=parseInt(b,16)),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var hex=parseInt(r.substr(1),16);r=hex>>16&255,g=hex>>8&255,b=255&hex}var f3=this.f3;return 0===r&&0===g&&0===b||void 0===g?f3(r/255)+" g":[f3(r/255),f3(g/255),f3(b/255),"rg"].join(" ")},Renderer.prototype.f3=function(number){return number.toFixed(3)},Renderer.prototype.renderParagraph=function(cb){var blockstyle,fontToUnitRatio,fragments,i,l,line,lines,maxLineHeight,out,paragraphspacing_after,paragraphspacing_before,styles,fontSize;if(fragments=PurgeWhiteSpace(this.paragraph.text),styles=this.paragraph.style,blockstyle=this.paragraph.blockstyle,this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:blockstyle},fragments.join("").trim()){lines=this.splitFragmentsIntoLines(fragments,styles),line=void 0,maxLineHeight=void 0,12,fontToUnitRatio=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,paragraphspacing_before=(Math.max((blockstyle["margin-top"]||0)-this.priorMarginBottom,0)+(blockstyle["padding-top"]||0))*fontToUnitRatio,paragraphspacing_after=((blockstyle["margin-bottom"]||0)+(blockstyle["padding-bottom"]||0))*fontToUnitRatio,this.priorMarginBottom=blockstyle["margin-bottom"]||0,"always"===blockstyle["page-break-before"]&&(this.pdf.addPage(),this.y=0,paragraphspacing_before=((blockstyle["margin-top"]||0)+(blockstyle["padding-top"]||0))*fontToUnitRatio),out=this.pdf.internal.write,i=void 0,l=void 0,this.y+=paragraphspacing_before,out("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var currentIndent=0;lines.length;){for(maxLineHeight=0,i=0,l=(line=lines.shift()).length;i!==l;)line[i][0].trim()&&(maxLineHeight=Math.max(maxLineHeight,line[i][1]["line-height"],line[i][1]["font-size"]),fontSize=7*line[i][1]["font-size"]),i++;var indentMove=0,wantedIndent=0;for(void 0!==line[0][1]["margin-left"]&&line[0][1]["margin-left"]>0&&(indentMove=(wantedIndent=this.pdf.internal.getCoordinateString(line[0][1]["margin-left"]))-currentIndent,currentIndent=wantedIndent),out(indentMove+Math.max(blockstyle["margin-left"]||0,0)*fontToUnitRatio,(-12*maxLineHeight).toFixed(2),"Td"),i=0,l=line.length;i!==l;)line[i][0]&&this.RenderTextFragment(line[i][0],line[i][1]),i++;if(this.y+=maxLineHeight*fontToUnitRatio,this.executeWatchFunctions(line[0][1])&&lines.length>0){var localFragments=[],localStyles=[];lines.forEach((function(localLine){for(var i=0,l=localLine.length;i!==l;)localLine[i][0]&&(localFragments.push(localLine[i][0]+" "),localStyles.push(localLine[i][1])),++i})),lines=this.splitFragmentsIntoLines(PurgeWhiteSpace(localFragments),localStyles),out("ET","Q"),out("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return cb&&"function"==typeof cb&&cb.call(this,this.x-9,this.y-fontSize/2),out("ET","Q"),this.y+=paragraphspacing_after}},Renderer.prototype.setBlockBoundary=function(cb){return this.renderParagraph(cb)},Renderer.prototype.setBlockStyle=function(css){return this.paragraph.blockstyle=css},Renderer.prototype.addText=function(text,css){return this.paragraph.text.push(text),this.paragraph.style.push(css)},FontNameDB={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},FontWeightMap={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},FontStyleMap={normal:"normal",italic:"italic",oblique:"italic"},TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"},FloatMap={none:"none",right:"right",left:"left"},ClearMap={none:"none",both:"both"},UnitedNumberMap={normal:1},jsPDFAPI.fromHTML=function(HTML,x,y,settings,callback,margins){return this.margins_doc=margins||{top:0,bottom:0},settings||(settings={}),settings.elementHandlers||(settings.elementHandlers={}),process(this,HTML,isNaN(x)?4:x,isNaN(y)?4:y,settings,callback)}}(jsPDF.API),function(jsPDFAPI){var jsNamesObj,jsJsObj,text;jsPDFAPI.addJS=function(txt){return text=txt,this.internal.events.subscribe("postPutResources",(function(txt){jsNamesObj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jsNamesObj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jsJsObj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+text+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==jsNamesObj&&void 0!==jsJsObj&&this.internal.out("/Names <</JavaScript "+jsNamesObj+" 0 R>>")})),this}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.events.push(["postPutResources",function(){var pdf=this,rx=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var lines=pdf.outline.render().split(/\r\n/),i=0;i<lines.length;i++){var line=lines[i],m=rx.exec(line);if(null!=m){var oid=m[1];pdf.internal.newObjectDeferredBegin(oid)}pdf.internal.write(line)}if(this.outline.createNamedDestinations){var totalPages=this.internal.pages.length,dests=[];for(i=0;i<totalPages;i++){var id=pdf.internal.newObject();dests.push(id);var info=pdf.internal.getPageInfo(i+1);pdf.internal.write("<< /D["+info.objId+" 0 R /XYZ null null null]>> endobj")}var names2Oid=pdf.internal.newObject();pdf.internal.write("<< /Names [ ");for(i=0;i<dests.length;i++)pdf.internal.write("(page_"+(i+1)+")"+dests[i]+" 0 R");pdf.internal.write(" ] >>","endobj");pdf.internal.newObject();pdf.internal.write("<< /Dests "+names2Oid+" 0 R"),pdf.internal.write(">>","endobj")}}]),jsPDFAPI.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),jsPDFAPI.events.push(["initialized",function(){var pdf=this;pdf.outline={createNamedDestinations:!1,root:{children:[]}},pdf.outline.add=function(parent,title,options){var item={title:title,options:options,children:[]};return null==parent&&(parent=this.root),parent.children.push(item),item},pdf.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=pdf,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},pdf.outline.genIds_r=function(node){node.id=pdf.internal.newObjectDeferred();for(var i=0;i<node.children.length;i++)this.genIds_r(node.children[i])},pdf.outline.renderRoot=function(node){this.objStart(node),this.line("/Type /Outlines"),node.children.length>0&&(this.line("/First "+this.makeRef(node.children[0])),this.line("/Last "+this.makeRef(node.children[node.children.length-1]))),this.line("/Count "+this.count_r({count:0},node)),this.objEnd()},pdf.outline.renderItems=function(node){for(var i=0;i<node.children.length;i++){var item=node.children[i];this.objStart(item),this.line("/Title "+this.makeString(item.title)),this.line("/Parent "+this.makeRef(node)),i>0&&this.line("/Prev "+this.makeRef(node.children[i-1])),i<node.children.length-1&&this.line("/Next "+this.makeRef(node.children[i+1])),item.children.length>0&&(this.line("/First "+this.makeRef(item.children[0])),this.line("/Last "+this.makeRef(item.children[item.children.length-1])));var count=this.count=this.count_r({count:0},item);if(count>0&&this.line("/Count "+count),item.options&&item.options.pageNumber){var info=pdf.internal.getPageInfo(item.options.pageNumber);this.line("/Dest ["+info.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()*this.ctx.pdf.internal.scaleFactor+" 0]")}this.objEnd()}for(i=0;i<node.children.length;i++){item=node.children[i];this.renderItems(item)}},pdf.outline.line=function(text){this.ctx.val+=text+"\r\n"},pdf.outline.makeRef=function(node){return node.id+" 0 R"},pdf.outline.makeString=function(val){return"("+pdf.internal.pdfEscape(val)+")"},pdf.outline.objStart=function(node){this.ctx.val+="\r\n"+node.id+" 0 obj\r\n<<\r\n"},pdf.outline.objEnd=function(node){this.ctx.val+=">> \r\nendobj\r\n"},pdf.outline.count_r=function(ctx,node){for(var i=0;i<node.children.length;i++)ctx.count++,this.count_r(ctx,node.children[i]);return ctx.count}}])}(jsPDF.API),
/**@preserve
   *  ====================================================================
   * jsPDF PNG PlugIn
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   * ====================================================================
   */
function(jsPDFAPI){var hasCompressionJS=function(){var inst="function"==typeof Deflater;if(!inst)throw new Error("requires deflate.js for compression");return inst},compressBytes=function(bytes,lineLength,colorsPerPixel,compression){var level=5,filter_method=filterUp;switch(compression){case jsPDFAPI.image_compression.FAST:level=3,filter_method=filterSub;break;case jsPDFAPI.image_compression.MEDIUM:level=6,filter_method=filterAverage;break;case jsPDFAPI.image_compression.SLOW:level=9,filter_method=filterPaeth}bytes=applyPngFilterMethod(bytes,lineLength,colorsPerPixel,filter_method);var header=new Uint8Array(createZlibHeader(level)),checksum=adler32(bytes),deflate=new Deflater(level),a=deflate.append(bytes),cBytes=deflate.flush(),len=header.length+a.length+cBytes.length,cmpd=new Uint8Array(len+4);return cmpd.set(header),cmpd.set(a,header.length),cmpd.set(cBytes,header.length+a.length),cmpd[len++]=checksum>>>24&255,cmpd[len++]=checksum>>>16&255,cmpd[len++]=checksum>>>8&255,cmpd[len++]=255&checksum,jsPDFAPI.arrayBufferToBinaryString(cmpd)},createZlibHeader=function(bytes,level){var cmf=Math.LOG2E*Math.log(32768)-8<<4|8,hdr=cmf<<8;return hdr|=Math.min(3,(level-1&255)>>1)<<6,hdr|=0,[cmf,255&(hdr+=31-hdr%31)]},adler32=function(array,param){for(var tlen,s1=1,s2=0,len=array.length,i=0;len>0;){len-=tlen=len>param?param:len;do{s2+=s1+=array[i++]}while(--tlen);s1%=65521,s2%=65521}return(s2<<16|s1)>>>0},applyPngFilterMethod=function(bytes,lineLength,colorsPerPixel,filter_method){for(var line,prevLine,offset,lines=bytes.length/lineLength,result=new Uint8Array(bytes.length+lines),filter_methods=getFilterMethods(),i=0;i<lines;i++){if(offset=i*lineLength,line=bytes.subarray(offset,offset+lineLength),filter_method)result.set(filter_method(line,colorsPerPixel,prevLine),offset+i);else{for(var j=0,len=filter_methods.length,results=[];j<len;j++)results[j]=filter_methods[j](line,colorsPerPixel,prevLine);var ind=getIndexOfSmallestSum(results.concat());result.set(results[ind],offset+i)}prevLine=line}return result},filterNone=function(line,colorsPerPixel,prevLine){var result=Array.apply([],line);return result.unshift(0),result},filterSub=function(line,colorsPerPixel,prevLine){var left,result=[],i=0,len=line.length;for(result[0]=1;i<len;i++)left=line[i-colorsPerPixel]||0,result[i+1]=line[i]-left+256&255;return result},filterUp=function(line,colorsPerPixel,prevLine){var up,result=[],i=0,len=line.length;for(result[0]=2;i<len;i++)up=prevLine&&prevLine[i]||0,result[i+1]=line[i]-up+256&255;return result},filterAverage=function(line,colorsPerPixel,prevLine){var left,up,result=[],i=0,len=line.length;for(result[0]=3;i<len;i++)left=line[i-colorsPerPixel]||0,up=prevLine&&prevLine[i]||0,result[i+1]=line[i]+256-(left+up>>>1)&255;return result},filterPaeth=function(line,colorsPerPixel,prevLine){var left,up,upLeft,paeth,result=[],i=0,len=line.length;for(result[0]=4;i<len;i++)left=line[i-colorsPerPixel]||0,up=prevLine&&prevLine[i]||0,upLeft=prevLine&&prevLine[i-colorsPerPixel]||0,paeth=paethPredictor(left,up,upLeft),result[i+1]=line[i]-paeth+256&255;return result},paethPredictor=function(left,up,upLeft){var p=left+up-upLeft,pLeft=Math.abs(p-left),pUp=Math.abs(p-up),pUpLeft=Math.abs(p-upLeft);return pLeft<=pUp&&pLeft<=pUpLeft?left:pUp<=pUpLeft?up:upLeft},getFilterMethods=function(){return[filterNone,filterSub,filterUp,filterAverage,filterPaeth]},getIndexOfSmallestSum=function(arrays){for(var sum,min,ind,i=0,len=arrays.length;i<len;)((sum=absSum(arrays[i].slice(1)))<min||!min)&&(min=sum,ind=i),i++;return ind},absSum=function(array){for(var i=0,len=array.length,sum=0;i<len;)sum+=Math.abs(array[i++]);return sum};jsPDFAPI.processPNG=function(imageData,imageIndex,alias,compression,dataAsBinaryString){var img,dp,trns,colors,pal,smask,colorSpace=this.color_spaces.DEVICE_RGB,decode=this.decode.FLATE_DECODE,bpc=8;if(this.isArrayBuffer(imageData)&&(imageData=new Uint8Array(imageData)),this.isArrayBufferView(imageData)){if("function"!=typeof PNG||"function"!=typeof FlateStream)throw new Error("PNG support requires png.js and zlib.js");if(imageData=(img=new PNG(imageData)).imgData,bpc=img.bits,colorSpace=img.colorSpace,colors=img.colors,-1!==[4,6].indexOf(img.colorType)){if(8===img.bits)for(var pbl,len=(pixels=32==img.pixelBitlength?new Uint32Array(img.decodePixels().buffer):16==img.pixelBitlength?new Uint16Array(img.decodePixels().buffer):new Uint8Array(img.decodePixels().buffer)).length,imgData=new Uint8Array(len*img.colors),alphaData=new Uint8Array(len),pDiff=img.pixelBitlength-img.bits,i=0,n=0;i<len;i++){for(pixel=pixels[i],pbl=0;pbl<pDiff;)imgData[n++]=pixel>>>pbl&255,pbl+=img.bits;alphaData[i]=pixel>>>pbl&255}if(16===img.bits){len=(pixels=new Uint32Array(img.decodePixels().buffer)).length,imgData=new Uint8Array(len*(32/img.pixelBitlength)*img.colors),alphaData=new Uint8Array(len*(32/img.pixelBitlength));for(var pixel,hasColors=img.colors>1,a=(i=0,n=0,0);i<len;)pixel=pixels[i++],imgData[n++]=pixel>>>0&255,hasColors&&(imgData[n++]=pixel>>>16&255,pixel=pixels[i++],imgData[n++]=pixel>>>0&255),alphaData[a++]=pixel>>>16&255;bpc=8}compression!==jsPDFAPI.image_compression.NONE&&hasCompressionJS()?(imageData=compressBytes(imgData,img.width*img.colors,img.colors,compression),smask=compressBytes(alphaData,img.width,1,compression)):(imageData=imgData,smask=alphaData,decode=null)}if(3===img.colorType&&(colorSpace=this.color_spaces.INDEXED,pal=img.palette,img.transparency.indexed)){var trans=img.transparency.indexed,total=0;for(i=0,len=trans.length;i<len;++i)total+=trans[i];if((total/=255)===len-1&&-1!==trans.indexOf(0))trns=[trans.indexOf(0)];else if(total!==len){var pixels=img.decodePixels();for(alphaData=new Uint8Array(pixels.length),i=0,len=pixels.length;i<len;i++)alphaData[i]=trans[pixels[i]];smask=compressBytes(alphaData,img.width,1)}}var predictor=function(compression){var predictor;switch(compression){case jsPDFAPI.image_compression.FAST:predictor=11;break;case jsPDFAPI.image_compression.MEDIUM:predictor=13;break;case jsPDFAPI.image_compression.SLOW:predictor=14;break;default:predictor=12}return predictor}(compression);return dp=decode===this.decode.FLATE_DECODE?"/Predictor "+predictor+" /Colors "+colors+" /BitsPerComponent "+bpc+" /Columns "+img.width:"/Colors "+colors+" /BitsPerComponent "+bpc+" /Columns "+img.width,(this.isArrayBuffer(imageData)||this.isArrayBufferView(imageData))&&(imageData=this.arrayBufferToBinaryString(imageData)),(smask&&this.isArrayBuffer(smask)||this.isArrayBufferView(smask))&&(smask=this.arrayBufferToBinaryString(smask)),this.createImageInfo(imageData,img.width,img.height,colorSpace,bpc,decode,imageIndex,alias,dp,trns,pal,smask,predictor)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.processGIF89A=function(imageData,imageIndex,alias,compression,dataAsBinaryString){var reader=new GifReader(imageData),width=reader.width,height=reader.height,pixels=[];reader.decodeAndBlitFrameRGBA(0,pixels);var rawImageData={data:pixels,width:width,height:height},data=new JPEGEncoder(100).encode(rawImageData,100);return jsPDFAPI.processJPEG.call(this,data,imageIndex,alias,compression)},jsPDFAPI.processGIF87A=jsPDFAPI.processGIF89A}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.processBMP=function(imageData,imageIndex,alias,compression,dataAsBinaryString){var reader=new BmpDecoder(imageData,!1),width=reader.width,height=reader.height,rawImageData={data:reader.getData(),width:width,height:height},data=new JPEGEncoder(100).encode(rawImageData,100);return jsPDFAPI.processJPEG.call(this,data,imageIndex,alias,compression)}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.setLanguage=function(langCode){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[langCode]&&(this.internal.languageSettings.languageCode=langCode,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this}}(jsPDF.API),
/** @preserve
   * jsPDF split_text_to_size plugin - MIT license.
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Diego Casorran, https://github.com/diegocr
   */
API=jsPDF.API,getCharWidthsArray=API.getCharWidthsArray=function(text,options){var i,l,char_code,activeFont=(options=options||{}).font||this.internal.getFont(),fontSize=options.fontSize||this.internal.getFontSize(),charSpace=options.charSpace||this.internal.getCharSpace(),widths=options.widths?options.widths:activeFont.metadata.Unicode.widths,widthsFractionOf=widths.fof?widths.fof:1,kerning=options.kerning?options.kerning:activeFont.metadata.Unicode.kerning,kerningFractionOf=kerning.fof?kerning.fof:1,prior_char_code=0,default_char_width=widths[0]||widthsFractionOf,output=[];for(i=0,l=text.length;i<l;i++)char_code=text.charCodeAt(i),"function"==typeof activeFont.metadata.widthOfString?output.push((activeFont.metadata.widthOfGlyph(activeFont.metadata.characterToGlyph(char_code))+charSpace*(1e3/fontSize)||0)/1e3):output.push((widths[char_code]||default_char_width)/widthsFractionOf+(kerning[char_code]&&kerning[char_code][prior_char_code]||0)/kerningFractionOf),prior_char_code=char_code;return output},getArraySum=API.getArraySum=function(array){for(var i=array.length,output=0;i;)output+=array[--i];return output},getStringUnitWidth=API.getStringUnitWidth=function(text,options){var fontSize=(options=options||{}).fontSize||this.internal.getFontSize(),font=options.font||this.internal.getFont(),charSpace=options.charSpace||this.internal.getCharSpace();return"function"==typeof font.metadata.widthOfString?font.metadata.widthOfString(text,fontSize,charSpace)/fontSize:getArraySum(getCharWidthsArray.apply(this,arguments))},splitLongWord=function(word,widths_array,firstLineMaxLen,maxLen){for(var answer=[],i=0,l=word.length,workingLen=0;i!==l&&workingLen+widths_array[i]<firstLineMaxLen;)workingLen+=widths_array[i],i++;answer.push(word.slice(0,i));var startOfLine=i;for(workingLen=0;i!==l;)workingLen+widths_array[i]>maxLen&&(answer.push(word.slice(startOfLine,i)),workingLen=0,startOfLine=i),workingLen+=widths_array[i],i++;return startOfLine!==i&&answer.push(word.slice(startOfLine,i)),answer},splitParagraphIntoLines=function(text,maxlen,options){options||(options={});var word,widths_array,i,l,tmp,lineIndent,line=[],lines=[line],line_length=options.textIndent||0,separator_length=0,current_word_length=0,words=text.split(" "),spaceCharWidth=getCharWidthsArray.apply(this,[" ",options])[0];if(lineIndent=-1===options.lineIndent?words[0].length+2:options.lineIndent||0){var pad=Array(lineIndent).join(" "),wrds=[];words.map((function(wrd){(wrd=wrd.split(/\s*\n/)).length>1?wrds=wrds.concat(wrd.map((function(wrd,idx){return(idx&&wrd.length?"\n":"")+wrd}))):wrds.push(wrd[0])})),words=wrds,lineIndent=getStringUnitWidth.apply(this,[pad,options])}for(i=0,l=words.length;i<l;i++){var force=0;if(word=words[i],lineIndent&&"\n"==word[0]&&(word=word.substr(1),force=1),widths_array=getCharWidthsArray.apply(this,[word,options]),line_length+separator_length+(current_word_length=getArraySum(widths_array))>maxlen||force){if(current_word_length>maxlen){for(tmp=splitLongWord.apply(this,[word,widths_array,maxlen-(line_length+separator_length),maxlen]),line.push(tmp.shift()),line=[tmp.pop()];tmp.length;)lines.push([tmp.shift()]);current_word_length=getArraySum(widths_array.slice(word.length-(line[0]?line[0].length:0)))}else line=[word];lines.push(line),line_length=current_word_length+lineIndent,separator_length=spaceCharWidth}else line.push(word),line_length+=separator_length+current_word_length,separator_length=spaceCharWidth}if(lineIndent)var postProcess=function(ln,idx){return(idx?pad:"")+ln.join(" ")};else postProcess=function(ln){return ln.join(" ")};return lines.map(postProcess)},API.splitTextToSize=function(text,maxlen,options){var paragraphs,fsize=(options=options||{}).fontSize||this.internal.getFontSize(),newOptions=function(options){var widths={0:1},kerning={};if(options.widths&&options.kerning)return{widths:options.widths,kerning:options.kerning};var f=this.internal.getFont(options.fontName,options.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||widths,kerning:f.metadata.Unicode.kerning||kerning}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,options);paragraphs=Array.isArray(text)?text:text.split(/\r?\n/);var fontUnit_maxLen=1*this.internal.scaleFactor*maxlen/fsize;newOptions.textIndent=options.textIndent?1*options.textIndent*this.internal.scaleFactor/fsize:0,newOptions.lineIndent=options.lineIndent;var i,l,output=[];for(i=0,l=paragraphs.length;i<l;i++)output=output.concat(splitParagraphIntoLines.apply(this,[paragraphs[i],fontUnit_maxLen,newOptions]));return output},
/** @preserve 
  jsPDF standard_fonts_metrics plugin
  Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
  MIT license.
  */
function(API){var uncompress=function(data){for(var mapping={},i=0;i<"klmnopqrstuvwxyz".length;i++)mapping["klmnopqrstuvwxyz"[i]]="0123456789abcdef"[i];var stringparts,parent_key_pair,key,ch,output={},sign=1,activeobject=output,parentchain=[],keyparts="",valueparts="",datalen=data.length-1;for(i=1;i!=datalen;)ch=data[i],i+=1,"'"==ch?stringparts?(key=stringparts.join(""),stringparts=undefined):stringparts=[]:stringparts?stringparts.push(ch):"{"==ch?(parentchain.push([activeobject,key]),activeobject={},key=undefined):"}"==ch?((parent_key_pair=parentchain.pop())[0][parent_key_pair[1]]=activeobject,key=undefined,activeobject=parent_key_pair[0]):"-"==ch?sign=-1:undefined===key?mapping.hasOwnProperty(ch)?(keyparts+=mapping[ch],key=parseInt(keyparts,16)*sign,sign=1,keyparts=""):keyparts+=ch:mapping.hasOwnProperty(ch)?(valueparts+=mapping[ch],activeobject[key]=parseInt(valueparts,16)*sign,sign=1,key=undefined,valueparts=""):valueparts+=ch;return output},encodingBlock={codePages:["WinAnsiEncoding"],WinAnsiEncoding:uncompress("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},encodings={Unicode:{Courier:encodingBlock,"Courier-Bold":encodingBlock,"Courier-BoldOblique":encodingBlock,"Courier-Oblique":encodingBlock,Helvetica:encodingBlock,"Helvetica-Bold":encodingBlock,"Helvetica-BoldOblique":encodingBlock,"Helvetica-Oblique":encodingBlock,"Times-Roman":encodingBlock,"Times-Bold":encodingBlock,"Times-BoldItalic":encodingBlock,"Times-Italic":encodingBlock}},fontMetrics={Unicode:{"Courier-Oblique":uncompress("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":uncompress("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":uncompress("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:uncompress("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":uncompress("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":uncompress("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:uncompress("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:uncompress("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":uncompress("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:uncompress("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":uncompress("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":uncompress("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":uncompress("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":uncompress("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};API.events.push(["addFont",function(font){var metrics,unicode_section,encodingBlock;(metrics=fontMetrics.Unicode[font.postScriptName])&&((unicode_section=font.metadata.Unicode?font.metadata.Unicode:font.metadata.Unicode={}).widths=metrics.widths,unicode_section.kerning=metrics.kerning),(encodingBlock=encodings.Unicode[font.postScriptName])&&((unicode_section=font.metadata.Unicode?font.metadata.Unicode:font.metadata.Unicode={}).encoding=encodingBlock,encodingBlock.codePages&&encodingBlock.codePages.length&&(font.encoding=encodingBlock.codePages[0]))}])}(jsPDF.API),function(jsPDF,global){jsPDF.API.events.push(["addFont",function(font){jsPDF.API.existsFileInVFS(font.postScriptName)?(font.metadata=jsPDF.API.TTFFont.open(font.postScriptName,font.fontName,jsPDF.API.getFileFromVFS(font.postScriptName),font.encoding),font.metadata.Unicode=font.metadata.Unicode||{encoding:{},kerning:{},widths:[]}):font.id.slice(1)>14&&console.error("Font does not exist in FileInVFS, import fonts or remove declaration doc.addFont('"+font.postScriptName+"').")}])}(jsPDF,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),
/** @preserve
  jsPDF SVG plugin
  Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
  */
function(jsPDFAPI){jsPDFAPI.addSvg=function(svgtext,x,y,w,h){if(undefined===x||undefined===y)throw new Error("addSVG needs values for 'x' and 'y'");function convertPathToPDFLinesArgs(path){for(var x=parseFloat(path[1]),y=parseFloat(path[2]),vectors=[],position=3,len=path.length;position<len;)"c"===path[position]?(vectors.push([parseFloat(path[position+1]),parseFloat(path[position+2]),parseFloat(path[position+3]),parseFloat(path[position+4]),parseFloat(path[position+5]),parseFloat(path[position+6])]),position+=7):"l"===path[position]?(vectors.push([parseFloat(path[position+1]),parseFloat(path[position+2])]),position+=3):position+=1;return[x,y,vectors]}var svgnode=function(svgtext,frame){var framedoc=(frame.contentWindow||frame.contentDocument).document;return framedoc.write(svgtext),framedoc.close(),framedoc.getElementsByTagName("svg")[0]}(svgtext,function(document){var frame=document.createElement("iframe");return function(cssbody,document){var styletag=document.createElement("style");styletag.type="text/css",styletag.styleSheet?styletag.styleSheet.cssText=cssbody:styletag.appendChild(document.createTextNode(cssbody)),document.getElementsByTagName("head")[0].appendChild(styletag)}(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",document),frame.name="childframe",frame.setAttribute("width",0),frame.setAttribute("height",0),frame.setAttribute("frameborder","0"),frame.setAttribute("scrolling","no"),frame.setAttribute("seamless","seamless"),frame.setAttribute("class","jsPDF_sillysvg_iframe"),document.body.appendChild(frame),frame}(document)),scale=[1,1],svgw=parseFloat(svgnode.getAttribute("width")),svgh=parseFloat(svgnode.getAttribute("height"));svgw&&svgh&&(w&&h?scale=[w/svgw,h/svgh]:w?scale=[w/svgw,w/svgw]:h&&(scale=[h/svgh,h/svgh]));var i,l,tmp,linesargs,items=svgnode.childNodes;for(i=0,l=items.length;i<l;i++)(tmp=items[i]).tagName&&"PATH"===tmp.tagName.toUpperCase()&&((linesargs=convertPathToPDFLinesArgs(tmp.getAttribute("d").split(" ")))[0]=linesargs[0]*scale[0]+x,linesargs[1]=linesargs[1]*scale[1]+y,this.lines.call(this,linesargs[2],linesargs[0],linesargs[1],scale));return this},jsPDFAPI.addSVG=jsPDFAPI.addSvg,jsPDFAPI.addSvgAsImage=function(svg,x,y,w,h,alias,compression,rotation){if(isNaN(x)||isNaN(y))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(w)||isNaN(h))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var canvas=document.createElement("canvas");canvas.width=w,canvas.height=h;var ctx=canvas.getContext("2d");return ctx.fillStyle="#fff",ctx.fillRect(0,0,canvas.width,canvas.height),canvg(canvas,svg,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(canvas.toDataURL("image/jpeg",1),x,y,w,h,compression,rotation),this}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.putTotalPages=function(pageExpression){for(var replaceExpression=new RegExp(pageExpression,"g"),n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(replaceExpression,this.internal.getNumberOfPages());return this}}(jsPDF.API),function(jsPDFAPI){jsPDFAPI.viewerPreferences=function(options,doReset){var configuration;options=options||{},doReset=doReset||!1;var method,value,configurationTemplate={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},configurationKeys=Object.keys(configurationTemplate),rangeArray=[],i=0,j=0,k=0,isValid=!0;function arrayContainsElement(array,element){var iterator,result=!1;for(iterator=0;iterator<array.length;iterator+=1)array[iterator]===element&&(result=!0);return result}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(configurationTemplate)),this.internal.viewerpreferences.isSubscribed=!1),configuration=this.internal.viewerpreferences.configuration,"reset"===options||!0===doReset){var len=configurationKeys.length;for(k=0;k<len;k+=1)configuration[configurationKeys[k]].value=configuration[configurationKeys[k]].defaultValue,configuration[configurationKeys[k]].explicitSet=!1}if("object"===(void 0===options?"undefined":_typeof(options)))for(method in options)if(value=options[method],arrayContainsElement(configurationKeys,method)&&void 0!==value){if("boolean"===configuration[method].type&&"boolean"==typeof value)configuration[method].value=value;else if("name"===configuration[method].type&&arrayContainsElement(configuration[method].valueSet,value))configuration[method].value=value;else if("integer"===configuration[method].type&&Number.isInteger(value))configuration[method].value=value;else if("array"===configuration[method].type){for(i=0;i<value.length;i+=1)if(isValid=!0,1===value[i].length&&"number"==typeof value[i][0])rangeArray.push(String(value[i]));else if(value[i].length>1){for(j=0;j<value[i].length;j+=1)"number"!=typeof value[i][j]&&(isValid=!1);!0===isValid&&rangeArray.push(String(value[i].join("-")))}configuration[method].value=String(rangeArray)}else configuration[method].value=configuration[method].defaultValue;configuration[method].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var vPref,pdfDict=[];for(vPref in configuration)!0===configuration[vPref].explicitSet&&("name"===configuration[vPref].type?pdfDict.push("/"+vPref+" /"+configuration[vPref].value):pdfDict.push("/"+vPref+" "+configuration[vPref].value));0!==pdfDict.length&&this.internal.write("/ViewerPreferences\n<<\n"+pdfDict.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=configuration,this}}(jsPDF.API),function(jsPDFAPI){var xmpmetadata="",xmpnamespaceuri="",metadata_object_number="";jsPDFAPI.addMetadata=function(metadata,namespaceuri){return xmpnamespaceuri=namespaceuri||"http://jspdf.default.namespaceuri/",xmpmetadata=metadata,this.internal.events.subscribe("postPutResources",(function(){if(xmpmetadata){var rdf_beginning='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+xmpnamespaceuri+'"><jspdf:metadata>',utf8_xmpmeta_beginning=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),utf8_rdf_beginning=unescape(encodeURIComponent(rdf_beginning)),utf8_metadata=unescape(encodeURIComponent(xmpmetadata)),utf8_rdf_ending=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),utf8_xmpmeta_ending=unescape(encodeURIComponent("</x:xmpmeta>")),total_len=utf8_rdf_beginning.length+utf8_metadata.length+utf8_rdf_ending.length+utf8_xmpmeta_beginning.length+utf8_xmpmeta_ending.length;metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+total_len+" >>"),this.internal.write("stream"),this.internal.write(utf8_xmpmeta_beginning+utf8_rdf_beginning+utf8_metadata+utf8_rdf_ending+utf8_xmpmeta_ending),this.internal.write("endstream"),this.internal.write("endobj")}else metadata_object_number=""})),this.internal.events.subscribe("putCatalog",(function(){metadata_object_number&&this.internal.write("/Metadata "+metadata_object_number+" 0 R")})),this}}(jsPDF.API),function(jsPDF,global){var jsPDFAPI=jsPDF.API,glyID=[0];jsPDFAPI.events.push(["putFont",function(args){!function(font,out,newObject){if(font.metadata instanceof jsPDF.API.TTFFont&&"Identity-H"===font.encoding){for(var widths=font.metadata.Unicode.widths,pdfOutput=font.metadata.subset.encode(glyID),pdfOutput2="",i=0;i<pdfOutput.length;i++)pdfOutput2+=String.fromCharCode(pdfOutput[i]);var fontTable=newObject();out("<<"),out("/Length "+pdfOutput2.length),out("/Length1 "+pdfOutput2.length),out(">>"),out("stream"),out(pdfOutput2),out("endstream"),out("endobj");var fontDescriptor=newObject();out("<<"),out("/Type /FontDescriptor"),out("/FontName /"+font.fontName),out("/FontFile2 "+fontTable+" 0 R"),out("/FontBBox "+jsPDF.API.PDFObject.convert(font.metadata.bbox)),out("/Flags "+font.metadata.flags),out("/StemV "+font.metadata.stemV),out("/ItalicAngle "+font.metadata.italicAngle),out("/Ascent "+font.metadata.ascender),out("/Descent "+font.metadata.decender),out("/CapHeight "+font.metadata.capHeight),out(">>"),out("endobj");var DescendantFont=newObject();out("<<"),out("/Type /Font"),out("/BaseFont /"+font.fontName),out("/FontDescriptor "+fontDescriptor+" 0 R"),out("/W "+jsPDF.API.PDFObject.convert(widths)),out("/CIDToGIDMap /Identity"),out("/DW 1000"),out("/Subtype /CIDFontType2"),out("/CIDSystemInfo"),out("<<"),out("/Supplement 0"),out("/Registry (Adobe)"),out("/Ordering ("+font.encoding+")"),out(">>"),out(">>"),out("endobj"),font.objectNumber=newObject(),out("<<"),out("/Type /Font"),out("/Subtype /Type0"),out("/BaseFont /"+font.fontName),out("/Encoding /"+font.encoding),out("/DescendantFonts ["+DescendantFont+" 0 R]"),out(">>"),out("endobj"),font.isAlreadyPutted=!0}}(args.font,args.out,args.newObject)}]);jsPDFAPI.events.push(["putFont",function(args){!function(font,out,newObject){if(font.metadata instanceof jsPDF.API.TTFFont&&"WinAnsiEncoding"===font.encoding){font.metadata.Unicode.widths;for(var pdfOutput=font.metadata.rawData,pdfOutput2="",i=0;i<pdfOutput.length;i++)pdfOutput2+=String.fromCharCode(pdfOutput[i]);var fontTable=newObject();out("<<"),out("/Length "+pdfOutput2.length),out("/Length1 "+pdfOutput2.length),out(">>"),out("stream"),out(pdfOutput2),out("endstream"),out("endobj");var fontDescriptor=newObject();for(out("<<"),out("/Descent "+font.metadata.decender),out("/CapHeight "+font.metadata.capHeight),out("/StemV "+font.metadata.stemV),out("/Type /FontDescriptor"),out("/FontFile2 "+fontTable+" 0 R"),out("/Flags 96"),out("/FontBBox "+jsPDF.API.PDFObject.convert(font.metadata.bbox)),out("/FontName /"+font.fontName),out("/ItalicAngle "+font.metadata.italicAngle),out("/Ascent "+font.metadata.ascender),out(">>"),out("endobj"),font.objectNumber=newObject(),i=0;i<font.metadata.hmtx.widths.length;i++)font.metadata.hmtx.widths[i]=parseInt(font.metadata.hmtx.widths[i]*(1e3/font.metadata.head.unitsPerEm));out("<</Subtype/TrueType/Type/Font/BaseFont/"+font.fontName+"/FontDescriptor "+fontDescriptor+" 0 R/Encoding/"+font.encoding+" /FirstChar 29 /LastChar 255 /Widths "+jsPDF.API.PDFObject.convert(font.metadata.hmtx.widths)+">>"),out("endobj"),font.isAlreadyPutted=!0}}(args.font,args.out,args.newObject)}]);var utf8TextFunction=function(args){var cmapConfirm,key,text=args.text||"",x=args.x,y=args.y,options=args.options||{},mutex=args.mutex||{},pdfEscape=mutex.pdfEscape,activeFontKey=mutex.activeFontKey,fonts=mutex.fonts,str=(mutex.activeFontSize,""),s=0,strText="",encoding=fonts[key=activeFontKey].encoding;if("Identity-H"!==fonts[key].encoding)return{text:text,x:x,y:y,options:options,mutex:mutex};for(strText=text,key=activeFontKey,"[object Array]"===Object.prototype.toString.call(text)&&(strText=text[0]),s=0;s<strText.length;s+=1)fonts[key].metadata.hasOwnProperty("cmap")&&(cmapConfirm=fonts[key].metadata.cmap.unicode.codeMap[strText[s].charCodeAt(0)]),cmapConfirm||strText[s].charCodeAt(0)<256&&fonts[key].metadata.hasOwnProperty("Unicode")?str+=strText[s]:str+="";var result="";return parseInt(key.slice(1))<14||"WinAnsiEncoding"===encoding?result=function(str){for(var hex="",i=0;i<str.length;i++)hex+=""+str.charCodeAt(i).toString(16);return hex}(pdfEscape(str,key)):"Identity-H"===encoding&&(result=function(text,font){for(var t,widths=font.metadata.Unicode.widths,padz=["","0","00","000","0000"],ar=[""],i=0,l=text.length;i<l;++i){if(t=font.metadata.characterToGlyph(text.charCodeAt(i)),glyID.push(t),-1==widths.indexOf(t)&&(widths.push(t),widths.push([parseInt(font.metadata.widthOfGlyph(t),10)])),"0"==t)return ar.join("");t=t.toString(16),ar.push(padz[4-t.length],t)}return ar.join("")}(str,fonts[key])),mutex.isHex=!0,{text:result,x:x,y:y,options:options,mutex:mutex}};jsPDFAPI.events.push(["postProcessText",function(parms){var text=parms.text||"",x=parms.x,y=parms.y,options=parms.options,mutex=parms.mutex,tmpText=(options.lang,[]),args={text:text,x:x,y:y,options:options,mutex:mutex};if("[object Array]"===Object.prototype.toString.call(text)){var i=0;for(i=0;i<text.length;i+=1)"[object Array]"===Object.prototype.toString.call(text[i])&&3===text[i].length?tmpText.push([utf8TextFunction(Object.assign({},args,{text:text[i][0]})).text,text[i][1],text[i][2]]):tmpText.push(utf8TextFunction(Object.assign({},args,{text:text[i]})).text);parms.text=tmpText}else parms.text=utf8TextFunction(Object.assign({},args,{text:text})).text}])}(jsPDF,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),function(jsPDFAPI){var vFS={};jsPDFAPI.existsFileInVFS=function(filename){return vFS.hasOwnProperty(filename)},jsPDFAPI.addFileToVFS=function(filename,filecontent){return vFS[filename]=filecontent,this},jsPDFAPI.getFileFromVFS=function(filename){return vFS.hasOwnProperty(filename)?vFS[filename]:null}}(jsPDF.API),function(view){if(view.URL=view.URL||view.webkitURL,view.Blob&&view.URL)try{return void new Blob}catch(e){}var BlobBuilder=view.BlobBuilder||view.WebKitBlobBuilder||view.MozBlobBuilder||function(view){var get_class=function(object){return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1]},FakeBlobBuilder=function(){this.data=[]},FakeBlob=function(data,type,encoding){this.data=data,this.size=data.length,this.type=type,this.encoding=encoding},FBB_proto=FakeBlobBuilder.prototype,FB_proto=FakeBlob.prototype,FileReaderSync=view.FileReaderSync,FileException=function(type){this.code=this[this.name=type]},file_ex_codes="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),file_ex_code=file_ex_codes.length,real_URL=view.URL||view.webkitURL||view,real_create_object_URL=real_URL.createObjectURL,real_revoke_object_URL=real_URL.revokeObjectURL,URL=real_URL,btoa=view.btoa,atob=view.atob,ArrayBuffer=view.ArrayBuffer,Uint8Array=view.Uint8Array,origin=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(FakeBlob.fake=FB_proto.fake=!0;file_ex_code--;)FileException.prototype[file_ex_codes[file_ex_code]]=file_ex_code+1;return real_URL.createObjectURL||(URL=view.URL=function(uri){var uri_origin,uri_info=document.createElementNS("http://www.w3.org/1999/xhtml","a");return uri_info.href=uri,"origin"in uri_info||("data:"===uri_info.protocol.toLowerCase()?uri_info.origin=null:(uri_origin=uri.match(origin),uri_info.origin=uri_origin&&uri_origin[1])),uri_info}),URL.createObjectURL=function(blob){var data_URI_header,type=blob.type;return null===type&&(type="application/octet-stream"),blob instanceof FakeBlob?(data_URI_header="data:"+type,"base64"===blob.encoding?data_URI_header+";base64,"+blob.data:"URI"===blob.encoding?data_URI_header+","+decodeURIComponent(blob.data):btoa?data_URI_header+";base64,"+btoa(blob.data):data_URI_header+","+encodeURIComponent(blob.data)):real_create_object_URL?real_create_object_URL.call(real_URL,blob):void 0},URL.revokeObjectURL=function(object_URL){"data:"!==object_URL.substring(0,5)&&real_revoke_object_URL&&real_revoke_object_URL.call(real_URL,object_URL)},FBB_proto.append=function(data){var bb=this.data;if(Uint8Array&&(data instanceof ArrayBuffer||data instanceof Uint8Array)){for(var str="",buf=new Uint8Array(data),i=0,buf_len=buf.length;i<buf_len;i++)str+=String.fromCharCode(buf[i]);bb.push(str)}else if("Blob"===get_class(data)||"File"===get_class(data)){if(!FileReaderSync)throw new FileException("NOT_READABLE_ERR");var fr=new FileReaderSync;bb.push(fr.readAsBinaryString(data))}else data instanceof FakeBlob?"base64"===data.encoding&&atob?bb.push(atob(data.data)):"URI"===data.encoding?bb.push(decodeURIComponent(data.data)):"raw"===data.encoding&&bb.push(data.data):("string"!=typeof data&&(data+=""),bb.push(unescape(encodeURIComponent(data))))},FBB_proto.getBlob=function(type){return arguments.length||(type=null),new FakeBlob(this.data.join(""),type,"raw")},FBB_proto.toString=function(){return"[object BlobBuilder]"},FB_proto.slice=function(start,end,type){var args=arguments.length;return args<3&&(type=null),new FakeBlob(this.data.slice(start,args>1?end:this.data.length),type,this.encoding)},FB_proto.toString=function(){return"[object Blob]"},FB_proto.close=function(){this.size=0,delete this.data},FakeBlobBuilder}(view);view.Blob=function(blobParts,options){var type=options&&options.type||"",builder=new BlobBuilder;if(blobParts)for(var i=0,len=blobParts.length;i<len;i++)Uint8Array&&blobParts[i]instanceof Uint8Array?builder.append(blobParts[i].buffer):builder.append(blobParts[i]);var blob=builder.getBlob(type);return!blob.slice&&blob.webkitSlice&&(blob.slice=blob.webkitSlice),blob};var getPrototypeOf=Object.getPrototypeOf||function(object){return object.__proto__};view.Blob.prototype=getPrototypeOf(new view.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||window.content||window);var saveAs=saveAs||function(view){if(!(void 0===view||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,is_safari=/constructor/i.test(view.HTMLElement)||view.safari,is_chrome_ios=/CriOS\/[\d]+/.test(navigator.userAgent),throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},revoke=function(file){setTimeout((function(){"string"==typeof file?get_URL().revokeObjectURL(file):file.remove()}),4e4)},auto_bom=function(blob){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)?new Blob([String.fromCharCode(65279),blob],{type:blob.type}):blob},FileSaver=function(blob,name,no_auto_bom){no_auto_bom||(blob=auto_bom(blob));var object_url,filesaver=this,force="application/octet-stream"===blob.type,dispatch_all=function(){!function(filesaver,event_types,event){for(var i=(event_types=[].concat(event_types)).length;i--;){var listener=filesaver["on"+event_types[i]];if("function"==typeof listener)try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}(filesaver,"writestart progress write writeend".split(" "))};if(filesaver.readyState=filesaver.INIT,can_use_save_link)return object_url=get_URL().createObjectURL(blob),void setTimeout((function(){var node,event;save_link.href=object_url,save_link.download=name,node=save_link,event=new MouseEvent("click"),node.dispatchEvent(event),dispatch_all(),revoke(object_url),filesaver.readyState=filesaver.DONE}));!function(){if((is_chrome_ios||force&&is_safari)&&view.FileReader){var reader=new FileReader;return reader.onloadend=function(){var url=is_chrome_ios?reader.result:reader.result.replace(/^data:[^;]*;/,"data:attachment/file;");view.open(url,"_blank")||(view.location.href=url),url=void 0,filesaver.readyState=filesaver.DONE,dispatch_all()},reader.readAsDataURL(blob),void(filesaver.readyState=filesaver.INIT)}(object_url||(object_url=get_URL().createObjectURL(blob)),force)?view.location.href=object_url:view.open(object_url,"_blank")||(view.location.href=object_url);filesaver.readyState=filesaver.DONE,dispatch_all(),revoke(object_url)}()},FS_proto=FileSaver.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(blob,name,no_auto_bom){return name=name||blob.name||"download",no_auto_bom||(blob=auto_bom(blob)),navigator.msSaveOrOpenBlob(blob,name)}:(FS_proto.abort=function(){},FS_proto.readyState=FS_proto.INIT=0,FS_proto.WRITING=1,FS_proto.DONE=2,FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null,function(blob,name,no_auto_bom){return new FileSaver(blob,name||blob.name||"download",no_auto_bom)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||window.content);function GifReader(buf){var p=0;if(71!==buf[p++]||73!==buf[p++]||70!==buf[p++]||56!==buf[p++]||56!=(buf[p++]+1&253)||97!==buf[p++])throw"Invalid GIF 87a/89a header.";var width=buf[p++]|buf[p++]<<8,height=buf[p++]|buf[p++]<<8,pf0=buf[p++],global_palette_flag=pf0>>7,num_global_colors=1<<(7&pf0)+1;buf[p++];buf[p++];var global_palette_offset=null;global_palette_flag&&(global_palette_offset=p,p+=3*num_global_colors);var no_eof=!0,frames=[],delay=0,transparent_index=null,disposal=0,loop_count=null;for(this.width=width,this.height=height;no_eof&&p<buf.length;)switch(buf[p++]){case 33:switch(buf[p++]){case 255:if(11!==buf[p]||78==buf[p+1]&&69==buf[p+2]&&84==buf[p+3]&&83==buf[p+4]&&67==buf[p+5]&&65==buf[p+6]&&80==buf[p+7]&&69==buf[p+8]&&50==buf[p+9]&&46==buf[p+10]&&48==buf[p+11]&&3==buf[p+12]&&1==buf[p+13]&&0==buf[p+16])p+=14,loop_count=buf[p++]|buf[p++]<<8,p++;else for(p+=12;;){if(0===(block_size=buf[p++]))break;p+=block_size}break;case 249:if(4!==buf[p++]||0!==buf[p+4])throw"Invalid graphics extension block.";var pf1=buf[p++];delay=buf[p++]|buf[p++]<<8,transparent_index=buf[p++],0==(1&pf1)&&(transparent_index=null),disposal=pf1>>2&7,p++;break;case 254:for(;;){if(0===(block_size=buf[p++]))break;p+=block_size}break;default:throw"Unknown graphic control label: 0x"+buf[p-1].toString(16)}break;case 44:var x=buf[p++]|buf[p++]<<8,y=buf[p++]|buf[p++]<<8,w=buf[p++]|buf[p++]<<8,h=buf[p++]|buf[p++]<<8,pf2=buf[p++],interlace_flag=pf2>>6&1,palette_offset=global_palette_offset,has_local_palette=!1;if(pf2>>7){has_local_palette=!0;palette_offset=p,p+=3*(1<<(7&pf2)+1)}var data_offset=p;for(p++;;){var block_size;if(0===(block_size=buf[p++]))break;p+=block_size}frames.push({x:x,y:y,width:w,height:h,has_local_palette:has_local_palette,palette_offset:palette_offset,data_offset:data_offset,data_length:p-data_offset,transparent_index:transparent_index,interlaced:!!interlace_flag,delay:delay,disposal:disposal});break;case 59:no_eof=!1;break;default:throw"Unknown gif block: 0x"+buf[p-1].toString(16)}this.numFrames=function(){return frames.length},this.loopCount=function(){return loop_count},this.frameInfo=function(frame_num){if(frame_num<0||frame_num>=frames.length)throw"Frame index out of range.";return frames[frame_num]},this.decodeAndBlitFrameBGRA=function(frame_num,pixels){var frame=this.frameInfo(frame_num),num_pixels=frame.width*frame.height,index_stream=new Uint8Array(num_pixels);GifReaderLZWOutputIndexStream(buf,frame.data_offset,index_stream,num_pixels);var palette_offset=frame.palette_offset,trans=frame.transparent_index;null===trans&&(trans=256);var framewidth=frame.width,framestride=width-framewidth,xleft=framewidth,opbeg=4*(frame.y*width+frame.x),opend=4*((frame.y+frame.height)*width+frame.x),op=opbeg,scanstride=4*framestride;!0===frame.interlaced&&(scanstride+=4*(framewidth+framestride)*7);for(var interlaceskip=8,i=0,il=index_stream.length;i<il;++i){var index=index_stream[i];if(0===xleft&&(xleft=framewidth,(op+=scanstride)>=opend&&(scanstride=framestride+4*(framewidth+framestride)*(interlaceskip-1),op=opbeg+(framewidth+framestride)*(interlaceskip<<1),interlaceskip>>=1)),index===trans)op+=4;else{var r=buf[palette_offset+3*index],g=buf[palette_offset+3*index+1],b=buf[palette_offset+3*index+2];pixels[op++]=b,pixels[op++]=g,pixels[op++]=r,pixels[op++]=255}--xleft}},this.decodeAndBlitFrameRGBA=function(frame_num,pixels){var frame=this.frameInfo(frame_num),num_pixels=frame.width*frame.height,index_stream=new Uint8Array(num_pixels);GifReaderLZWOutputIndexStream(buf,frame.data_offset,index_stream,num_pixels);var palette_offset=frame.palette_offset,trans=frame.transparent_index;null===trans&&(trans=256);var framewidth=frame.width,framestride=width-framewidth,xleft=framewidth,opbeg=4*(frame.y*width+frame.x),opend=4*((frame.y+frame.height)*width+frame.x),op=opbeg,scanstride=4*framestride;!0===frame.interlaced&&(scanstride+=4*(framewidth+framestride)*7);for(var interlaceskip=8,i=0,il=index_stream.length;i<il;++i){var index=index_stream[i];if(0===xleft&&(xleft=framewidth,(op+=scanstride)>=opend&&(scanstride=framestride+4*(framewidth+framestride)*(interlaceskip-1),op=opbeg+(framewidth+framestride)*(interlaceskip<<1),interlaceskip>>=1)),index===trans)op+=4;else{var r=buf[palette_offset+3*index],g=buf[palette_offset+3*index+1],b=buf[palette_offset+3*index+2];pixels[op++]=r,pixels[op++]=g,pixels[op++]=b,pixels[op++]=255}--xleft}}}function GifReaderLZWOutputIndexStream(code_stream,p,output,output_length){for(var min_code_size=code_stream[p++],clear_code=1<<min_code_size,eoi_code=clear_code+1,next_code=eoi_code+1,cur_code_size=min_code_size+1,code_mask=(1<<cur_code_size)-1,cur_shift=0,cur=0,op=0,subblock_size=code_stream[p++],code_table=new Int32Array(4096),prev_code=null;;){for(;cur_shift<16&&0!==subblock_size;)cur|=code_stream[p++]<<cur_shift,cur_shift+=8,1===subblock_size?subblock_size=code_stream[p++]:--subblock_size;if(cur_shift<cur_code_size)break;var code=cur&code_mask;if(cur>>=cur_code_size,cur_shift-=cur_code_size,code!==clear_code){if(code===eoi_code)break;for(var chase_code=code<next_code?code:prev_code,chase_length=0,chase=chase_code;chase>clear_code;)chase=code_table[chase]>>8,++chase_length;var k=chase;if(op+chase_length+(chase_code!==code?1:0)>output_length)return void console.log("Warning, gif stream longer than expected.");output[op++]=k;var b=op+=chase_length;for(chase_code!==code&&(output[op++]=k),chase=chase_code;chase_length--;)chase=code_table[chase],output[--b]=255&chase,chase>>=8;null!==prev_code&&next_code<4096&&(code_table[next_code++]=prev_code<<8|k,next_code>=code_mask+1&&cur_code_size<12&&(++cur_code_size,code_mask=code_mask<<1|1)),prev_code=code}else next_code=eoi_code+1,code_mask=(1<<(cur_code_size=min_code_size+1))-1,prev_code=null}return op!==output_length&&console.log("Warning, gif stream shorter than expected."),output}"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",(function(){return saveAs})),function(jsPDF,callback){jsPDF.API.adler32cs=function(){var _hasArrayBuffer="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,_Buffer=null,_isBuffer=function(){if(!_hasArrayBuffer)return function(){return!1};try{var buffer={};"function"==typeof buffer.Buffer&&(_Buffer=buffer.Buffer)}catch(error){}return function(value){return value instanceof ArrayBuffer||null!==_Buffer&&value instanceof _Buffer}}(),_utf8ToBinary=null!==_Buffer?function(utf8String){return new _Buffer(utf8String,"utf8").toString("binary")}:function(utf8String){return unescape(encodeURIComponent(utf8String))},MOD=65521,_update=function(checksum,binaryString){for(var a=65535&checksum,b=checksum>>>16,i=0,length=binaryString.length;i<length;i++)b=(b+(a=(a+(255&binaryString.charCodeAt(i)))%MOD))%MOD;return(b<<16|a)>>>0},_updateUint8Array=function(checksum,uint8Array){for(var a=65535&checksum,b=checksum>>>16,i=0,length=uint8Array.length;i<length;i++)b=(b+(a=(a+uint8Array[i])%MOD))%MOD;return(b<<16|a)>>>0},exports={},Adler32=exports.Adler32=(ctor=function(checksum){if(!(this instanceof ctor))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(checksum=null==checksum?1:+checksum))throw new Error("First arguments needs to be a finite number.");this.checksum=checksum>>>0},proto=ctor.prototype={},proto.constructor=ctor,ctor.from=((from=function(binaryString){if(!(this instanceof ctor))throw new TypeError("Constructor cannot called be as a function.");if(null==binaryString)throw new Error("First argument needs to be a string.");this.checksum=_update(1,binaryString.toString())}).prototype=proto,from),ctor.fromUtf8=((fromUtf8=function(utf8String){if(!(this instanceof ctor))throw new TypeError("Constructor cannot called be as a function.");if(null==utf8String)throw new Error("First argument needs to be a string.");var binaryString=_utf8ToBinary(utf8String.toString());this.checksum=_update(1,binaryString)}).prototype=proto,fromUtf8),_hasArrayBuffer&&(ctor.fromBuffer=((fromBuffer=function(buffer){if(!(this instanceof ctor))throw new TypeError("Constructor cannot called be as a function.");if(!_isBuffer(buffer))throw new Error("First argument needs to be ArrayBuffer.");var array=new Uint8Array(buffer);return this.checksum=_updateUint8Array(1,array)}).prototype=proto,fromBuffer)),proto.update=function(binaryString){if(null==binaryString)throw new Error("First argument needs to be a string.");return binaryString=binaryString.toString(),this.checksum=_update(this.checksum,binaryString)},proto.updateUtf8=function(utf8String){if(null==utf8String)throw new Error("First argument needs to be a string.");var binaryString=_utf8ToBinary(utf8String.toString());return this.checksum=_update(this.checksum,binaryString)},_hasArrayBuffer&&(proto.updateBuffer=function(buffer){if(!_isBuffer(buffer))throw new Error("First argument needs to be ArrayBuffer.");var array=new Uint8Array(buffer);return this.checksum=_updateUint8Array(this.checksum,array)}),proto.clone=function(){return new Adler32(this.checksum)},ctor);var from,fromUtf8,fromBuffer,ctor,proto;exports.from=function(binaryString){if(null==binaryString)throw new Error("First argument needs to be a string.");return _update(1,binaryString.toString())},exports.fromUtf8=function(utf8String){if(null==utf8String)throw new Error("First argument needs to be a string.");var binaryString=_utf8ToBinary(utf8String.toString());return _update(1,binaryString)},_hasArrayBuffer&&(exports.fromBuffer=function(buffer){if(!_isBuffer(buffer))throw new Error("First argument need to be ArrayBuffer.");var array=new Uint8Array(buffer);return _updateUint8Array(1,array)});return exports}()}(jsPDF);try{exports.GifWriter=function(buf,width,height,gopts){var p=0,loop_count=void 0===(gopts=void 0===gopts?{}:gopts).loop?null:gopts.loop,global_palette=void 0===gopts.palette?null:gopts.palette;if(width<=0||height<=0||width>65535||height>65535)throw"Width/Height invalid.";function check_palette_and_num_colors(palette){var num_colors=palette.length;if(num_colors<2||num_colors>256||num_colors&num_colors-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return num_colors}buf[p++]=71,buf[p++]=73,buf[p++]=70,buf[p++]=56,buf[p++]=57,buf[p++]=97;var gp_num_colors_pow2=0,background=0;if(null!==global_palette){for(var gp_num_colors=check_palette_and_num_colors(global_palette);gp_num_colors>>=1;)++gp_num_colors_pow2;if(gp_num_colors=1<<gp_num_colors_pow2,--gp_num_colors_pow2,void 0!==gopts.background){if((background=gopts.background)>=gp_num_colors)throw"Background index out of range.";if(0===background)throw"Background index explicitly passed as 0."}}if(buf[p++]=255&width,buf[p++]=width>>8&255,buf[p++]=255&height,buf[p++]=height>>8&255,buf[p++]=(null!==global_palette?128:0)|gp_num_colors_pow2,buf[p++]=background,buf[p++]=0,null!==global_palette)for(var i=0,il=global_palette.length;i<il;++i){var rgb=global_palette[i];buf[p++]=rgb>>16&255,buf[p++]=rgb>>8&255,buf[p++]=255&rgb}if(null!==loop_count){if(loop_count<0||loop_count>65535)throw"Loop count invalid.";buf[p++]=33,buf[p++]=255,buf[p++]=11,buf[p++]=78,buf[p++]=69,buf[p++]=84,buf[p++]=83,buf[p++]=67,buf[p++]=65,buf[p++]=80,buf[p++]=69,buf[p++]=50,buf[p++]=46,buf[p++]=48,buf[p++]=3,buf[p++]=1,buf[p++]=255&loop_count,buf[p++]=loop_count>>8&255,buf[p++]=0}var ended=!1;this.addFrame=function(x,y,w,h,indexed_pixels,opts){if(!0===ended&&(--p,ended=!1),opts=void 0===opts?{}:opts,x<0||y<0||x>65535||y>65535)throw"x/y invalid.";if(w<=0||h<=0||w>65535||h>65535)throw"Width/Height invalid.";if(indexed_pixels.length<w*h)throw"Not enough pixels for the frame size.";var using_local_palette=!0,palette=opts.palette;if(null==palette&&(using_local_palette=!1,palette=global_palette),null==palette)throw"Must supply either a local or global palette.";for(var num_colors=check_palette_and_num_colors(palette),min_code_size=0;num_colors>>=1;)++min_code_size;num_colors=1<<min_code_size;var delay=void 0===opts.delay?0:opts.delay,disposal=void 0===opts.disposal?0:opts.disposal;if(disposal<0||disposal>3)throw"Disposal out of range.";var use_transparency=!1,transparent_index=0;if(void 0!==opts.transparent&&null!==opts.transparent&&(use_transparency=!0,(transparent_index=opts.transparent)<0||transparent_index>=num_colors))throw"Transparent color index.";if((0!==disposal||use_transparency||0!==delay)&&(buf[p++]=33,buf[p++]=249,buf[p++]=4,buf[p++]=disposal<<2|(!0===use_transparency?1:0),buf[p++]=255&delay,buf[p++]=delay>>8&255,buf[p++]=transparent_index,buf[p++]=0),buf[p++]=44,buf[p++]=255&x,buf[p++]=x>>8&255,buf[p++]=255&y,buf[p++]=y>>8&255,buf[p++]=255&w,buf[p++]=w>>8&255,buf[p++]=255&h,buf[p++]=h>>8&255,buf[p++]=!0===using_local_palette?128|min_code_size-1:0,!0===using_local_palette)for(var i=0,il=palette.length;i<il;++i){var rgb=palette[i];buf[p++]=rgb>>16&255,buf[p++]=rgb>>8&255,buf[p++]=255&rgb}p=function(buf,p,min_code_size,index_stream){buf[p++]=min_code_size;var cur_subblock=p++,clear_code=1<<min_code_size,code_mask=clear_code-1,eoi_code=clear_code+1,next_code=eoi_code+1,cur_code_size=min_code_size+1,cur_shift=0,cur=0;function emit_bytes_to_buffer(bit_block_size){for(;cur_shift>=bit_block_size;)buf[p++]=255&cur,cur>>=8,cur_shift-=8,p===cur_subblock+256&&(buf[cur_subblock]=255,cur_subblock=p++)}function emit_code(c){cur|=c<<cur_shift,cur_shift+=cur_code_size,emit_bytes_to_buffer(8)}var ib_code=index_stream[0]&code_mask,code_table={};emit_code(clear_code);for(var i=1,il=index_stream.length;i<il;++i){var k=index_stream[i]&code_mask,cur_key=ib_code<<8|k,cur_code=code_table[cur_key];if(void 0===cur_code){for(cur|=ib_code<<cur_shift,cur_shift+=cur_code_size;cur_shift>=8;)buf[p++]=255&cur,cur>>=8,cur_shift-=8,p===cur_subblock+256&&(buf[cur_subblock]=255,cur_subblock=p++);4096===next_code?(emit_code(clear_code),next_code=eoi_code+1,cur_code_size=min_code_size+1,code_table={}):(next_code>=1<<cur_code_size&&++cur_code_size,code_table[cur_key]=next_code++),ib_code=k}else ib_code=cur_code}return emit_code(ib_code),emit_code(eoi_code),emit_bytes_to_buffer(1),cur_subblock+1===p?buf[cur_subblock]=0:(buf[cur_subblock]=p-cur_subblock-1,buf[p++]=0),p}(buf,p,min_code_size<2?2:min_code_size,indexed_pixels)},this.end=function(){return!1===ended&&(buf[p++]=59,ended=!0),p}},exports.GifReader=GifReader}catch(e){}function JPEGEncoder(quality){var YDC_HT,UVDC_HT,YAC_HT,UVAC_HT,currentQuality,ffloor=Math.floor,YTable=new Array(64),UVTable=new Array(64),fdtbl_Y=new Array(64),fdtbl_UV=new Array(64),bitcode=new Array(65535),category=new Array(65535),outputfDCTQuant=new Array(64),DU=new Array(64),byteout=[],bytenew=0,bytepos=7,YDU=new Array(64),UDU=new Array(64),VDU=new Array(64),clt=new Array(256),RGB_YUV_TABLE=new Array(2048),ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],std_dc_luminance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],std_ac_luminance_values=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],std_dc_chrominance_values=[0,1,2,3,4,5,6,7,8,9,10,11],std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],std_ac_chrominance_values=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function computeHuffmanTbl(nrcodes,std_table){for(var codevalue=0,pos_in_table=0,HT=new Array,k=1;k<=16;k++){for(var j=1;j<=nrcodes[k];j++)HT[std_table[pos_in_table]]=[],HT[std_table[pos_in_table]][0]=codevalue,HT[std_table[pos_in_table]][1]=k,pos_in_table++,codevalue++;codevalue*=2}return HT}function writeBits(bs){for(var value=bs[0],posval=bs[1]-1;posval>=0;)value&1<<posval&&(bytenew|=1<<bytepos),posval--,--bytepos<0&&(255==bytenew?(writeByte(255),writeByte(0)):writeByte(bytenew),bytepos=7,bytenew=0)}function writeByte(value){byteout.push(value)}function writeWord(value){writeByte(value>>8&255),writeByte(255&value)}function processDU(CDU,fdtbl,DC,HTDC,HTAC){for(var pos,EOB=HTAC[0],M16zeroes=HTAC[240],DU_DCT=function(data,fdtbl){var d0,d1,d2,d3,d4,d5,d6,d7,i,fDCTQuant,dataOff=0;for(i=0;i<8;++i){d0=data[dataOff],d1=data[dataOff+1],d2=data[dataOff+2],d3=data[dataOff+3],d4=data[dataOff+4],d5=data[dataOff+5],d6=data[dataOff+6];var tmp0=d0+(d7=data[dataOff+7]),tmp7=d0-d7,tmp1=d1+d6,tmp6=d1-d6,tmp2=d2+d5,tmp5=d2-d5,tmp3=d3+d4,tmp4=d3-d4,tmp10=tmp0+tmp3,tmp13=tmp0-tmp3,tmp11=tmp1+tmp2,tmp12=tmp1-tmp2;data[dataOff]=tmp10+tmp11,data[dataOff+4]=tmp10-tmp11;var z1=.707106781*(tmp12+tmp13);data[dataOff+2]=tmp13+z1,data[dataOff+6]=tmp13-z1;var z5=.382683433*((tmp10=tmp4+tmp5)-(tmp12=tmp6+tmp7)),z2=.5411961*tmp10+z5,z4=1.306562965*tmp12+z5,z3=.707106781*(tmp11=tmp5+tmp6),z11=tmp7+z3,z13=tmp7-z3;data[dataOff+5]=z13+z2,data[dataOff+3]=z13-z2,data[dataOff+1]=z11+z4,data[dataOff+7]=z11-z4,dataOff+=8}for(dataOff=0,i=0;i<8;++i){d0=data[dataOff],d1=data[dataOff+8],d2=data[dataOff+16],d3=data[dataOff+24],d4=data[dataOff+32],d5=data[dataOff+40],d6=data[dataOff+48];var tmp0p2=d0+(d7=data[dataOff+56]),tmp7p2=d0-d7,tmp1p2=d1+d6,tmp6p2=d1-d6,tmp2p2=d2+d5,tmp5p2=d2-d5,tmp3p2=d3+d4,tmp4p2=d3-d4,tmp10p2=tmp0p2+tmp3p2,tmp13p2=tmp0p2-tmp3p2,tmp11p2=tmp1p2+tmp2p2,tmp12p2=tmp1p2-tmp2p2;data[dataOff]=tmp10p2+tmp11p2,data[dataOff+32]=tmp10p2-tmp11p2;var z1p2=.707106781*(tmp12p2+tmp13p2);data[dataOff+16]=tmp13p2+z1p2,data[dataOff+48]=tmp13p2-z1p2;var z5p2=.382683433*((tmp10p2=tmp4p2+tmp5p2)-(tmp12p2=tmp6p2+tmp7p2)),z2p2=.5411961*tmp10p2+z5p2,z4p2=1.306562965*tmp12p2+z5p2,z3p2=.707106781*(tmp11p2=tmp5p2+tmp6p2),z11p2=tmp7p2+z3p2,z13p2=tmp7p2-z3p2;data[dataOff+40]=z13p2+z2p2,data[dataOff+24]=z13p2-z2p2,data[dataOff+8]=z11p2+z4p2,data[dataOff+56]=z11p2-z4p2,dataOff++}for(i=0;i<64;++i)fDCTQuant=data[i]*fdtbl[i],outputfDCTQuant[i]=fDCTQuant>0?fDCTQuant+.5|0:fDCTQuant-.5|0;return outputfDCTQuant}(CDU,fdtbl),j=0;j<64;++j)DU[ZigZag[j]]=DU_DCT[j];var Diff=DU[0]-DC;DC=DU[0],0==Diff?writeBits(HTDC[0]):(writeBits(HTDC[category[pos=32767+Diff]]),writeBits(bitcode[pos]));for(var end0pos=63;end0pos>0&&0==DU[end0pos];end0pos--);if(0==end0pos)return writeBits(EOB),DC;for(var lng,i=1;i<=end0pos;){for(var startpos=i;0==DU[i]&&i<=end0pos;++i);var nrzeroes=i-startpos;if(nrzeroes>=16){lng=nrzeroes>>4;for(var nrmarker=1;nrmarker<=lng;++nrmarker)writeBits(M16zeroes);nrzeroes&=15}pos=32767+DU[i],writeBits(HTAC[(nrzeroes<<4)+category[pos]]),writeBits(bitcode[pos]),i++}return 63!=end0pos&&writeBits(EOB),DC}function setQuality(quality){if(quality<=0&&(quality=1),quality>100&&(quality=100),currentQuality!=quality){(function(sf){for(var YQT=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var t=ffloor((YQT[i]*sf+50)/100);t<1?t=1:t>255&&(t=255),YTable[ZigZag[i]]=t}for(var UVQT=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],j=0;j<64;j++){var u=ffloor((UVQT[j]*sf+50)/100);u<1?u=1:u>255&&(u=255),UVTable[ZigZag[j]]=u}for(var aasf=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],k=0,row=0;row<8;row++)for(var col=0;col<8;col++)fdtbl_Y[k]=1/(YTable[ZigZag[k]]*aasf[row]*aasf[col]*8),fdtbl_UV[k]=1/(UVTable[ZigZag[k]]*aasf[row]*aasf[col]*8),k++})(quality<50?Math.floor(5e3/quality):Math.floor(200-2*quality)),currentQuality=quality}}this.encode=function(image,quality){(new Date).getTime();quality&&setQuality(quality),byteout=new Array,bytenew=0,bytepos=7,writeWord(65496),writeWord(65504),writeWord(16),writeByte(74),writeByte(70),writeByte(73),writeByte(70),writeByte(0),writeByte(1),writeByte(1),writeByte(0),writeWord(1),writeWord(1),writeByte(0),writeByte(0),function(){writeWord(65499),writeWord(132),writeByte(0);for(var i=0;i<64;i++)writeByte(YTable[i]);writeByte(1);for(var j=0;j<64;j++)writeByte(UVTable[j])}(),function(width,height){writeWord(65472),writeWord(17),writeByte(8),writeWord(height),writeWord(width),writeByte(3),writeByte(1),writeByte(17),writeByte(0),writeByte(2),writeByte(17),writeByte(1),writeByte(3),writeByte(17),writeByte(1)}(image.width,image.height),function(){writeWord(65476),writeWord(418),writeByte(0);for(var i=0;i<16;i++)writeByte(std_dc_luminance_nrcodes[i+1]);for(var j=0;j<=11;j++)writeByte(std_dc_luminance_values[j]);writeByte(16);for(var k=0;k<16;k++)writeByte(std_ac_luminance_nrcodes[k+1]);for(var l=0;l<=161;l++)writeByte(std_ac_luminance_values[l]);writeByte(1);for(var m=0;m<16;m++)writeByte(std_dc_chrominance_nrcodes[m+1]);for(var n=0;n<=11;n++)writeByte(std_dc_chrominance_values[n]);writeByte(17);for(var o=0;o<16;o++)writeByte(std_ac_chrominance_nrcodes[o+1]);for(var p=0;p<=161;p++)writeByte(std_ac_chrominance_values[p])}(),writeWord(65498),writeWord(12),writeByte(3),writeByte(1),writeByte(0),writeByte(2),writeByte(17),writeByte(3),writeByte(17),writeByte(0),writeByte(63),writeByte(0);var DCY=0,DCU=0,DCV=0;bytenew=0,bytepos=7,this.encode.displayName="_encode_";for(var x,r,g,b,start,p,col,row,pos,imageData=image.data,width=image.width,height=image.height,quadWidth=4*width,y=0;y<height;){for(x=0;x<quadWidth;){for(p=start=quadWidth*y+x,col=-1,row=0,pos=0;pos<64;pos++)p=start+(row=pos>>3)*quadWidth+(col=4*(7&pos)),y+row>=height&&(p-=quadWidth*(y+1+row-height)),x+col>=quadWidth&&(p-=x+col-quadWidth+4),r=imageData[p++],g=imageData[p++],b=imageData[p++],YDU[pos]=(RGB_YUV_TABLE[r]+RGB_YUV_TABLE[g+256>>0]+RGB_YUV_TABLE[b+512>>0]>>16)-128,UDU[pos]=(RGB_YUV_TABLE[r+768>>0]+RGB_YUV_TABLE[g+1024>>0]+RGB_YUV_TABLE[b+1280>>0]>>16)-128,VDU[pos]=(RGB_YUV_TABLE[r+1280>>0]+RGB_YUV_TABLE[g+1536>>0]+RGB_YUV_TABLE[b+1792>>0]>>16)-128;DCY=processDU(YDU,fdtbl_Y,DCY,YDC_HT,YAC_HT),DCU=processDU(UDU,fdtbl_UV,DCU,UVDC_HT,UVAC_HT),DCV=processDU(VDU,fdtbl_UV,DCV,UVDC_HT,UVAC_HT),x+=32}y+=8}if(bytepos>=0){var fillbits=[];fillbits[1]=bytepos+1,fillbits[0]=(1<<bytepos+1)-1,writeBits(fillbits)}return writeWord(65497),new Uint8Array(byteout)},function(){(new Date).getTime();quality||(quality=50),function(){for(var sfcc=String.fromCharCode,i=0;i<256;i++)clt[i]=sfcc(i)}(),YDC_HT=computeHuffmanTbl(std_dc_luminance_nrcodes,std_dc_luminance_values),UVDC_HT=computeHuffmanTbl(std_dc_chrominance_nrcodes,std_dc_chrominance_values),YAC_HT=computeHuffmanTbl(std_ac_luminance_nrcodes,std_ac_luminance_values),UVAC_HT=computeHuffmanTbl(std_ac_chrominance_nrcodes,std_ac_chrominance_values),function(){for(var nrlower=1,nrupper=2,cat=1;cat<=15;cat++){for(var nr=nrlower;nr<nrupper;nr++)category[32767+nr]=cat,bitcode[32767+nr]=[],bitcode[32767+nr][1]=cat,bitcode[32767+nr][0]=nr;for(var nrneg=-(nrupper-1);nrneg<=-nrlower;nrneg++)category[32767+nrneg]=cat,bitcode[32767+nrneg]=[],bitcode[32767+nrneg][1]=cat,bitcode[32767+nrneg][0]=nrupper-1+nrneg;nrlower<<=1,nrupper<<=1}}(),function(){for(var i=0;i<256;i++)RGB_YUV_TABLE[i]=19595*i,RGB_YUV_TABLE[i+256>>0]=38470*i,RGB_YUV_TABLE[i+512>>0]=7471*i+32768,RGB_YUV_TABLE[i+768>>0]=-11059*i,RGB_YUV_TABLE[i+1024>>0]=-21709*i,RGB_YUV_TABLE[i+1280>>0]=32768*i+8421375,RGB_YUV_TABLE[i+1536>>0]=-27439*i,RGB_YUV_TABLE[i+1792>>0]=-5329*i}(),setQuality(quality),(new Date).getTime()}()}try{module.exports=JPEGEncoder}catch(e){}function BmpDecoder(buffer,is_with_alpha){if(this.pos=0,this.buffer=buffer,this.datav=new DataView(buffer.buffer),this.is_with_alpha=!!is_with_alpha,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}BmpDecoder.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var len=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(len);for(var i=0;i<len;i++){var blue=this.datav.getUint8(this.pos++,!0),green=this.datav.getUint8(this.pos++,!0),red=this.datav.getUint8(this.pos++,!0),quad=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:red,green:green,blue:blue,quad:quad}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},BmpDecoder.prototype.parseBGR=function(){this.pos=this.offset;try{var bitn="bit"+this.bitPP,len=this.width*this.height*4;this.data=new Uint8Array(len),this[bitn]()}catch(e){console.log("bit decode error:"+e)}},BmpDecoder.prototype.bit1=function(){var xlen=Math.ceil(this.width/8),mode=xlen%4,y=this.height>=0?this.height-1:-this.height;for(y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<xlen;x++)for(var b=this.datav.getUint8(this.pos++,!0),location=line*this.width*4+8*x*4,i=0;i<8&&8*x+i<this.width;i++){var rgb=this.palette[b>>7-i&1];this.data[location+4*i]=rgb.blue,this.data[location+4*i+1]=rgb.green,this.data[location+4*i+2]=rgb.red,this.data[location+4*i+3]=255}0!=mode&&(this.pos+=4-mode)}},BmpDecoder.prototype.bit4=function(){for(var xlen=Math.ceil(this.width/2),mode=xlen%4,y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<xlen;x++){var b=this.datav.getUint8(this.pos++,!0),location=line*this.width*4+2*x*4,before=b>>4,after=15&b,rgb=this.palette[before];if(this.data[location]=rgb.blue,this.data[location+1]=rgb.green,this.data[location+2]=rgb.red,this.data[location+3]=255,2*x+1>=this.width)break;rgb=this.palette[after],this.data[location+4]=rgb.blue,this.data[location+4+1]=rgb.green,this.data[location+4+2]=rgb.red,this.data[location+4+3]=255}0!=mode&&(this.pos+=4-mode)}},BmpDecoder.prototype.bit8=function(){for(var mode=this.width%4,y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var b=this.datav.getUint8(this.pos++,!0),location=line*this.width*4+4*x;if(b<this.palette.length){var rgb=this.palette[b];this.data[location]=rgb.red,this.data[location+1]=rgb.green,this.data[location+2]=rgb.blue,this.data[location+3]=255}else this.data[location]=255,this.data[location+1]=255,this.data[location+2]=255,this.data[location+3]=255}0!=mode&&(this.pos+=4-mode)}},BmpDecoder.prototype.bit15=function(){for(var dif_w=this.width%3,_1_5=parseInt("11111",2),y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var B=this.datav.getUint16(this.pos,!0);this.pos+=2;var blue=(B&_1_5)/_1_5*255|0,green=(B>>5&_1_5)/_1_5*255|0,red=(B>>10&_1_5)/_1_5*255|0,alpha=B>>15?255:0,location=line*this.width*4+4*x;this.data[location]=red,this.data[location+1]=green,this.data[location+2]=blue,this.data[location+3]=alpha}this.pos+=dif_w}},BmpDecoder.prototype.bit16=function(){for(var dif_w=this.width%3,_1_5=parseInt("11111",2),_1_6=parseInt("111111",2),y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var B=this.datav.getUint16(this.pos,!0);this.pos+=2;var blue=(B&_1_5)/_1_5*255|0,green=(B>>5&_1_6)/_1_6*255|0,red=(B>>11)/_1_5*255|0,location=line*this.width*4+4*x;this.data[location]=red,this.data[location+1]=green,this.data[location+2]=blue,this.data[location+3]=255}this.pos+=dif_w}},BmpDecoder.prototype.bit24=function(){for(var y=this.height-1;y>=0;y--){for(var line=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var blue=this.datav.getUint8(this.pos++,!0),green=this.datav.getUint8(this.pos++,!0),red=this.datav.getUint8(this.pos++,!0),location=line*this.width*4+4*x;this.data[location]=red,this.data[location+1]=green,this.data[location+2]=blue,this.data[location+3]=255}this.pos+=this.width%4}},BmpDecoder.prototype.bit32=function(){for(var y=this.height-1;y>=0;y--)for(var line=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var blue=this.datav.getUint8(this.pos++,!0),green=this.datav.getUint8(this.pos++,!0),red=this.datav.getUint8(this.pos++,!0),alpha=this.datav.getUint8(this.pos++,!0),location=line*this.width*4+4*x;this.data[location]=red,this.data[location+1]=green,this.data[location+2]=blue,this.data[location+3]=alpha}},BmpDecoder.prototype.getData=function(){return this.data};try{module.exports=function(bmpData){var decoder=new BmpDecoder(bmpData);return{data:decoder.getData(),width:decoder.width,height:decoder.height}}}catch(e){}!function(global){var _dist_code=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function Tree(){var that=this;function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}that.build_tree=function(s){var n,m,node,tree=that.dyn_tree,stree=that.stat_desc.static_tree,elems=that.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=573,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,stree&&(s.static_len-=stree[2*node+1]);for(that.max_code=max_code,n=Math.floor(s.heap_len/2);n>=1;n--)s.pqdownheap(tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],s.pqdownheap(tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=Math.max(s.depth[n],s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,s.pqdownheap(tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s){var h,n,m,bits,xbits,f,tree=that.dyn_tree,stree=that.stat_desc.static_tree,extra=that.stat_desc.extra_bits,base=that.stat_desc.extra_base,max_length=that.stat_desc.max_length,overflow=0;for(bits=0;bits<=15;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<573;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>that.max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>that.max_code||(tree[2*m+1]!=bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s),function(tree,max_code,bl_count){var bits,n,len,next_code=[],code=0;for(bits=1;bits<=15;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++)0!==(len=tree[2*n+1])&&(tree[2*n]=bi_reverse(next_code[len]++,len))}(tree,that.max_code,s.bl_count)}}function StaticTree(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length}Tree._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],Tree.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Tree.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Tree.d_code=function(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]},Tree.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Tree.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Tree.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Tree.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],StaticTree.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],StaticTree.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],StaticTree.static_l_desc=new StaticTree(StaticTree.static_ltree,Tree.extra_lbits,257,286,15),StaticTree.static_d_desc=new StaticTree(StaticTree.static_dtree,Tree.extra_dbits,0,30,15),StaticTree.static_bl_desc=new StaticTree(null,Tree.extra_blbits,0,19,7);function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}var config_table=[new Config(0,0,0,0,0),new Config(4,4,8,4,1),new Config(4,5,16,8,1),new Config(4,6,32,32,1),new Config(4,4,16,16,2),new Config(8,16,32,32,2),new Config(8,16,128,128,2),new Config(8,32,128,256,2),new Config(32,128,258,1024,2),new Config(32,258,258,4096,2)],z_errmsg=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function smaller(tree,n,m,depth){var tn2=tree[2*n],tm2=tree[2*m];return tn2<tm2||tn2==tm2&&depth[n]<=depth[m]}function Deflate(){var strm,status,pending_buf_size,last_flush,w_size,w_bits,w_mask,window,window_size,prev,head,ins_h,hash_size,hash_bits,hash_mask,hash_shift,block_start,match_length,prev_match,match_available,strstart,match_start,lookahead,prev_length,max_chain_length,max_lazy_match,level,strategy,good_match,nice_match,dyn_ltree,dyn_dtree,bl_tree,l_buf,lit_bufsize,last_lit,d_buf,matches,last_eob_len,bi_buf,bi_valid,that=this,l_desc=new Tree,d_desc=new Tree,bl_desc=new Tree;function init_block(){var i;for(i=0;i<286;i++)dyn_ltree[2*i]=0;for(i=0;i<30;i++)dyn_dtree[2*i]=0;for(i=0;i<19;i++)bl_tree[2*i]=0;dyn_ltree[512]=1,that.opt_len=that.static_len=0,last_lit=matches=0}function scan_tree(tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen==nextlen||(count<min_count?bl_tree[2*curlen]+=count:0!==curlen?(curlen!=prevlen&&bl_tree[2*curlen]++,bl_tree[32]++):count<=10?bl_tree[34]++:bl_tree[36]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen==nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function put_byte(p){that.pending_buf[that.pending++]=p}function put_short(w){put_byte(255&w),put_byte(w>>>8&255)}function send_bits(value,length){var val,len=length;bi_valid>16-len?(put_short(bi_buf|=(val=value)<<bi_valid&65535),bi_buf=val>>>16-bi_valid,bi_valid+=len-16):(bi_buf|=value<<bi_valid&65535,bi_valid+=len)}function send_code(c,tree){var c2=2*c;send_bits(65535&tree[c2],65535&tree[c2+1])}function send_tree(tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen==nextlen)){if(count<min_count)do{send_code(curlen,bl_tree)}while(0!=--count);else 0!==curlen?(curlen!=prevlen&&(send_code(curlen,bl_tree),count--),send_code(16,bl_tree),send_bits(count-3,2)):count<=10?(send_code(17,bl_tree),send_bits(count-3,3)):(send_code(18,bl_tree),send_bits(count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen==nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function bi_flush(){16==bi_valid?(put_short(bi_buf),bi_buf=0,bi_valid=0):bi_valid>=8&&(put_byte(255&bi_buf),bi_buf>>>=8,bi_valid-=8)}function _tr_tally(dist,lc){var out_length,in_length,dcode;if(that.pending_buf[d_buf+2*last_lit]=dist>>>8&255,that.pending_buf[d_buf+2*last_lit+1]=255&dist,that.pending_buf[l_buf+last_lit]=255&lc,last_lit++,0===dist?dyn_ltree[2*lc]++:(matches++,dist--,dyn_ltree[2*(Tree._length_code[lc]+256+1)]++,dyn_dtree[2*Tree.d_code(dist)]++),0==(8191&last_lit)&&level>2){for(out_length=8*last_lit,in_length=strstart-block_start,dcode=0;dcode<30;dcode++)out_length+=dyn_dtree[2*dcode]*(5+Tree.extra_dbits[dcode]);if(out_length>>>=3,matches<Math.floor(last_lit/2)&&out_length<Math.floor(in_length/2))return!0}return last_lit==lit_bufsize-1}function compress_block(ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==last_lit)do{dist=that.pending_buf[d_buf+2*lx]<<8&65280|255&that.pending_buf[d_buf+2*lx+1],lc=255&that.pending_buf[l_buf+lx],lx++,0===dist?send_code(lc,ltree):(send_code((code=Tree._length_code[lc])+256+1,ltree),0!==(extra=Tree.extra_lbits[code])&&send_bits(lc-=Tree.base_length[code],extra),dist--,send_code(code=Tree.d_code(dist),dtree),0!==(extra=Tree.extra_dbits[code])&&send_bits(dist-=Tree.base_dist[code],extra))}while(lx<last_lit);send_code(256,ltree),last_eob_len=ltree[513]}function bi_windup(){bi_valid>8?put_short(bi_buf):bi_valid>0&&put_byte(255&bi_buf),bi_buf=0,bi_valid=0}function _tr_stored_block(buf,stored_len,eof){send_bits(0+(eof?1:0),3),function(buf,len,header){bi_windup(),last_eob_len=8,header&&(put_short(len),put_short(~len)),that.pending_buf.set(window.subarray(buf,buf+len),that.pending),that.pending+=len}(buf,stored_len,!0)}function _tr_flush_block(buf,stored_len,eof){var opt_lenb,static_lenb,max_blindex=0;level>0?(l_desc.build_tree(that),d_desc.build_tree(that),max_blindex=function(){var max_blindex;for(scan_tree(dyn_ltree,l_desc.max_code),scan_tree(dyn_dtree,d_desc.max_code),bl_desc.build_tree(that),max_blindex=18;max_blindex>=3&&0===bl_tree[2*Tree.bl_order[max_blindex]+1];max_blindex--);return that.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(),opt_lenb=that.opt_len+3+7>>>3,(static_lenb=that.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!=buf?_tr_stored_block(buf,stored_len,eof):static_lenb==opt_lenb?(send_bits(2+(eof?1:0),3),compress_block(StaticTree.static_ltree,StaticTree.static_dtree)):(send_bits(4+(eof?1:0),3),function(lcodes,dcodes,blcodes){var rank;for(send_bits(lcodes-257,5),send_bits(dcodes-1,5),send_bits(blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(bl_tree[2*Tree.bl_order[rank]+1],3);send_tree(dyn_ltree,lcodes-1),send_tree(dyn_dtree,dcodes-1)}(l_desc.max_code+1,d_desc.max_code+1,max_blindex+1),compress_block(dyn_ltree,dyn_dtree)),init_block(),eof&&bi_windup()}function flush_block_only(eof){_tr_flush_block(block_start>=0?block_start:-1,strstart-block_start,eof),block_start=strstart,strm.flush_pending()}function fill_window(){var n,m,p,more;do{if(0===(more=window_size-lookahead-strstart)&&0===strstart&&0===lookahead)more=w_size;else if(-1==more)more--;else if(strstart>=w_size+w_size-262){window.set(window.subarray(w_size,w_size+w_size),0),match_start-=w_size,strstart-=w_size,block_start-=w_size,p=n=hash_size;do{m=65535&head[--p],head[p]=m>=w_size?m-w_size:0}while(0!=--n);p=n=w_size;do{m=65535&prev[--p],prev[p]=m>=w_size?m-w_size:0}while(0!=--n);more+=w_size}if(0===strm.avail_in)return;n=strm.read_buf(window,strstart+lookahead,more),(lookahead+=n)>=3&&(ins_h=((ins_h=255&window[strstart])<<hash_shift^255&window[strstart+1])&hash_mask)}while(lookahead<262&&0!==strm.avail_in)}function longest_match(cur_match){var match,len,chain_length=max_chain_length,scan=strstart,best_len=prev_length,limit=strstart>w_size-262?strstart-(w_size-262):0,_nice_match=nice_match,wmask=w_mask,strend=strstart+258,scan_end1=window[scan+best_len-1],scan_end=window[scan+best_len];prev_length>=good_match&&(chain_length>>=2),_nice_match>lookahead&&(_nice_match=lookahead);do{if(window[(match=cur_match)+best_len]==scan_end&&window[match+best_len-1]==scan_end1&&window[match]==window[scan]&&window[++match]==window[scan+1]){scan+=2,match++;do{}while(window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&window[++scan]==window[++match]&&scan<strend);if(len=258-(strend-scan),scan=strend-258,len>best_len){if(match_start=cur_match,best_len=len,len>=_nice_match)break;scan_end1=window[scan+best_len-1],scan_end=window[scan+best_len]}}}while((cur_match=65535&prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=lookahead?best_len:lookahead}function deflateReset(strm){return strm.total_in=strm.total_out=0,strm.msg=null,that.pending=0,that.pending_out=0,status=113,last_flush=0,l_desc.dyn_tree=dyn_ltree,l_desc.stat_desc=StaticTree.static_l_desc,d_desc.dyn_tree=dyn_dtree,d_desc.stat_desc=StaticTree.static_d_desc,bl_desc.dyn_tree=bl_tree,bl_desc.stat_desc=StaticTree.static_bl_desc,bi_buf=0,bi_valid=0,last_eob_len=8,init_block(),function(){var i;for(window_size=2*w_size,head[hash_size-1]=0,i=0;i<hash_size-1;i++)head[i]=0;max_lazy_match=config_table[level].max_lazy,good_match=config_table[level].good_length,nice_match=config_table[level].nice_length,max_chain_length=config_table[level].max_chain,strstart=0,block_start=0,lookahead=0,match_length=prev_length=2,match_available=0,ins_h=0}(),0}that.depth=[],that.bl_count=[],that.heap=[],dyn_ltree=[],dyn_dtree=[],bl_tree=[],that.pqdownheap=function(tree,k){for(var heap=that.heap,v=heap[k],j=k<<1;j<=that.heap_len&&(j<that.heap_len&&smaller(tree,heap[j+1],heap[j],that.depth)&&j++,!smaller(tree,v,heap[j],that.depth));)heap[k]=heap[j],k=j,j<<=1;heap[k]=v},that.deflateInit=function(strm,_level,bits,_method,memLevel,_strategy){return _method||(_method=8),memLevel||(memLevel=8),_strategy||(_strategy=0),strm.msg=null,-1==_level&&(_level=6),memLevel<1||memLevel>9||8!=_method||bits<9||bits>15||_level<0||_level>9||_strategy<0||_strategy>2?-2:(strm.dstate=that,w_mask=(w_size=1<<(w_bits=bits))-1,hash_mask=(hash_size=1<<(hash_bits=memLevel+7))-1,hash_shift=Math.floor((hash_bits+3-1)/3),window=new Uint8Array(2*w_size),prev=[],head=[],lit_bufsize=1<<memLevel+6,that.pending_buf=new Uint8Array(4*lit_bufsize),pending_buf_size=4*lit_bufsize,d_buf=Math.floor(lit_bufsize/2),l_buf=3*lit_bufsize,level=_level,strategy=_strategy,deflateReset(strm))},that.deflateEnd=function(){return 42!=status&&113!=status&&666!=status?-2:(that.pending_buf=null,head=null,prev=null,window=null,that.dstate=null,113==status?-3:0)},that.deflateParams=function(strm,_level,_strategy){var err=0;return-1==_level&&(_level=6),_level<0||_level>9||_strategy<0||_strategy>2?-2:(config_table[level].func!=config_table[_level].func&&0!==strm.total_in&&(err=strm.deflate(1)),level!=_level&&(max_lazy_match=config_table[level=_level].max_lazy,good_match=config_table[level].good_length,nice_match=config_table[level].nice_length,max_chain_length=config_table[level].max_chain),strategy=_strategy,err)},that.deflateSetDictionary=function(strm,dictionary,dictLength){var n,length=dictLength,index=0;if(!dictionary||42!=status)return-2;if(length<3)return 0;for(length>w_size-262&&(index=dictLength-(length=w_size-262)),window.set(dictionary.subarray(index,index+length),0),strstart=length,block_start=length,ins_h=((ins_h=255&window[0])<<hash_shift^255&window[1])&hash_mask,n=0;n<=length-3;n++)ins_h=(ins_h<<hash_shift^255&window[n+2])&hash_mask,prev[n&w_mask]=head[ins_h],head[ins_h]=n;return 0},that.deflate=function(_strm,flush){var i,header,level_flags,old_flush,bstate,b;if(flush>4||flush<0)return-2;if(!_strm.next_out||!_strm.next_in&&0!==_strm.avail_in||666==status&&4!=flush)return _strm.msg=z_errmsg[4],-2;if(0===_strm.avail_out)return _strm.msg=z_errmsg[7],-5;if(strm=_strm,old_flush=last_flush,last_flush=flush,42==status&&(header=8+(w_bits-8<<4)<<8,(level_flags=(level-1&255)>>1)>3&&(level_flags=3),header|=level_flags<<6,0!==strstart&&(header|=32),status=113,put_byte((b=header+=31-header%31)>>8&255),put_byte(255&b)),0!==that.pending){if(strm.flush_pending(),0===strm.avail_out)return last_flush=-1,0}else if(0===strm.avail_in&&flush<=old_flush&&4!=flush)return strm.msg=z_errmsg[7],-5;if(666==status&&0!==strm.avail_in)return _strm.msg=z_errmsg[7],-5;if(0!==strm.avail_in||0!==lookahead||0!=flush&&666!=status){switch(bstate=-1,config_table[level].func){case 0:bstate=function(flush){var max_start,max_block_size=65535;for(max_block_size>pending_buf_size-5&&(max_block_size=pending_buf_size-5);;){if(lookahead<=1){if(fill_window(),0===lookahead&&0==flush)return 0;if(0===lookahead)break}if(strstart+=lookahead,lookahead=0,max_start=block_start+max_block_size,(0===strstart||strstart>=max_start)&&(lookahead=strstart-max_start,strstart=max_start,flush_block_only(!1),0===strm.avail_out))return 0;if(strstart-block_start>=w_size-262&&(flush_block_only(!1),0===strm.avail_out))return 0}return flush_block_only(4==flush),0===strm.avail_out?4==flush?2:0:4==flush?3:1}(flush);break;case 1:bstate=function(flush){for(var bflush,hash_head=0;;){if(lookahead<262){if(fill_window(),lookahead<262&&0==flush)return 0;if(0===lookahead)break}if(lookahead>=3&&(ins_h=(ins_h<<hash_shift^255&window[strstart+2])&hash_mask,hash_head=65535&head[ins_h],prev[strstart&w_mask]=head[ins_h],head[ins_h]=strstart),0!==hash_head&&(strstart-hash_head&65535)<=w_size-262&&2!=strategy&&(match_length=longest_match(hash_head)),match_length>=3)if(bflush=_tr_tally(strstart-match_start,match_length-3),lookahead-=match_length,match_length<=max_lazy_match&&lookahead>=3){match_length--;do{strstart++,ins_h=(ins_h<<hash_shift^255&window[strstart+2])&hash_mask,hash_head=65535&head[ins_h],prev[strstart&w_mask]=head[ins_h],head[ins_h]=strstart}while(0!=--match_length);strstart++}else strstart+=match_length,match_length=0,ins_h=((ins_h=255&window[strstart])<<hash_shift^255&window[strstart+1])&hash_mask;else bflush=_tr_tally(0,255&window[strstart]),lookahead--,strstart++;if(bflush&&(flush_block_only(!1),0===strm.avail_out))return 0}return flush_block_only(4==flush),0===strm.avail_out?4==flush?2:0:4==flush?3:1}(flush);break;case 2:bstate=function(flush){for(var bflush,max_insert,hash_head=0;;){if(lookahead<262){if(fill_window(),lookahead<262&&0==flush)return 0;if(0===lookahead)break}if(lookahead>=3&&(ins_h=(ins_h<<hash_shift^255&window[strstart+2])&hash_mask,hash_head=65535&head[ins_h],prev[strstart&w_mask]=head[ins_h],head[ins_h]=strstart),prev_length=match_length,prev_match=match_start,match_length=2,0!==hash_head&&prev_length<max_lazy_match&&(strstart-hash_head&65535)<=w_size-262&&(2!=strategy&&(match_length=longest_match(hash_head)),match_length<=5&&(1==strategy||3==match_length&&strstart-match_start>4096)&&(match_length=2)),prev_length>=3&&match_length<=prev_length){max_insert=strstart+lookahead-3,bflush=_tr_tally(strstart-1-prev_match,prev_length-3),lookahead-=prev_length-1,prev_length-=2;do{++strstart<=max_insert&&(ins_h=(ins_h<<hash_shift^255&window[strstart+2])&hash_mask,hash_head=65535&head[ins_h],prev[strstart&w_mask]=head[ins_h],head[ins_h]=strstart)}while(0!=--prev_length);if(match_available=0,match_length=2,strstart++,bflush&&(flush_block_only(!1),0===strm.avail_out))return 0}else if(0!==match_available){if((bflush=_tr_tally(0,255&window[strstart-1]))&&flush_block_only(!1),strstart++,lookahead--,0===strm.avail_out)return 0}else match_available=1,strstart++,lookahead--}return 0!==match_available&&(bflush=_tr_tally(0,255&window[strstart-1]),match_available=0),flush_block_only(4==flush),0===strm.avail_out?4==flush?2:0:4==flush?3:1}(flush)}if(2!=bstate&&3!=bstate||(status=666),0==bstate||2==bstate)return 0===strm.avail_out&&(last_flush=-1),0;if(1==bstate){if(1==flush)send_bits(2,3),send_code(256,StaticTree.static_ltree),bi_flush(),1+last_eob_len+10-bi_valid<9&&(send_bits(2,3),send_code(256,StaticTree.static_ltree),bi_flush()),last_eob_len=7;else if(_tr_stored_block(0,0,!1),3==flush)for(i=0;i<hash_size;i++)head[i]=0;if(strm.flush_pending(),0===strm.avail_out)return last_flush=-1,0}}return 4!=flush?0:1}}function ZStream(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}ZStream.prototype={deflateInit:function(level,bits){return this.dstate=new Deflate,bits||(bits=15),this.dstate.deflateInit(this,level,bits)},deflate:function(flush){return this.dstate?this.dstate.deflate(this,flush):-2},deflateEnd:function(){if(!this.dstate)return-2;var ret=this.dstate.deflateEnd();return this.dstate=null,ret},deflateParams:function(level,strategy){return this.dstate?this.dstate.deflateParams(this,level,strategy):-2},deflateSetDictionary:function(dictionary,dictLength){return this.dstate?this.dstate.deflateSetDictionary(this,dictionary,dictLength):-2},read_buf:function(buf,start,size){var len=this.avail_in;return len>size&&(len=size),0===len?0:(this.avail_in-=len,buf.set(this.next_in.subarray(this.next_in_index,this.next_in_index+len),start),this.next_in_index+=len,this.total_in+=len,len)},flush_pending:function(){var len=this.dstate.pending;len>this.avail_out&&(len=this.avail_out),0!==len&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+len),this.next_out_index),this.next_out_index+=len,this.dstate.pending_out+=len,this.total_out+=len,this.avail_out-=len,this.dstate.pending-=len,0===this.dstate.pending&&(this.dstate.pending_out=0))}};var env=global.zip||global;env.Deflater=env._jzlib_Deflater=function(options){var z=new ZStream,buf=new Uint8Array(512),level=options?options.level:-1;void 0===level&&(level=-1),z.deflateInit(level),z.next_out=buf,this.append=function(data,onprogress){var array,buffers=[],lastIndex=0,bufferIndex=0,bufferSize=0;if(data.length){z.next_in_index=0,z.next_in=data,z.avail_in=data.length;do{if(z.next_out_index=0,z.avail_out=512,0!=z.deflate(0))throw new Error("deflating: "+z.msg);z.next_out_index&&(512==z.next_out_index?buffers.push(new Uint8Array(buf)):buffers.push(new Uint8Array(buf.subarray(0,z.next_out_index)))),bufferSize+=z.next_out_index,onprogress&&z.next_in_index>0&&z.next_in_index!=lastIndex&&(onprogress(z.next_in_index),lastIndex=z.next_in_index)}while(z.avail_in>0||0===z.avail_out);return array=new Uint8Array(bufferSize),buffers.forEach((function(chunk){array.set(chunk,bufferIndex),bufferIndex+=chunk.length})),array}},this.flush=function(){var err,array,buffers=[],bufferIndex=0,bufferSize=0;do{if(z.next_out_index=0,z.avail_out=512,1!=(err=z.deflate(4))&&0!=err)throw new Error("deflating: "+z.msg);512-z.avail_out>0&&buffers.push(new Uint8Array(buf.subarray(0,z.next_out_index))),bufferSize+=z.next_out_index}while(z.avail_in>0||0===z.avail_out);return z.deflateEnd(),array=new Uint8Array(bufferSize),buffers.forEach((function(chunk){array.set(chunk,bufferIndex),bufferIndex+=chunk.length})),array}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
   * @license Use it if you like it
   */
function(global){function RGBColor(color_string){var channels;this.ok=!1,"#"==color_string.charAt(0)&&(color_string=color_string.substr(1,6)),color_string=(color_string=color_string.replace(/ /g,"")).toLowerCase();var simple_colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var key in simple_colors)color_string==key&&(color_string=simple_colors[key]);for(var color_defs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(bits){return[parseInt(bits[1]),parseInt(bits[2]),parseInt(bits[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(bits){return[parseInt(bits[1],16),parseInt(bits[2],16),parseInt(bits[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(bits){return[parseInt(bits[1]+bits[1],16),parseInt(bits[2]+bits[2],16),parseInt(bits[3]+bits[3],16)]}}],i=0;i<color_defs.length;i++){var re=color_defs[i].re,processor=color_defs[i].process,bits=re.exec(color_string);bits&&(channels=processor(bits),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var r=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);return 1==r.length&&(r="0"+r),1==g.length&&(g="0"+g),1==b.length&&(b="0"+b),"#"+r+g+b},this.getHelpXML=function(){for(var examples=new Array,i=0;i<color_defs.length;i++)for(var example=color_defs[i].example,j=0;j<example.length;j++)examples[examples.length]=example[j];for(var sc in simple_colors)examples[examples.length]=sc;var xml=document.createElement("ul");xml.setAttribute("id","rgbcolor-examples");for(i=0;i<examples.length;i++)try{var list_item=document.createElement("li"),list_color=new RGBColor(examples[i]),example_div=document.createElement("div");example_div.style.cssText="margin: 3px; border: 1px solid black; background:"+list_color.toHex()+"; color:"+list_color.toHex(),example_div.appendChild(document.createTextNode("test"));var list_item_value=document.createTextNode(" "+examples[i]+" -> "+list_color.toRGB()+" -> "+list_color.toHex());list_item.appendChild(example_div),list_item.appendChild(list_item_value),xml.appendChild(list_item)}catch(e){}return xml}}"undefined"!=typeof define&&define.amd?define("RGBColor",(function(){return RGBColor})):"undefined"!=typeof module&&module.exports&&(module.exports=RGBColor),global.RGBColor=RGBColor}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(e){if("object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("html2canvas",[],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.html2canvas=e()}}((function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return s(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){!function(root){var freeExports="object"==_typeof2(exports)&&exports,freeModule="object"==_typeof2(module)&&module&&module.exports==freeExports&&module,freeGlobal="object"==_typeof2(global)&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length;length--;)array[length]=fn(array[length]);return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,(function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)})).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=128,bias=72;for((basic=input.lastIndexOf("-"))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=36;index>=inputLength&&error("invalid-input"),((digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:36)>=36||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?1:k>=bias+26?26:k-bias));k+=36)w>floor(maxInt/(baseMinusT=36-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=128,delta=0,bias=72,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push("-");handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=36;!(q<(t=k<=bias?1:k>=bias+26?26:k-bias));k+=36)qMinusT=q-t,baseMinusT=36-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}if(punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(domain){return mapDomain(domain,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))},toUnicode:function(domain){return mapDomain(domain,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}},freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(_dereq_,module,exports){var log=_dereq_("./log");function cloneNode(node,javascriptEnabled){for(var clone=3===node.nodeType?document.createTextNode(node.nodeValue):node.cloneNode(!1),child=node.firstChild;child;)!0!==javascriptEnabled&&1===child.nodeType&&"SCRIPT"===child.nodeName||clone.appendChild(cloneNode(child,javascriptEnabled)),child=child.nextSibling;return 1===node.nodeType&&(clone._scrollTop=node.scrollTop,clone._scrollLeft=node.scrollLeft,"CANVAS"===node.nodeName?function(canvas,clonedCanvas){try{clonedCanvas&&(clonedCanvas.width=canvas.width,clonedCanvas.height=canvas.height,clonedCanvas.getContext("2d").putImageData(canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height),0,0))}catch(e){log("Unable to copy canvas content from",canvas,e)}}(node,clone):"TEXTAREA"!==node.nodeName&&"SELECT"!==node.nodeName||(clone.value=node.value)),clone}function initNode(node){if(1===node.nodeType){node.scrollTop=node._scrollTop,node.scrollLeft=node._scrollLeft;for(var child=node.firstChild;child;)initNode(child),child=child.nextSibling}}module.exports=function(ownerDocument,containerDocument,width,height,options,x,y){var documentElement=cloneNode(ownerDocument.documentElement,options.javascriptEnabled),container=containerDocument.createElement("iframe");return container.className="html2canvas-container",container.style.visibility="hidden",container.style.position="fixed",container.style.left="-10000px",container.style.top="0px",container.style.border="0",container.width=width,container.height=height,container.scrolling="no",containerDocument.body.appendChild(container),new Promise((function(resolve){var documentClone=container.contentWindow.document;container.contentWindow.onload=container.onload=function(){var interval=setInterval((function(){documentClone.body.childNodes.length>0&&(initNode(documentClone.documentElement),clearInterval(interval),"view"===options.type&&(container.contentWindow.scrollTo(x,y),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||container.contentWindow.scrollY===y&&container.contentWindow.scrollX===x||(documentClone.documentElement.style.top=-y+"px",documentClone.documentElement.style.left=-x+"px",documentClone.documentElement.style.position="absolute")),resolve(container))}),50)},documentClone.open(),documentClone.write("<!DOCTYPE html><html></html>"),function(ownerDocument,x,y){!ownerDocument.defaultView||x===ownerDocument.defaultView.pageXOffset&&y===ownerDocument.defaultView.pageYOffset||ownerDocument.defaultView.scrollTo(x,y)}(ownerDocument,x,y),documentClone.replaceChild(documentClone.adoptNode(documentElement),documentClone.documentElement),documentClone.close()}))}},{"./log":13}],3:[function(_dereq_,module,exports){function Color(value){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(value)||this.namedColor(value)||this.rgb(value)||this.rgba(value)||this.hex6(value)||this.hex3(value)}Color.prototype.darken=function(amount){var a=1-amount;return new Color([Math.round(this.r*a),Math.round(this.g*a),Math.round(this.b*a),this.a])},Color.prototype.isTransparent=function(){return 0===this.a},Color.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},Color.prototype.fromArray=function(array){return Array.isArray(array)&&(this.r=Math.min(array[0],255),this.g=Math.min(array[1],255),this.b=Math.min(array[2],255),array.length>3&&(this.a=array[3])),Array.isArray(array)};var _hex3=/^#([a-f0-9]{3})$/i;Color.prototype.hex3=function(value){var match;return null!==(match=value.match(_hex3))&&(this.r=parseInt(match[1][0]+match[1][0],16),this.g=parseInt(match[1][1]+match[1][1],16),this.b=parseInt(match[1][2]+match[1][2],16)),null!==match};var _hex6=/^#([a-f0-9]{6})$/i;Color.prototype.hex6=function(value){var match=null;return null!==(match=value.match(_hex6))&&(this.r=parseInt(match[1].substring(0,2),16),this.g=parseInt(match[1].substring(2,4),16),this.b=parseInt(match[1].substring(4,6),16)),null!==match};var _rgb=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;Color.prototype.rgb=function(value){var match;return null!==(match=value.match(_rgb))&&(this.r=Number(match[1]),this.g=Number(match[2]),this.b=Number(match[3])),null!==match};var _rgba=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;Color.prototype.rgba=function(value){var match;return null!==(match=value.match(_rgba))&&(this.r=Number(match[1]),this.g=Number(match[2]),this.b=Number(match[3]),this.a=Number(match[4])),null!==match},Color.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},Color.prototype.namedColor=function(value){value=value.toLowerCase();var color=colors[value];if(color)this.r=color[0],this.g=color[1],this.b=color[2];else if("transparent"===value)return this.r=this.g=this.b=this.a=0,!0;return!!color},Color.prototype.isColor=!0;var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};module.exports=Color},{}],4:[function(_dereq_,module,exports){var Support=_dereq_("./support"),CanvasRenderer=_dereq_("./renderers/canvas"),ImageLoader=_dereq_("./imageloader"),NodeParser=_dereq_("./nodeparser"),NodeContainer=_dereq_("./nodecontainer"),log=_dereq_("./log"),utils=_dereq_("./utils"),createWindowClone=_dereq_("./clone"),loadUrlDocument=_dereq_("./proxy").loadUrlDocument,getBounds=utils.getBounds,html2canvasCloneIndex=0;function html2canvas(nodeList,options){var url,link,index=html2canvasCloneIndex++;if((options=options||{}).logging&&(log.options.logging=!0,log.options.start=Date.now()),options.async=void 0===options.async||options.async,options.allowTaint=void 0!==options.allowTaint&&options.allowTaint,options.removeContainer=void 0===options.removeContainer||options.removeContainer,options.javascriptEnabled=void 0!==options.javascriptEnabled&&options.javascriptEnabled,options.imageTimeout=void 0===options.imageTimeout?1e4:options.imageTimeout,options.renderer="function"==typeof options.renderer?options.renderer:CanvasRenderer,options.strict=!!options.strict,"string"==typeof nodeList){if("string"!=typeof options.proxy)return Promise.reject("Proxy must be used when rendering url");var width=null!=options.width?options.width:window.innerWidth,height=null!=options.height?options.height:window.innerHeight;return loadUrlDocument((url=nodeList,link=document.createElement("a"),link.href=url,link.href=link.href,link),options.proxy,document,width,height,options).then((function(container){return renderWindow(container.contentWindow.document.documentElement,container,options,width,height)}))}var node=(void 0===nodeList?[document.documentElement]:nodeList.length?nodeList:[nodeList])[0];return node.setAttribute("data-html2canvas-node"+index,index),function(document,options,windowWidth,windowHeight,html2canvasIndex){return createWindowClone(document,document,windowWidth,windowHeight,options,document.defaultView.pageXOffset,document.defaultView.pageYOffset).then((function(container){log("Document cloned");var attributeName="data-html2canvas-node"+html2canvasIndex,selector="["+attributeName+"='"+html2canvasIndex+"']";document.querySelector(selector).removeAttribute(attributeName);var clonedWindow=container.contentWindow,node=clonedWindow.document.querySelector(selector);return("function"==typeof options.onclone?Promise.resolve(options.onclone(clonedWindow.document)):Promise.resolve(!0)).then((function(){return renderWindow(node,container,options,windowWidth,windowHeight)}))}))}(node.ownerDocument,options,node.ownerDocument.defaultView.innerWidth,node.ownerDocument.defaultView.innerHeight,index).then((function(canvas){return"function"==typeof options.onrendered&&(log("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),options.onrendered(canvas)),canvas}))}html2canvas.CanvasRenderer=CanvasRenderer,html2canvas.NodeContainer=NodeContainer,html2canvas.log=log,html2canvas.utils=utils;var html2canvasExport="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:html2canvas;function renderWindow(node,container,options,windowWidth,windowHeight){var doc,clonedWindow=container.contentWindow,support=new Support(clonedWindow.document),imageLoader=new ImageLoader(options,support),bounds=getBounds(node),width="view"===options.type?windowWidth:(doc=clonedWindow.document,Math.max(Math.max(doc.body.scrollWidth,doc.documentElement.scrollWidth),Math.max(doc.body.offsetWidth,doc.documentElement.offsetWidth),Math.max(doc.body.clientWidth,doc.documentElement.clientWidth))),height="view"===options.type?windowHeight:function(doc){return Math.max(Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight),Math.max(doc.body.offsetHeight,doc.documentElement.offsetHeight),Math.max(doc.body.clientHeight,doc.documentElement.clientHeight))}(clonedWindow.document),renderer=new options.renderer(width,height,imageLoader,options,document);return new NodeParser(node,renderer,support,imageLoader,options).ready.then((function(){var canvas;return log("Finished rendering"),canvas="view"===options.type?crop(renderer.canvas,{width:renderer.canvas.width,height:renderer.canvas.height,top:0,left:0,x:0,y:0}):node===clonedWindow.document.body||node===clonedWindow.document.documentElement||null!=options.canvas?renderer.canvas:crop(renderer.canvas,{width:null!=options.width?options.width:bounds.width,height:null!=options.height?options.height:bounds.height,top:bounds.top,left:bounds.left,x:0,y:0}),function(container,options){options.removeContainer&&(container.parentNode.removeChild(container),log("Cleaned up container"))}(container,options),canvas}))}function crop(canvas,bounds){var croppedCanvas=document.createElement("canvas"),x1=Math.min(canvas.width-1,Math.max(0,bounds.left)),x2=Math.min(canvas.width,Math.max(1,bounds.left+bounds.width)),y1=Math.min(canvas.height-1,Math.max(0,bounds.top)),y2=Math.min(canvas.height,Math.max(1,bounds.top+bounds.height));croppedCanvas.width=bounds.width,croppedCanvas.height=bounds.height;var width=x2-x1,height=y2-y1;return log("Cropping canvas at:","left:",bounds.left,"top:",bounds.top,"width:",width,"height:",height),log("Resulting crop with width",bounds.width,"and height",bounds.height,"with x",x1,"and y",y1),croppedCanvas.getContext("2d").drawImage(canvas,x1,y1,width,height,bounds.x,bounds.y,width,height),croppedCanvas}module.exports=html2canvasExport},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(_dereq_,module,exports){var log=_dereq_("./log"),smallImage=_dereq_("./utils").smallImage;module.exports=function DummyImageContainer(src){if(this.src=src,log("DummyImageContainer for",src),!this.promise||!this.image){log("Initiating DummyImageContainer"),DummyImageContainer.prototype.image=new Image;var image=this.image;DummyImageContainer.prototype.promise=new Promise((function(resolve,reject){image.onload=resolve,image.onerror=reject,image.src=smallImage(),!0===image.complete&&resolve(image)}))}}},{"./log":13,"./utils":26}],6:[function(_dereq_,module,exports){var smallImage=_dereq_("./utils").smallImage;module.exports=function(family,size){var baseline,middle,container=document.createElement("div"),img=document.createElement("img"),span=document.createElement("span");container.style.visibility="hidden",container.style.fontFamily=family,container.style.fontSize=size,container.style.margin=0,container.style.padding=0,document.body.appendChild(container),img.src=smallImage(),img.width=1,img.height=1,img.style.margin=0,img.style.padding=0,img.style.verticalAlign="baseline",span.style.fontFamily=family,span.style.fontSize=size,span.style.margin=0,span.style.padding=0,span.appendChild(document.createTextNode("Hidden Text")),container.appendChild(span),container.appendChild(img),baseline=img.offsetTop-span.offsetTop+1,container.removeChild(span),container.appendChild(document.createTextNode("Hidden Text")),container.style.lineHeight="normal",img.style.verticalAlign="super",middle=img.offsetTop-container.offsetTop+1,document.body.removeChild(container),this.baseline=baseline,this.lineWidth=1,this.middle=middle}},{"./utils":26}],7:[function(_dereq_,module,exports){var Font=_dereq_("./font");function FontMetrics(){this.data={}}FontMetrics.prototype.getMetrics=function(family,size){return void 0===this.data[family+"-"+size]&&(this.data[family+"-"+size]=new Font(family,size)),this.data[family+"-"+size]},module.exports=FontMetrics},{"./font":6}],8:[function(_dereq_,module,exports){var getBounds=_dereq_("./utils").getBounds,loadUrlDocument=_dereq_("./proxy").loadUrlDocument;function FrameContainer(container,sameOrigin,options){this.image=null,this.src=container;var self=this,bounds=getBounds(container);this.promise=(sameOrigin?new Promise((function(resolve){"about:blank"===container.contentWindow.document.URL||null==container.contentWindow.document.documentElement?container.contentWindow.onload=container.onload=function(){resolve(container)}:resolve(container)})):this.proxyLoad(options.proxy,bounds,options)).then((function(container){return _dereq_("./core")(container.contentWindow.document.documentElement,{type:"view",width:container.width,height:container.height,proxy:options.proxy,javascriptEnabled:options.javascriptEnabled,removeContainer:options.removeContainer,allowTaint:options.allowTaint,imageTimeout:options.imageTimeout/2})})).then((function(canvas){return self.image=canvas}))}FrameContainer.prototype.proxyLoad=function(proxy,bounds,options){var container=this.src;return loadUrlDocument(container.src,proxy,container.ownerDocument,bounds.width,bounds.height,options)},module.exports=FrameContainer},{"./core":4,"./proxy":16,"./utils":26}],9:[function(_dereq_,module,exports){function GradientContainer(imageData){this.src=imageData.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}GradientContainer.TYPES={LINEAR:1,RADIAL:2},GradientContainer.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,module.exports=GradientContainer},{}],10:[function(_dereq_,module,exports){module.exports=function(src,cors){this.src=src,this.image=new Image;var self=this;this.tainted=null,this.promise=new Promise((function(resolve,reject){self.image.onload=resolve,self.image.onerror=reject,cors&&(self.image.crossOrigin="anonymous"),self.image.src=src,!0===self.image.complete&&resolve(self.image)}))}},{}],11:[function(_dereq_,module,exports){var log=_dereq_("./log"),ImageContainer=_dereq_("./imagecontainer"),DummyImageContainer=_dereq_("./dummyimagecontainer"),ProxyImageContainer=_dereq_("./proxyimagecontainer"),FrameContainer=_dereq_("./framecontainer"),SVGContainer=_dereq_("./svgcontainer"),SVGNodeContainer=_dereq_("./svgnodecontainer"),LinearGradientContainer=_dereq_("./lineargradientcontainer"),WebkitGradientContainer=_dereq_("./webkitgradientcontainer"),bind=_dereq_("./utils").bind;function ImageLoader(options,support){this.link=null,this.options=options,this.support=support,this.origin=this.getOrigin(window.location.href)}ImageLoader.prototype.findImages=function(nodes){var images=[];return nodes.reduce((function(imageNodes,container){switch(container.node.nodeName){case"IMG":return imageNodes.concat([{args:[container.node.src],method:"url"}]);case"svg":case"IFRAME":return imageNodes.concat([{args:[container.node],method:container.node.nodeName}])}return imageNodes}),[]).forEach(this.addImage(images,this.loadImage),this),images},ImageLoader.prototype.findBackgroundImage=function(images,container){return container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images,this.loadImage),this),images},ImageLoader.prototype.addImage=function(images,callback){return function(newImage){newImage.args.forEach((function(image){this.imageExists(images,image)||(images.splice(0,0,callback.call(this,newImage)),log("Added image #"+images.length,"string"==typeof image?image.substring(0,100):image))}),this)}},ImageLoader.prototype.hasImageBackground=function(imageData){return"none"!==imageData.method},ImageLoader.prototype.loadImage=function(imageData){if("url"===imageData.method){var src=imageData.args[0];return!this.isSVG(src)||this.support.svg||this.options.allowTaint?src.match(/data:image\/.*;base64,/i)?new ImageContainer(src.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(src)||!0===this.options.allowTaint||this.isSVG(src)?new ImageContainer(src,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new ImageContainer(src,!0):this.options.proxy?new ProxyImageContainer(src,this.options.proxy):new DummyImageContainer(src):new SVGContainer(src)}return"linear-gradient"===imageData.method?new LinearGradientContainer(imageData):"gradient"===imageData.method?new WebkitGradientContainer(imageData):"svg"===imageData.method?new SVGNodeContainer(imageData.args[0],this.support.svg):"IFRAME"===imageData.method?new FrameContainer(imageData.args[0],this.isSameOrigin(imageData.args[0].src),this.options):new DummyImageContainer(imageData)},ImageLoader.prototype.isSVG=function(src){return"svg"===src.substring(src.length-3).toLowerCase()||SVGContainer.prototype.isInline(src)},ImageLoader.prototype.imageExists=function(images,src){return images.some((function(image){return image.src===src}))},ImageLoader.prototype.isSameOrigin=function(url){return this.getOrigin(url)===this.origin},ImageLoader.prototype.getOrigin=function(url){var link=this.link||(this.link=document.createElement("a"));return link.href=url,link.href=link.href,link.protocol+link.hostname+link.port},ImageLoader.prototype.getPromise=function(container){return this.timeout(container,this.options.imageTimeout).catch((function(){return new DummyImageContainer(container.src).promise.then((function(image){container.image=image}))}))},ImageLoader.prototype.get=function(src){var found=null;return this.images.some((function(img){return(found=img).src===src}))?found:null},ImageLoader.prototype.fetch=function(nodes){return this.images=nodes.reduce(bind(this.findBackgroundImage,this),this.findImages(nodes)),this.images.forEach((function(image,index){image.promise.then((function(){log("Succesfully loaded image #"+(index+1),image)}),(function(e){log("Failed loading image #"+(index+1),image,e)}))})),this.ready=Promise.all(this.images.map(this.getPromise,this)),log("Finished searching images"),this},ImageLoader.prototype.timeout=function(container,timeout){var timer,promise=Promise.race([container.promise,new Promise((function(res,reject){timer=setTimeout((function(){log("Timed out loading image",container),reject(container)}),timeout)}))]).then((function(container){return clearTimeout(timer),container}));return promise.catch((function(){clearTimeout(timer)})),promise},module.exports=ImageLoader},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(_dereq_,module,exports){var GradientContainer=_dereq_("./gradientcontainer"),Color=_dereq_("./color");function LinearGradientContainer(imageData){GradientContainer.apply(this,arguments),this.type=GradientContainer.TYPES.LINEAR;var hasDirection=LinearGradientContainer.REGEXP_DIRECTION.test(imageData.args[0])||!GradientContainer.REGEXP_COLORSTOP.test(imageData.args[0]);hasDirection?imageData.args[0].split(/\s+/).reverse().forEach((function(position,index){switch(position){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var y0=this.y0,x0=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=x0,this.y1=y0;break;case"center":break;default:var ratio=.01*parseFloat(position,10);if(isNaN(ratio))break;0===index?(this.y0=ratio,this.y1=1-this.y0):(this.x0=ratio,this.x1=1-this.x0)}}),this):(this.y0=0,this.y1=1),this.colorStops=imageData.args.slice(hasDirection?1:0).map((function(colorStop){var colorStopMatch=colorStop.match(GradientContainer.REGEXP_COLORSTOP),value=+colorStopMatch[2],unit=0===value?"%":colorStopMatch[3];return{color:new Color(colorStopMatch[1]),stop:"%"===unit?value/100:null}})),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach((function(colorStop,index){null===colorStop.stop&&this.colorStops.slice(index).some((function(find,count){return null!==find.stop&&(colorStop.stop=(find.stop-this.colorStops[index-1].stop)/(count+1)+this.colorStops[index-1].stop,!0)}),this)}),this)}LinearGradientContainer.prototype=Object.create(GradientContainer.prototype),LinearGradientContainer.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,module.exports=LinearGradientContainer},{"./color":3,"./gradientcontainer":9}],13:[function(_dereq_,module,exports){var logger=function logger(){logger.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-logger.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};logger.options={logging:!1},module.exports=logger},{}],14:[function(_dereq_,module,exports){var Color=_dereq_("./color"),utils=_dereq_("./utils"),getBounds=utils.getBounds,parseBackgrounds=utils.parseBackgrounds,offsetBounds=utils.offsetBounds;function NodeContainer(node,parent){this.node=node,this.parent=parent,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function isPercentage(value){return-1!==value.toString().indexOf("%")}function removePx(str){return str.replace("px","")}function asFloat(str){return parseFloat(str)}NodeContainer.prototype.cloneTo=function(stack){stack.visible=this.visible,stack.borders=this.borders,stack.bounds=this.bounds,stack.clip=this.clip,stack.backgroundClip=this.backgroundClip,stack.computedStyles=this.computedStyles,stack.styles=this.styles,stack.backgroundImages=this.backgroundImages,stack.opacity=this.opacity},NodeContainer.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},NodeContainer.prototype.assignStack=function(stack){this.stack=stack,stack.children.push(this)},NodeContainer.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},NodeContainer.prototype.css=function(attribute){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[attribute]||(this.styles[attribute]=this.computedStyles[attribute])},NodeContainer.prototype.prefixedCss=function(attribute){var value=this.css(attribute);return void 0===value&&["webkit","moz","ms","o"].some((function(prefix){return void 0!==(value=this.css(prefix+attribute.substr(0,1).toUpperCase()+attribute.substr(1)))}),this),void 0===value?null:value},NodeContainer.prototype.computedStyle=function(type){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,type)},NodeContainer.prototype.cssInt=function(attribute){var value=parseInt(this.css(attribute),10);return isNaN(value)?0:value},NodeContainer.prototype.color=function(attribute){return this.colors[attribute]||(this.colors[attribute]=new Color(this.css(attribute)))},NodeContainer.prototype.cssFloat=function(attribute){var value=parseFloat(this.css(attribute));return isNaN(value)?0:value},NodeContainer.prototype.fontWeight=function(){var weight=this.css("fontWeight");switch(parseInt(weight,10)){case 401:weight="bold";break;case 400:weight="normal"}return weight},NodeContainer.prototype.parseClip=function(){var matches=this.css("clip").match(this.CLIP);return matches?{top:parseInt(matches[1],10),right:parseInt(matches[2],10),bottom:parseInt(matches[3],10),left:parseInt(matches[4],10)}:null},NodeContainer.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=parseBackgrounds(this.css("backgroundImage")))},NodeContainer.prototype.cssList=function(property,index){var value=(this.css(property)||"").split(",");return 1===(value=(value=value[index||0]||value[0]||"auto").trim().split(" ")).length&&(value=[value[0],isPercentage(value[0])?"auto":value[0]]),value},NodeContainer.prototype.parseBackgroundSize=function(bounds,image,index){var width,height,size=this.cssList("backgroundSize",index);if(isPercentage(size[0]))width=bounds.width*parseFloat(size[0])/100;else{if(/contain|cover/.test(size[0])){var targetRatio=bounds.width/bounds.height,currentRatio=image.width/image.height;return targetRatio<currentRatio^"contain"===size[0]?{width:bounds.height*currentRatio,height:bounds.height}:{width:bounds.width,height:bounds.width/currentRatio}}width=parseInt(size[0],10)}return height="auto"===size[0]&&"auto"===size[1]?image.height:"auto"===size[1]?width/image.width*image.height:isPercentage(size[1])?bounds.height*parseFloat(size[1])/100:parseInt(size[1],10),"auto"===size[0]&&(width=height/image.height*image.width),{width:width,height:height}},NodeContainer.prototype.parseBackgroundPosition=function(bounds,image,index,backgroundSize){var left,top,position=this.cssList("backgroundPosition",index);return left=isPercentage(position[0])?(bounds.width-(backgroundSize||image).width)*(parseFloat(position[0])/100):parseInt(position[0],10),top="auto"===position[1]?left/image.width*image.height:isPercentage(position[1])?(bounds.height-(backgroundSize||image).height)*parseFloat(position[1])/100:parseInt(position[1],10),"auto"===position[0]&&(left=top/image.height*image.width),{left:left,top:top}},NodeContainer.prototype.parseBackgroundRepeat=function(index){return this.cssList("backgroundRepeat",index)[0]},NodeContainer.prototype.parseTextShadows=function(){var textShadow=this.css("textShadow"),results=[];if(textShadow&&"none"!==textShadow)for(var shadows=textShadow.match(this.TEXT_SHADOW_PROPERTY),i=0;shadows&&i<shadows.length;i++){var s=shadows[i].match(this.TEXT_SHADOW_VALUES);results.push({color:new Color(s[0]),offsetX:s[1]?parseFloat(s[1].replace("px","")):0,offsetY:s[2]?parseFloat(s[2].replace("px","")):0,blur:s[3]?s[3].replace("px",""):0})}return results},NodeContainer.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var offset=this.parseBounds(),origin=this.prefixedCss("transformOrigin").split(" ").map(removePx).map(asFloat);origin[0]+=offset.left,origin[1]+=offset.top,this.transformData={origin:origin,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},NodeContainer.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var transform=this.prefixedCss("transform"),matrix=transform?function(match){if(match&&"matrix"===match[1])return match[2].split(",").map((function(s){return parseFloat(s.trim())}));if(match&&"matrix3d"===match[1]){var matrix3d=match[2].split(",").map((function(s){return parseFloat(s.trim())}));return[matrix3d[0],matrix3d[1],matrix3d[4],matrix3d[5],matrix3d[12],matrix3d[13]]}}(transform.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=matrix||[1,0,0,1,0,0]}return this.transformMatrix},NodeContainer.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?offsetBounds(this.node):getBounds(this.node))},NodeContainer.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},NodeContainer.prototype.getValue=function(){var node,option,value=this.node.value||"";return"SELECT"===this.node.tagName?(node=this.node,value=(option=node.options[node.selectedIndex||0])&&option.text||""):"password"===this.node.type&&(value=Array(value.length+1).join("•")),0===value.length?this.node.placeholder||"":value},NodeContainer.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,NodeContainer.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,NodeContainer.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,NodeContainer.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,module.exports=NodeContainer},{"./color":3,"./utils":26}],15:[function(_dereq_,module,exports){var log=_dereq_("./log"),punycode=_dereq_("punycode"),NodeContainer=_dereq_("./nodecontainer"),TextContainer=_dereq_("./textcontainer"),PseudoElementContainer=_dereq_("./pseudoelementcontainer"),FontMetrics=_dereq_("./fontmetrics"),Color=_dereq_("./color"),StackingContext=_dereq_("./stackingcontext"),utils=_dereq_("./utils"),bind=utils.bind,getBounds=utils.getBounds,parseBackgrounds=utils.parseBackgrounds,offsetBounds=utils.offsetBounds;function NodeParser(element,renderer,support,imageLoader,options){log("Starting NodeParser"),this.renderer=renderer,this.options=options,this.range=null,this.support=support,this.renderQueue=[],this.stack=new StackingContext(!0,1,element.ownerDocument,null);var parent=new NodeContainer(element,null);if(options.background&&renderer.rectangle(0,0,renderer.width,renderer.height,new Color(options.background)),element===element.ownerDocument.documentElement){var canvasBackground=new NodeContainer(parent.color("backgroundColor").isTransparent()?element.ownerDocument.body:element.ownerDocument.documentElement,null);renderer.rectangle(0,0,renderer.width,renderer.height,canvasBackground.color("backgroundColor"))}parent.visibile=parent.isElementVisible(),this.createPseudoHideStyles(element.ownerDocument),this.disableAnimations(element.ownerDocument),this.nodes=flatten([parent].concat(this.getChildren(parent)).filter((function(container){return container.visible=container.isElementVisible()})).map(this.getPseudoElements,this)),this.fontMetrics=new FontMetrics,log("Fetched nodes, total:",this.nodes.length),log("Calculate overflow clips"),this.calculateOverflowClips(),log("Start fetching images"),this.images=imageLoader.fetch(this.nodes.filter(isElement)),this.ready=this.images.ready.then(bind((function(){return log("Images loaded, starting parsing"),log("Creating stacking contexts"),this.createStackingContexts(),log("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),log("Render queue created with "+this.renderQueue.length+" items"),new Promise(bind((function(resolve){options.async?"function"==typeof options.async?options.async.call(this,this.renderQueue,resolve):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,resolve)):resolve():(this.renderQueue.forEach(this.paint,this),resolve())}),this))}),this))}function hasParentClip(container){return container.parent&&container.parent.clip.length}function ClearTransform(){}NodeParser.prototype.calculateOverflowClips=function(){this.nodes.forEach((function(container){if(isElement(container)){isPseudoElement(container)&&container.appendToDOM(),container.borders=this.parseBorders(container);var clip="hidden"===container.css("overflow")?[container.borders.clip]:[],cssClip=container.parseClip();cssClip&&-1!==["absolute","fixed"].indexOf(container.css("position"))&&clip.push([["rect",container.bounds.left+cssClip.left,container.bounds.top+cssClip.top,cssClip.right-cssClip.left,cssClip.bottom-cssClip.top]]),container.clip=hasParentClip(container)?container.parent.clip.concat(clip):clip,container.backgroundClip="hidden"!==container.css("overflow")?container.clip.concat([container.borders.clip]):container.clip,isPseudoElement(container)&&container.cleanDOM()}else isTextNode(container)&&(container.clip=hasParentClip(container)?container.parent.clip:[]);isPseudoElement(container)||(container.bounds=null)}),this)},NodeParser.prototype.asyncRenderer=function(queue,resolve,asyncTimer){asyncTimer=asyncTimer||Date.now(),this.paint(queue[this.renderIndex++]),queue.length===this.renderIndex?resolve():asyncTimer+20>Date.now()?this.asyncRenderer(queue,resolve,asyncTimer):setTimeout(bind((function(){this.asyncRenderer(queue,resolve)}),this),0)},NodeParser.prototype.createPseudoHideStyles=function(document){this.createStyles(document,"."+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},NodeParser.prototype.disableAnimations=function(document){this.createStyles(document,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},NodeParser.prototype.createStyles=function(document,styles){var hidePseudoElements=document.createElement("style");hidePseudoElements.innerHTML=styles,document.body.appendChild(hidePseudoElements)},NodeParser.prototype.getPseudoElements=function(container){var nodes=[[container]];if(container.node.nodeType===Node.ELEMENT_NODE){var before=this.getPseudoElement(container,":before"),after=this.getPseudoElement(container,":after");before&&nodes.push(before),after&&nodes.push(after)}return flatten(nodes)},NodeParser.prototype.getPseudoElement=function(container,type){var style=container.computedStyle(type);if(!style||!style.content||"none"===style.content||"-moz-alt-content"===style.content||"none"===style.display)return null;for(var content=function(content){var first=content.substr(0,1);return first===content.substr(content.length-1)&&first.match(/'|"/)?content.substr(1,content.length-2):content}(style.content),isImage="url"===content.substr(0,3),pseudoNode=document.createElement(isImage?"img":"html2canvaspseudoelement"),pseudoContainer=new PseudoElementContainer(pseudoNode,container,type),i=style.length-1;i>=0;i--){var property=style.item(i).replace(/(\-[a-z])/g,(function(match){return match.toUpperCase().replace("-","")}));pseudoNode.style[property]=style[property]}if(pseudoNode.className=PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,isImage)return pseudoNode.src=parseBackgrounds(content)[0].args[0],[pseudoContainer];var text=document.createTextNode(content);return pseudoNode.appendChild(text),[pseudoContainer,new TextContainer(text,pseudoContainer)]},NodeParser.prototype.getChildren=function(parentContainer){return flatten([].filter.call(parentContainer.node.childNodes,renderableNode).map((function(node){var container=[node.nodeType===Node.TEXT_NODE?new TextContainer(node,parentContainer):new NodeContainer(node,parentContainer)].filter(nonIgnoredElement);return node.nodeType===Node.ELEMENT_NODE&&container.length&&"TEXTAREA"!==node.tagName?container[0].isElementVisible()?container.concat(this.getChildren(container[0])):[]:container}),this))},NodeParser.prototype.newStackingContext=function(container,hasOwnStacking){var stack=new StackingContext(hasOwnStacking,container.getOpacity(),container.node,container.parent);container.cloneTo(stack),(hasOwnStacking?stack.getParentStack(this):stack.parent.stack).contexts.push(stack),container.stack=stack},NodeParser.prototype.createStackingContexts=function(){this.nodes.forEach((function(container){isElement(container)&&(this.isRootElement(container)||function(container){return container.getOpacity()<1}(container)||function(container){var position=container.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(position)?container.css("zIndex"):"auto")}(container)||this.isBodyWithTransparentRoot(container)||container.hasTransform())?this.newStackingContext(container,!0):isElement(container)&&(isPositioned(container)&&zIndex0(container)||function(container){return-1!==["inline-block","inline-table"].indexOf(container.css("display"))}(container)||isFloating(container))?this.newStackingContext(container,!1):container.assignStack(container.parent.stack)}),this)},NodeParser.prototype.isBodyWithTransparentRoot=function(container){return"BODY"===container.node.nodeName&&container.parent.color("backgroundColor").isTransparent()},NodeParser.prototype.isRootElement=function(container){return null===container.parent},NodeParser.prototype.sortStackingContexts=function(stack){var contexts;stack.contexts.sort((contexts=stack.contexts.slice(0),function(a,b){return a.cssInt("zIndex")+contexts.indexOf(a)/contexts.length-(b.cssInt("zIndex")+contexts.indexOf(b)/contexts.length)})),stack.contexts.forEach(this.sortStackingContexts,this)},NodeParser.prototype.parseTextBounds=function(container){return function(text,index,textList){if("none"!==container.parent.css("textDecoration").substr(0,4)||0!==text.trim().length){if(this.support.rangeBounds&&!container.parent.hasTransform()){var offset=textList.slice(0,index).join("").length;return this.getRangeBounds(container.node,offset,text.length)}if(container.node&&"string"==typeof container.node.data){var replacementNode=container.node.splitText(text.length),bounds=this.getWrapperBounds(container.node,container.parent.hasTransform());return container.node=replacementNode,bounds}}else this.support.rangeBounds&&!container.parent.hasTransform()||(container.node=container.node.splitText(text.length));return{}}},NodeParser.prototype.getWrapperBounds=function(node,transform){var wrapper=node.ownerDocument.createElement("html2canvaswrapper"),parent=node.parentNode,backupText=node.cloneNode(!0);wrapper.appendChild(node.cloneNode(!0)),parent.replaceChild(wrapper,node);var bounds=transform?offsetBounds(wrapper):getBounds(wrapper);return parent.replaceChild(backupText,wrapper),bounds},NodeParser.prototype.getRangeBounds=function(node,offset,length){var range=this.range||(this.range=node.ownerDocument.createRange());return range.setStart(node,offset),range.setEnd(node,offset+length),range.getBoundingClientRect()},NodeParser.prototype.parse=function(stack){var negativeZindex=stack.contexts.filter(negativeZIndex),descendantElements=stack.children.filter(isElement),descendantNonFloats=descendantElements.filter(not(isFloating)),nonInlineNonPositionedDescendants=descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)),nonPositionedFloats=descendantElements.filter(not(isPositioned)).filter(isFloating),inFlow=descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel),stackLevel0=stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0),text=stack.children.filter(isTextNode).filter(hasText),positiveZindex=stack.contexts.filter(positiveZIndex);negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats).concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach((function(container){this.renderQueue.push(container),isStackingContext(container)&&(this.parse(container),this.renderQueue.push(new ClearTransform))}),this)},NodeParser.prototype.paint=function(container){try{container instanceof ClearTransform?this.renderer.ctx.restore():isTextNode(container)?(isPseudoElement(container.parent)&&container.parent.appendToDOM(),this.paintText(container),isPseudoElement(container.parent)&&container.parent.cleanDOM()):this.paintNode(container)}catch(e){if(log(e),this.options.strict)throw e}},NodeParser.prototype.paintNode=function(container){isStackingContext(container)&&(this.renderer.setOpacity(container.opacity),this.renderer.ctx.save(),container.hasTransform()&&this.renderer.setTransform(container.parseTransform())),"INPUT"===container.node.nodeName&&"checkbox"===container.node.type?this.paintCheckbox(container):"INPUT"===container.node.nodeName&&"radio"===container.node.type?this.paintRadio(container):this.paintElement(container)},NodeParser.prototype.paintElement=function(container){var bounds=container.parseBounds();this.renderer.clip(container.backgroundClip,(function(){this.renderer.renderBackground(container,bounds,container.borders.borders.map(getWidth))}),this),this.renderer.clip(container.clip,(function(){this.renderer.renderBorders(container.borders.borders)}),this),this.renderer.clip(container.backgroundClip,(function(){switch(container.node.nodeName){case"svg":case"IFRAME":var imgContainer=this.images.get(container.node);imgContainer?this.renderer.renderImage(container,bounds,container.borders,imgContainer):log("Error loading <"+container.node.nodeName+">",container.node);break;case"IMG":var imageContainer=this.images.get(container.node.src);imageContainer?this.renderer.renderImage(container,bounds,container.borders,imageContainer):log("Error loading <img>",container.node.src);break;case"CANVAS":this.renderer.renderImage(container,bounds,container.borders,{image:container.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(container)}}),this)},NodeParser.prototype.paintCheckbox=function(container){var b=container.parseBounds(),size=Math.min(b.width,b.height),bounds={width:size-1,height:size-1,top:b.top,left:b.left},r=[3,3],radius=[r,r,r,r],borders=[1,1,1,1].map((function(w){return{color:new Color("#A5A5A5"),width:w}})),borderPoints=calculateCurvePoints(bounds,radius,borders);this.renderer.clip(container.backgroundClip,(function(){this.renderer.rectangle(bounds.left+1,bounds.top+1,bounds.width-2,bounds.height-2,new Color("#DEDEDE")),this.renderer.renderBorders(calculateBorders(borders,bounds,borderPoints,radius)),container.node.checked&&(this.renderer.font(new Color("#424242"),"normal","normal","bold",size-3+"px","arial"),this.renderer.text("✔",bounds.left+size/6,bounds.top+size-1))}),this)},NodeParser.prototype.paintRadio=function(container){var bounds=container.parseBounds(),size=Math.min(bounds.width,bounds.height)-2;this.renderer.clip(container.backgroundClip,(function(){this.renderer.circleStroke(bounds.left+1,bounds.top+1,size,new Color("#DEDEDE"),1,new Color("#A5A5A5")),container.node.checked&&this.renderer.circle(Math.ceil(bounds.left+size/4)+1,Math.ceil(bounds.top+size/4)+1,Math.floor(size/2),new Color("#424242"))}),this)},NodeParser.prototype.paintFormValue=function(container){var value=container.getValue();if(value.length>0){var document=container.node.ownerDocument,wrapper=document.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach((function(property){try{wrapper.style[property]=container.css(property)}catch(e){log("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}));var bounds=container.parseBounds();wrapper.style.position="fixed",wrapper.style.left=bounds.left+"px",wrapper.style.top=bounds.top+"px",wrapper.textContent=value,document.body.appendChild(wrapper),this.paintText(new TextContainer(wrapper.firstChild,container)),document.body.removeChild(wrapper)}},NodeParser.prototype.paintText=function(container){container.applyTextTransform();var string,characters=punycode.ucs2.decode(container.node.data),textList=this.options.letterRendering&&!function(container){return/^(normal|none|0px)$/.test(container.parent.css("letterSpacing"))}(container)||(string=container.node.data,/[^\u0000-\u00ff]/.test(string))?characters.map((function(character){return punycode.ucs2.encode([character])})):function(characters){var word,words=[],i=0,onWordBoundary=!1;for(;characters.length;)isWordBoundary(characters[i])===onWordBoundary?((word=characters.splice(0,i)).length&&words.push(punycode.ucs2.encode(word)),onWordBoundary=!onWordBoundary,i=0):i++,i>=characters.length&&(word=characters.splice(0,i)).length&&words.push(punycode.ucs2.encode(word));return words}(characters),weight=container.parent.fontWeight(),size=container.parent.css("fontSize"),family=container.parent.css("fontFamily"),shadows=container.parent.parseTextShadows();this.renderer.font(container.parent.color("color"),container.parent.css("fontStyle"),container.parent.css("fontVariant"),weight,size,family),shadows.length?this.renderer.fontShadow(shadows[0].color,shadows[0].offsetX,shadows[0].offsetY,shadows[0].blur):this.renderer.clearShadow(),this.renderer.clip(container.parent.clip,(function(){textList.map(this.parseTextBounds(container),this).forEach((function(bounds,index){bounds&&!1===/^\s*$/.test(textList[index])&&(this.renderer.text(textList[index],bounds.left,bounds.bottom),this.renderTextDecoration(container.parent,bounds,this.fontMetrics.getMetrics(family,size)))}),this)}),this)},NodeParser.prototype.renderTextDecoration=function(container,bounds,metrics){switch(container.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(bounds.left,Math.round(bounds.top+metrics.baseline+metrics.lineWidth),bounds.width,1,container.color("color"));break;case"overline":this.renderer.rectangle(bounds.left,Math.round(bounds.top),bounds.width,1,container.color("color"));break;case"line-through":this.renderer.rectangle(bounds.left,Math.ceil(bounds.top+metrics.middle+metrics.lineWidth),bounds.width,1,container.color("color"))}};var borderColorTransforms={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};function calculateBorders(borders,nodeBounds,borderPoints,radius){return borders.map((function(border,borderSide){if(border.width>0){var bx=nodeBounds.left,by=nodeBounds.top,bw=nodeBounds.width,bh=nodeBounds.height-borders[2].width;switch(borderSide){case 0:bh=borders[0].width,border.args=drawSide({c1:[bx,by],c2:[bx+bw,by],c3:[bx+bw-borders[1].width,by+bh],c4:[bx+borders[3].width,by+bh]},radius[0],radius[1],borderPoints.topLeftOuter,borderPoints.topLeftInner,borderPoints.topRightOuter,borderPoints.topRightInner);break;case 1:bx=nodeBounds.left+nodeBounds.width-borders[1].width,bw=borders[1].width,border.args=drawSide({c1:[bx+bw,by],c2:[bx+bw,by+bh+borders[2].width],c3:[bx,by+bh],c4:[bx,by+borders[0].width]},radius[1],radius[2],borderPoints.topRightOuter,borderPoints.topRightInner,borderPoints.bottomRightOuter,borderPoints.bottomRightInner);break;case 2:by=by+nodeBounds.height-borders[2].width,bh=borders[2].width,border.args=drawSide({c1:[bx+bw,by+bh],c2:[bx,by+bh],c3:[bx+borders[3].width,by],c4:[bx+bw-borders[3].width,by]},radius[2],radius[3],borderPoints.bottomRightOuter,borderPoints.bottomRightInner,borderPoints.bottomLeftOuter,borderPoints.bottomLeftInner);break;case 3:bw=borders[3].width,border.args=drawSide({c1:[bx,by+bh+borders[2].width],c2:[bx,by],c3:[bx+bw,by+borders[0].width],c4:[bx+bw,by+bh]},radius[3],radius[0],borderPoints.bottomLeftOuter,borderPoints.bottomLeftInner,borderPoints.topLeftOuter,borderPoints.topLeftInner)}}return border}))}function getCurvePoints(x,y,r1,r2){var kappa=(Math.sqrt(2)-1)/3*4,ox=r1*kappa,oy=r2*kappa,xm=x+r1,ym=y+r2;return{topLeft:bezierCurve({x:x,y:ym},{x:x,y:ym-oy},{x:xm-ox,y:y},{x:xm,y:y}),topRight:bezierCurve({x:x,y:y},{x:x+ox,y:y},{x:xm,y:ym-oy},{x:xm,y:ym}),bottomRight:bezierCurve({x:xm,y:y},{x:xm,y:y+oy},{x:x+ox,y:ym},{x:x,y:ym}),bottomLeft:bezierCurve({x:xm,y:ym},{x:xm-ox,y:ym},{x:x,y:y+oy},{x:x,y:y})}}function calculateCurvePoints(bounds,borderRadius,borders){var x=bounds.left,y=bounds.top,width=bounds.width,height=bounds.height,tlh=borderRadius[0][0]<width/2?borderRadius[0][0]:width/2,tlv=borderRadius[0][1]<height/2?borderRadius[0][1]:height/2,trh=borderRadius[1][0]<width/2?borderRadius[1][0]:width/2,trv=borderRadius[1][1]<height/2?borderRadius[1][1]:height/2,brh=borderRadius[2][0]<width/2?borderRadius[2][0]:width/2,brv=borderRadius[2][1]<height/2?borderRadius[2][1]:height/2,blh=borderRadius[3][0]<width/2?borderRadius[3][0]:width/2,blv=borderRadius[3][1]<height/2?borderRadius[3][1]:height/2,topWidth=width-trh,rightHeight=height-brv,bottomWidth=width-brh,leftHeight=height-blv;return{topLeftOuter:getCurvePoints(x,y,tlh,tlv).topLeft.subdivide(.5),topLeftInner:getCurvePoints(x+borders[3].width,y+borders[0].width,Math.max(0,tlh-borders[3].width),Math.max(0,tlv-borders[0].width)).topLeft.subdivide(.5),topRightOuter:getCurvePoints(x+topWidth,y,trh,trv).topRight.subdivide(.5),topRightInner:getCurvePoints(x+Math.min(topWidth,width+borders[3].width),y+borders[0].width,topWidth>width+borders[3].width?0:trh-borders[3].width,trv-borders[0].width).topRight.subdivide(.5),bottomRightOuter:getCurvePoints(x+bottomWidth,y+rightHeight,brh,brv).bottomRight.subdivide(.5),bottomRightInner:getCurvePoints(x+Math.min(bottomWidth,width-borders[3].width),y+Math.min(rightHeight,height+borders[0].width),Math.max(0,brh-borders[1].width),brv-borders[2].width).bottomRight.subdivide(.5),bottomLeftOuter:getCurvePoints(x,y+leftHeight,blh,blv).bottomLeft.subdivide(.5),bottomLeftInner:getCurvePoints(x+borders[3].width,y+leftHeight,Math.max(0,blh-borders[3].width),blv-borders[2].width).bottomLeft.subdivide(.5)}}function bezierCurve(start,startControl,endControl,end){var lerp=function(a,b,t){return{x:a.x+(b.x-a.x)*t,y:a.y+(b.y-a.y)*t}};return{start:start,startControl:startControl,endControl:endControl,end:end,subdivide:function(t){var ab=lerp(start,startControl,t),bc=lerp(startControl,endControl,t),cd=lerp(endControl,end,t),abbc=lerp(ab,bc,t),bccd=lerp(bc,cd,t),dest=lerp(abbc,bccd,t);return[bezierCurve(start,ab,abbc,dest),bezierCurve(dest,bccd,cd,end)]},curveTo:function(borderArgs){borderArgs.push(["bezierCurve",startControl.x,startControl.y,endControl.x,endControl.y,end.x,end.y])},curveToReversed:function(borderArgs){borderArgs.push(["bezierCurve",endControl.x,endControl.y,startControl.x,startControl.y,start.x,start.y])}}}function drawSide(borderData,radius1,radius2,outer1,inner1,outer2,inner2){var borderArgs=[];return radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",outer1[1].start.x,outer1[1].start.y]),outer1[1].curveTo(borderArgs)):borderArgs.push(["line",borderData.c1[0],borderData.c1[1]]),radius2[0]>0||radius2[1]>0?(borderArgs.push(["line",outer2[0].start.x,outer2[0].start.y]),outer2[0].curveTo(borderArgs),borderArgs.push(["line",inner2[0].end.x,inner2[0].end.y]),inner2[0].curveToReversed(borderArgs)):(borderArgs.push(["line",borderData.c2[0],borderData.c2[1]]),borderArgs.push(["line",borderData.c3[0],borderData.c3[1]])),radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",inner1[1].end.x,inner1[1].end.y]),inner1[1].curveToReversed(borderArgs)):borderArgs.push(["line",borderData.c4[0],borderData.c4[1]]),borderArgs}function parseCorner(borderArgs,radius1,radius2,corner1,corner2,x,y){radius1[0]>0||radius1[1]>0?(borderArgs.push(["line",corner1[0].start.x,corner1[0].start.y]),corner1[0].curveTo(borderArgs),corner1[1].curveTo(borderArgs)):borderArgs.push(["line",x,y]),(radius2[0]>0||radius2[1]>0)&&borderArgs.push(["line",corner2[0].start.x,corner2[0].start.y])}function negativeZIndex(container){return container.cssInt("zIndex")<0}function positiveZIndex(container){return container.cssInt("zIndex")>0}function zIndex0(container){return 0===container.cssInt("zIndex")}function inlineLevel(container){return-1!==["inline","inline-block","inline-table"].indexOf(container.css("display"))}function isStackingContext(container){return container instanceof StackingContext}function hasText(container){return container.node.data.trim().length>0}function renderableNode(node){return node.nodeType===Node.TEXT_NODE||node.nodeType===Node.ELEMENT_NODE}function isPositioned(container){return"static"!==container.css("position")}function isFloating(container){return"none"!==container.css("float")}function not(callback){var context=this;return function(){return!callback.apply(context,arguments)}}function isElement(container){return container.node.nodeType===Node.ELEMENT_NODE}function isPseudoElement(container){return!0===container.isPseudoElement}function isTextNode(container){return container.node.nodeType===Node.TEXT_NODE}function asInt(value){return parseInt(value,10)}function getWidth(border){return border.width}function nonIgnoredElement(nodeContainer){return nodeContainer.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(nodeContainer.node.nodeName)}function flatten(arrays){return[].concat.apply([],arrays)}function isWordBoundary(characterCode){return-1!==[32,13,10,9,45].indexOf(characterCode)}NodeParser.prototype.parseBorders=function(container){var nodeBounds=container.parseBounds(),radius=function(container){return["TopLeft","TopRight","BottomRight","BottomLeft"].map((function(side){var arr=container.css("border"+side+"Radius").split(" ");return arr.length<=1&&(arr[1]=arr[0]),arr.map(asInt)}))}(container),borders=["Top","Right","Bottom","Left"].map((function(side,index){var style=container.css("border"+side+"Style"),color=container.color("border"+side+"Color");"inset"===style&&color.isBlack()&&(color=new Color([255,255,255,color.a]));var colorTransform=borderColorTransforms[style]?borderColorTransforms[style][index]:null;return{width:container.cssInt("border"+side+"Width"),color:colorTransform?color[colorTransform[0]](colorTransform[1]):color,args:null}})),borderPoints=calculateCurvePoints(nodeBounds,radius,borders);return{clip:this.parseBackgroundClip(container,borderPoints,borders,radius,nodeBounds),borders:calculateBorders(borders,nodeBounds,borderPoints,radius)}},NodeParser.prototype.parseBackgroundClip=function(container,borderPoints,borders,radius,bounds){var borderArgs=[];switch(container.css("backgroundClip")){case"content-box":case"padding-box":parseCorner(borderArgs,radius[0],radius[1],borderPoints.topLeftInner,borderPoints.topRightInner,bounds.left+borders[3].width,bounds.top+borders[0].width),parseCorner(borderArgs,radius[1],radius[2],borderPoints.topRightInner,borderPoints.bottomRightInner,bounds.left+bounds.width-borders[1].width,bounds.top+borders[0].width),parseCorner(borderArgs,radius[2],radius[3],borderPoints.bottomRightInner,borderPoints.bottomLeftInner,bounds.left+bounds.width-borders[1].width,bounds.top+bounds.height-borders[2].width),parseCorner(borderArgs,radius[3],radius[0],borderPoints.bottomLeftInner,borderPoints.topLeftInner,bounds.left+borders[3].width,bounds.top+bounds.height-borders[2].width);break;default:parseCorner(borderArgs,radius[0],radius[1],borderPoints.topLeftOuter,borderPoints.topRightOuter,bounds.left,bounds.top),parseCorner(borderArgs,radius[1],radius[2],borderPoints.topRightOuter,borderPoints.bottomRightOuter,bounds.left+bounds.width,bounds.top),parseCorner(borderArgs,radius[2],radius[3],borderPoints.bottomRightOuter,borderPoints.bottomLeftOuter,bounds.left+bounds.width,bounds.top+bounds.height),parseCorner(borderArgs,radius[3],radius[0],borderPoints.bottomLeftOuter,borderPoints.topLeftOuter,bounds.left,bounds.top+bounds.height)}return borderArgs},module.exports=NodeParser},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(_dereq_,module,exports){var XHR=_dereq_("./xhr"),utils=_dereq_("./utils"),log=_dereq_("./log"),createWindowClone=_dereq_("./clone"),decode64=utils.decode64;function Proxy(src,proxyUrl,document){var supportsCORS="withCredentials"in new XMLHttpRequest;if(!proxyUrl)return Promise.reject("No proxy configured");var callback=createCallback(supportsCORS),url=createProxyUrl(proxyUrl,src,callback);return supportsCORS?XHR(url):jsonp(document,url,callback).then((function(response){return decode64(response.content)}))}var proxyCount=0;function jsonp(document,url,callback){return new Promise((function(resolve,reject){var s=document.createElement("script"),cleanup=function(){delete window.html2canvas.proxy[callback],document.body.removeChild(s)};window.html2canvas.proxy[callback]=function(response){cleanup(),resolve(response)},s.src=url,s.onerror=function(e){cleanup(),reject(e)},document.body.appendChild(s)}))}function createCallback(useCORS){return useCORS?"":"html2canvas_"+Date.now()+"_"+ ++proxyCount+"_"+Math.round(1e5*Math.random())}function createProxyUrl(proxyUrl,src,callback){return proxyUrl+"?url="+encodeURIComponent(src)+(callback.length?"&callback=html2canvas.proxy."+callback:"")}function documentFromHTML(src){return function(html){var doc,parser=new DOMParser;try{doc=parser.parseFromString(html,"text/html")}catch(e){log("DOMParser not supported, falling back to createHTMLDocument"),doc=document.implementation.createHTMLDocument("");try{doc.open(),doc.write(html),doc.close()}catch(ee){log("createHTMLDocument write not supported, falling back to document.body.innerHTML"),doc.body.innerHTML=html}}var b=doc.querySelector("base");if(!b||!b.href.host){var base=doc.createElement("base");base.href=src,doc.head.insertBefore(base,doc.head.firstChild)}return doc}}exports.Proxy=Proxy,exports.ProxyURL=function(src,proxyUrl,document){var supportsCORSImage="crossOrigin"in new Image,callback=createCallback(supportsCORSImage),url=createProxyUrl(proxyUrl,src,callback);return supportsCORSImage?Promise.resolve(url):jsonp(document,url,callback).then((function(response){return"data:"+response.type+";base64,"+response.content}))},exports.loadUrlDocument=function(src,proxy,document,width,height,options){return new Proxy(src,proxy,window.document).then(documentFromHTML(src)).then((function(doc){return createWindowClone(doc,document,width,height,options,0,0)}))}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(_dereq_,module,exports){var ProxyURL=_dereq_("./proxy").ProxyURL;module.exports=function(src,proxy){var link=document.createElement("a");link.href=src,src=link.href,this.src=src,this.image=new Image;var self=this;this.promise=new Promise((function(resolve,reject){self.image.crossOrigin="Anonymous",self.image.onload=resolve,self.image.onerror=reject,new ProxyURL(src,proxy,document).then((function(url){self.image.src=url})).catch(reject)}))}},{"./proxy":16}],18:[function(_dereq_,module,exports){var NodeContainer=_dereq_("./nodecontainer");function PseudoElementContainer(node,parent,type){NodeContainer.call(this,node,parent),this.isPseudoElement=!0,this.before=":before"===type}PseudoElementContainer.prototype.cloneTo=function(stack){PseudoElementContainer.prototype.cloneTo.call(this,stack),stack.isPseudoElement=!0,stack.before=this.before},PseudoElementContainer.prototype=Object.create(NodeContainer.prototype),PseudoElementContainer.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},PseudoElementContainer.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},PseudoElementContainer.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",module.exports=PseudoElementContainer},{"./nodecontainer":14}],19:[function(_dereq_,module,exports){var log=_dereq_("./log");function Renderer(width,height,images,options,document){this.width=width,this.height=height,this.images=images,this.options=options,this.document=document}Renderer.prototype.renderImage=function(container,bounds,borderData,imageContainer){var paddingLeft=container.cssInt("paddingLeft"),paddingTop=container.cssInt("paddingTop"),paddingRight=container.cssInt("paddingRight"),paddingBottom=container.cssInt("paddingBottom"),borders=borderData.borders,width=bounds.width-(borders[1].width+borders[3].width+paddingLeft+paddingRight),height=bounds.height-(borders[0].width+borders[2].width+paddingTop+paddingBottom);this.drawImage(imageContainer,0,0,imageContainer.image.width||width,imageContainer.image.height||height,bounds.left+paddingLeft+borders[3].width,bounds.top+paddingTop+borders[0].width,width,height)},Renderer.prototype.renderBackground=function(container,bounds,borderData){bounds.height>0&&bounds.width>0&&(this.renderBackgroundColor(container,bounds),this.renderBackgroundImage(container,bounds,borderData))},Renderer.prototype.renderBackgroundColor=function(container,bounds){var color=container.color("backgroundColor");color.isTransparent()||this.rectangle(bounds.left,bounds.top,bounds.width,bounds.height,color)},Renderer.prototype.renderBorders=function(borders){borders.forEach(this.renderBorder,this)},Renderer.prototype.renderBorder=function(data){data.color.isTransparent()||null===data.args||this.drawShape(data.args,data.color)},Renderer.prototype.renderBackgroundImage=function(container,bounds,borderData){container.parseBackgroundImages().reverse().forEach((function(backgroundImage,index,arr){switch(backgroundImage.method){case"url":var image=this.images.get(backgroundImage.args[0]);image?this.renderBackgroundRepeating(container,bounds,image,arr.length-(index+1),borderData):log("Error loading background-image",backgroundImage.args[0]);break;case"linear-gradient":case"gradient":var gradientImage=this.images.get(backgroundImage.value);gradientImage?this.renderBackgroundGradient(gradientImage,bounds,borderData):log("Error loading background-image",backgroundImage.args[0]);break;case"none":break;default:log("Unknown background-image type",backgroundImage.args[0])}}),this)},Renderer.prototype.renderBackgroundRepeating=function(container,bounds,imageContainer,index,borderData){var size=container.parseBackgroundSize(bounds,imageContainer.image,index),position=container.parseBackgroundPosition(bounds,imageContainer.image,index,size);switch(container.parseBackgroundRepeat(index)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+borderData[3],bounds.top+position.top+borderData[0],99999,size.height,borderData);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+position.left+borderData[3],bounds.top+borderData[0],size.width,99999,borderData);break;case"no-repeat":this.backgroundRepeatShape(imageContainer,position,size,bounds,bounds.left+position.left+borderData[3],bounds.top+position.top+borderData[0],size.width,size.height,borderData);break;default:this.renderBackgroundRepeat(imageContainer,position,size,{top:bounds.top,left:bounds.left},borderData[3],borderData[0])}},module.exports=Renderer},{"./log":13}],20:[function(_dereq_,module,exports){var Renderer=_dereq_("../renderer"),LinearGradientContainer=_dereq_("../lineargradientcontainer"),log=_dereq_("../log");function CanvasRenderer(width,height){Renderer.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=width,this.canvas.height=height),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},log("Initialized CanvasRenderer with size",width,"x",height)}function hasEntries(array){return array.length>0}CanvasRenderer.prototype=Object.create(Renderer.prototype),CanvasRenderer.prototype.setFillStyle=function(fillStyle){return this.ctx.fillStyle="object"===_typeof2(fillStyle)&&fillStyle.isColor?fillStyle.toString():fillStyle,this.ctx},CanvasRenderer.prototype.rectangle=function(left,top,width,height,color){this.setFillStyle(color).fillRect(left,top,width,height)},CanvasRenderer.prototype.circle=function(left,top,size,color){this.setFillStyle(color),this.ctx.beginPath(),this.ctx.arc(left+size/2,top+size/2,size/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},CanvasRenderer.prototype.circleStroke=function(left,top,size,color,stroke,strokeColor){this.circle(left,top,size,color),this.ctx.strokeStyle=strokeColor.toString(),this.ctx.stroke()},CanvasRenderer.prototype.drawShape=function(shape,color){this.shape(shape),this.setFillStyle(color).fill()},CanvasRenderer.prototype.taints=function(imageContainer){if(null===imageContainer.tainted){this.taintCtx.drawImage(imageContainer.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),imageContainer.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),imageContainer.tainted=!0}}return imageContainer.tainted},CanvasRenderer.prototype.drawImage=function(imageContainer,sx,sy,sw,sh,dx,dy,dw,dh){this.taints(imageContainer)&&!this.options.allowTaint||this.ctx.drawImage(imageContainer.image,sx,sy,sw,sh,dx,dy,dw,dh)},CanvasRenderer.prototype.clip=function(shapes,callback,context){this.ctx.save(),shapes.filter(hasEntries).forEach((function(shape){this.shape(shape).clip()}),this),callback.call(context),this.ctx.restore()},CanvasRenderer.prototype.shape=function(shape){return this.ctx.beginPath(),shape.forEach((function(point,index){"rect"===point[0]?this.ctx.rect.apply(this.ctx,point.slice(1)):this.ctx[0===index?"moveTo":point[0]+"To"].apply(this.ctx,point.slice(1))}),this),this.ctx.closePath(),this.ctx},CanvasRenderer.prototype.font=function(color,style,variant,weight,size,family){this.setFillStyle(color).font=[style,variant,weight,size,family].join(" ").split(",")[0]},CanvasRenderer.prototype.fontShadow=function(color,offsetX,offsetY,blur){this.setVariable("shadowColor",color.toString()).setVariable("shadowOffsetY",offsetX).setVariable("shadowOffsetX",offsetY).setVariable("shadowBlur",blur)},CanvasRenderer.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},CanvasRenderer.prototype.setOpacity=function(opacity){this.ctx.globalAlpha=opacity},CanvasRenderer.prototype.setTransform=function(transform){this.ctx.translate(transform.origin[0],transform.origin[1]),this.ctx.transform.apply(this.ctx,transform.matrix),this.ctx.translate(-transform.origin[0],-transform.origin[1])},CanvasRenderer.prototype.setVariable=function(property,value){return this.variables[property]!==value&&(this.variables[property]=this.ctx[property]=value),this},CanvasRenderer.prototype.text=function(text,left,bottom){this.ctx.fillText(text,left,bottom)},CanvasRenderer.prototype.backgroundRepeatShape=function(imageContainer,backgroundPosition,size,bounds,left,top,width,height,borderData){var shape=[["line",Math.round(left),Math.round(top)],["line",Math.round(left+width),Math.round(top)],["line",Math.round(left+width),Math.round(height+top)],["line",Math.round(left),Math.round(height+top)]];this.clip([shape],(function(){this.renderBackgroundRepeat(imageContainer,backgroundPosition,size,bounds,borderData[3],borderData[0])}),this)},CanvasRenderer.prototype.renderBackgroundRepeat=function(imageContainer,backgroundPosition,size,bounds,borderLeft,borderTop){var offsetX=Math.round(bounds.left+backgroundPosition.left+borderLeft),offsetY=Math.round(bounds.top+backgroundPosition.top+borderTop);this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer,size),"repeat")),this.ctx.translate(offsetX,offsetY),this.ctx.fill(),this.ctx.translate(-offsetX,-offsetY)},CanvasRenderer.prototype.renderBackgroundGradient=function(gradientImage,bounds){if(gradientImage instanceof LinearGradientContainer){var gradient=this.ctx.createLinearGradient(bounds.left+bounds.width*gradientImage.x0,bounds.top+bounds.height*gradientImage.y0,bounds.left+bounds.width*gradientImage.x1,bounds.top+bounds.height*gradientImage.y1);gradientImage.colorStops.forEach((function(colorStop){gradient.addColorStop(colorStop.stop,colorStop.color.toString())})),this.rectangle(bounds.left,bounds.top,bounds.width,bounds.height,gradient)}},CanvasRenderer.prototype.resizeImage=function(imageContainer,size){var image=imageContainer.image;if(image.width===size.width&&image.height===size.height)return image;var canvas=document.createElement("canvas");return canvas.width=size.width,canvas.height=size.height,canvas.getContext("2d").drawImage(image,0,0,image.width,image.height,0,0,size.width,size.height),canvas},module.exports=CanvasRenderer},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(_dereq_,module,exports){var NodeContainer=_dereq_("./nodecontainer");function StackingContext(hasOwnStacking,opacity,element,parent){NodeContainer.call(this,element,parent),this.ownStacking=hasOwnStacking,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*opacity}StackingContext.prototype=Object.create(NodeContainer.prototype),StackingContext.prototype.getParentStack=function(context){var parentStack=this.parent?this.parent.stack:null;return parentStack?parentStack.ownStacking?parentStack:parentStack.getParentStack(context):context.stack},module.exports=StackingContext},{"./nodecontainer":14}],22:[function(_dereq_,module,exports){function Support(document){this.rangeBounds=this.testRangeBounds(document),this.cors=this.testCORS(),this.svg=this.testSVG()}Support.prototype.testRangeBounds=function(document){var range,testElement,support=!1;return document.createRange&&(range=document.createRange()).getBoundingClientRect&&((testElement=document.createElement("boundtest")).style.height="123px",testElement.style.display="block",document.body.appendChild(testElement),range.selectNode(testElement),123===range.getBoundingClientRect().height&&(support=!0),document.body.removeChild(testElement)),support},Support.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},Support.prototype.testSVG=function(){var img=new Image,canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");img.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{ctx.drawImage(img,0,0),canvas.toDataURL()}catch(e){return!1}return!0},module.exports=Support},{}],23:[function(_dereq_,module,exports){var XHR=_dereq_("./xhr"),decode64=_dereq_("./utils").decode64;function SVGContainer(src){this.src=src,this.image=null;var self=this;this.promise=this.hasFabric().then((function(){return self.isInline(src)?Promise.resolve(self.inlineFormatting(src)):XHR(src)})).then((function(svg){return new Promise((function(resolve){window.html2canvas.svg.fabric.loadSVGFromString(svg,self.createCanvas.call(self,resolve))}))}))}SVGContainer.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},SVGContainer.prototype.inlineFormatting=function(src){return/^data:image\/svg\+xml;base64,/.test(src)?this.decode64(this.removeContentType(src)):this.removeContentType(src)},SVGContainer.prototype.removeContentType=function(src){return src.replace(/^data:image\/svg\+xml(;base64)?,/,"")},SVGContainer.prototype.isInline=function(src){return/^data:image\/svg\+xml/i.test(src)},SVGContainer.prototype.createCanvas=function(resolve){var self=this;return function(objects,options){var canvas=new window.html2canvas.svg.fabric.StaticCanvas("c");self.image=canvas.lowerCanvasEl,canvas.setWidth(options.width).setHeight(options.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(objects,options)).renderAll(),resolve(canvas.lowerCanvasEl)}},SVGContainer.prototype.decode64=function(str){return"function"==typeof window.atob?window.atob(str):decode64(str)},module.exports=SVGContainer},{"./utils":26,"./xhr":28}],24:[function(_dereq_,module,exports){var SVGContainer=_dereq_("./svgcontainer");function SVGNodeContainer(node,_native){this.src=node,this.image=null;var self=this;this.promise=_native?new Promise((function(resolve,reject){self.image=new Image,self.image.onload=resolve,self.image.onerror=reject,self.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(node),!0===self.image.complete&&resolve(self.image)})):this.hasFabric().then((function(){return new Promise((function(resolve){window.html2canvas.svg.fabric.parseSVGDocument(node,self.createCanvas.call(self,resolve))}))}))}SVGNodeContainer.prototype=Object.create(SVGContainer.prototype),module.exports=SVGNodeContainer},{"./svgcontainer":23}],25:[function(_dereq_,module,exports){var NodeContainer=_dereq_("./nodecontainer");function TextContainer(node,parent){NodeContainer.call(this,node,parent)}function capitalize(m,p1,p2){if(m.length>0)return p1+p2.toUpperCase()}TextContainer.prototype=Object.create(NodeContainer.prototype),TextContainer.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},TextContainer.prototype.transform=function(transform){var text=this.node.data;switch(transform){case"lowercase":return text.toLowerCase();case"capitalize":return text.replace(/(^|\s|:|-|\(|\))([a-z])/g,capitalize);case"uppercase":return text.toUpperCase();default:return text}},module.exports=TextContainer},{"./nodecontainer":14}],26:[function(_dereq_,module,exports){exports.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},exports.bind=function(callback,context){return function(){return callback.apply(context,arguments)}},exports.decode64=function(base64){var i,encoded2,encoded3,encoded4,byte1,byte2,byte3,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",len=base64.length,output="";for(i=0;i<len;i+=4)byte1=chars.indexOf(base64[i])<<2|(encoded2=chars.indexOf(base64[i+1]))>>4,byte2=(15&encoded2)<<4|(encoded3=chars.indexOf(base64[i+2]))>>2,byte3=(3&encoded3)<<6|(encoded4=chars.indexOf(base64[i+3])),output+=64===encoded3?String.fromCharCode(byte1):64===encoded4||-1===encoded4?String.fromCharCode(byte1,byte2):String.fromCharCode(byte1,byte2,byte3);return output},exports.getBounds=function(node){if(node.getBoundingClientRect){var clientRect=node.getBoundingClientRect(),width=null==node.offsetWidth?clientRect.width:node.offsetWidth;return{top:clientRect.top,bottom:clientRect.bottom||clientRect.top+clientRect.height,right:clientRect.left+width,left:clientRect.left,width:width,height:null==node.offsetHeight?clientRect.height:node.offsetHeight}}return{}},exports.offsetBounds=function(node){var parent=node.offsetParent?exports.offsetBounds(node.offsetParent):{top:0,left:0};return{top:node.offsetTop+parent.top,bottom:node.offsetTop+node.offsetHeight+parent.top,right:node.offsetLeft+parent.left+node.offsetWidth,left:node.offsetLeft+parent.left,width:node.offsetWidth,height:node.offsetHeight}},exports.parseBackgrounds=function(backgroundImage){var method,definition,prefix,prefix_i,block,quote,args,results=[],mode=0,numParen=0,appendResult=function(){method&&('"'===definition.substr(0,1)&&(definition=definition.substr(1,definition.length-2)),definition&&args.push(definition),"-"===method.substr(0,1)&&(prefix_i=method.indexOf("-",1)+1)>0&&(prefix=method.substr(0,prefix_i),method=method.substr(prefix_i)),results.push({prefix:prefix,method:method.toLowerCase(),value:block,args:args,image:null})),args=[],method=prefix=definition=block=""};return args=[],method=prefix=definition=block="",backgroundImage.split("").forEach((function(c){if(!(0===mode&&" \r\n\t".indexOf(c)>-1)){switch(c){case'"':quote?quote===c&&(quote=null):quote=c;break;case"(":if(quote)break;if(0===mode)return mode=1,void(block+=c);numParen++;break;case")":if(quote)break;if(1===mode){if(0===numParen)return mode=0,block+=c,void appendResult();numParen--}break;case",":if(quote)break;if(0===mode)return void appendResult();if(1===mode&&0===numParen&&!method.match(/^url$/i))return args.push(definition),definition="",void(block+=c)}block+=c,0===mode?method+=c:definition+=c}})),appendResult(),results}},{}],27:[function(_dereq_,module,exports){var GradientContainer=_dereq_("./gradientcontainer");function WebkitGradientContainer(imageData){GradientContainer.apply(this,arguments),this.type="linear"===imageData.args[0]?GradientContainer.TYPES.LINEAR:GradientContainer.TYPES.RADIAL}WebkitGradientContainer.prototype=Object.create(GradientContainer.prototype),module.exports=WebkitGradientContainer},{"./gradientcontainer":9}],28:[function(_dereq_,module,exports){module.exports=function(url){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.onload=function(){200===xhr.status?resolve(xhr.responseText):reject(new Error(xhr.statusText))},xhr.onerror=function(){reject(new Error("Network Error"))},xhr.send()}))}},{}]},{},[4])(4)})),function(jsPDF){var PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0),decode=function(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:code<NUMBER?-1:code<NUMBER+10?code-NUMBER+26+26:code<UPPER+26?code-UPPER:code<LOWER+26?code-LOWER+26:void 0};jsPDF.API.TTFFont=function(){function TTFFont(rawData,name,encoding){var data;if(this.rawData=rawData,data=this.contents=new Data(rawData),this.contents.pos=4,"ttcf"===data.readString(4)){if(!name)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+name+" not found in TTC file.")}data.pos=0,this.parse(),this.subset=new Subset(this),this.registerTTF()}return TTFFont.open=function(filename,name,vfs,encoding){return new TTFFont(function(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Uint8Array(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3)push((16711680&(tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3))))>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?push(255&(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4)):1===placeHolders&&(push((tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2)>>8&255),push(255&tmp)),arr}(vfs),name,encoding)},TTFFont.prototype.parse=function(){return this.directory=new Directory(this.contents),this.head=new HeadTable(this),this.name=new NameTable(this),this.cmap=new CmapTable(this),this.hhea=new HheaTable(this),this.maxp=new MaxpTable(this),this.hmtx=new HmtxTable(this),this.post=new PostTable(this),this.os2=new OS2Table(this),this.loca=new LocaTable(this),this.glyf=new GlyfTable(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},TTFFont.prototype.registerTTF=function(){var e,hi,low,raw,_ref;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var _i,_len,_ref,_results;for(_results=[],_i=0,_len=(_ref=this.bbox).length;_i<_len;_i++)e=_ref[_i],_results.push(Math.round(e*this.scaleFactor));return _results}.call(this),this.stemV=0,this.post.exists?(low=255&(raw=this.post.italic_angle),!0&(hi=raw>>16)&&(hi=-(1+(65535^hi))),this.italicAngle=+(hi+"."+low)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(_ref=this.familyClass)||2===_ref||3===_ref||4===_ref||5===_ref||7===_ref,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},TTFFont.prototype.characterToGlyph=function(character){var _ref;return(null!=(_ref=this.cmap.unicode)?_ref.codeMap[character]:void 0)||0},TTFFont.prototype.widthOfGlyph=function(glyph){var scale;return scale=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(glyph).advance*scale},TTFFont.prototype.widthOfString=function(string,size,charSpace){var charCode,i,width,_i,_ref;for(width=0,i=_i=0,_ref=(string=""+string).length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i)charCode=string.charCodeAt(i),width+=this.widthOfGlyph(this.characterToGlyph(charCode))+charSpace*(1e3/size)||0;return width*(size/1e3)},TTFFont.prototype.lineHeight=function(size,includeGap){var gap;return null==includeGap&&(includeGap=!1),gap=includeGap?this.lineGap:0,(this.ascender+gap-this.decender)/1e3*size},TTFFont}();var Table,Data=function(){function Data(data){this.data=null!=data?data:[],this.pos=0,this.length=this.data.length}return Data.prototype.readByte=function(){return this.data[this.pos++]},Data.prototype.writeByte=function(byte){return this.data[this.pos++]=byte},Data.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Data.prototype.writeUInt32=function(val){return this.writeByte(val>>>24&255),this.writeByte(val>>16&255),this.writeByte(val>>8&255),this.writeByte(255&val)},Data.prototype.readInt32=function(){var int;return(int=this.readUInt32())>=2147483648?int-4294967296:int},Data.prototype.writeInt32=function(val){return val<0&&(val+=4294967296),this.writeUInt32(val)},Data.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Data.prototype.writeUInt16=function(val){return this.writeByte(val>>8&255),this.writeByte(255&val)},Data.prototype.readInt16=function(){var int;return(int=this.readUInt16())>=32768?int-65536:int},Data.prototype.writeInt16=function(val){return val<0&&(val+=65536),this.writeUInt16(val)},Data.prototype.readString=function(length){var i,ret,_i;for(ret=[],i=_i=0;0<=length?_i<length:_i>length;i=0<=length?++_i:--_i)ret[i]=String.fromCharCode(this.readByte());return ret.join("")},Data.prototype.writeString=function(val){var i,_i,_ref,_results;for(_results=[],i=_i=0,_ref=val.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i)_results.push(this.writeByte(val.charCodeAt(i)));return _results},Data.prototype.readShort=function(){return this.readInt16()},Data.prototype.writeShort=function(val){return this.writeInt16(val)},Data.prototype.readLongLong=function(){var b1,b2,b3,b4,b5,b6,b7,b8;return b1=this.readByte(),b2=this.readByte(),b3=this.readByte(),b4=this.readByte(),b5=this.readByte(),b6=this.readByte(),b7=this.readByte(),b8=this.readByte(),128&b1?-1*(72057594037927940*(255^b1)+281474976710656*(255^b2)+1099511627776*(255^b3)+4294967296*(255^b4)+16777216*(255^b5)+65536*(255^b6)+256*(255^b7)+(255^b8)+1):72057594037927940*b1+281474976710656*b2+1099511627776*b3+4294967296*b4+16777216*b5+65536*b6+256*b7+b8},Data.prototype.readInt=function(){return this.readInt32()},Data.prototype.writeInt=function(val){return this.writeInt32(val)},Data.prototype.read=function(bytes){var buf,_i;for(buf=[],_i=0;0<=bytes?_i<bytes:_i>bytes;0<=bytes?++_i:--_i)buf.push(this.readByte());return buf},Data.prototype.write=function(bytes){var byte,_i,_len,_results;for(_results=[],_i=0,_len=bytes.length;_i<_len;_i++)byte=bytes[_i],_results.push(this.writeByte(byte));return _results},Data}(),Directory=function(){var checksum;function Directory(data){var entry,_i,_ref;for(this.scalarType=data.readInt(),this.tableCount=data.readShort(),this.searchRange=data.readShort(),this.entrySelector=data.readShort(),this.rangeShift=data.readShort(),this.tables={},_i=0,_ref=this.tableCount;0<=_ref?_i<_ref:_i>_ref;0<=_ref?++_i:--_i)entry={tag:data.readString(4),checksum:data.readInt(),offset:data.readInt(),length:data.readInt()},this.tables[entry.tag]=entry}return Directory.prototype.encode=function(tables){var adjustment,directory,directoryLength,entrySelector,headOffset,log2,offset,rangeShift,searchRange,table,tableCount,tableData,tag;for(tag in tableCount=Object.keys(tables).length,log2=Math.log(2),searchRange=16*Math.floor(Math.log(tableCount)/log2),entrySelector=Math.floor(searchRange/log2),rangeShift=16*tableCount-searchRange,(directory=new Data).writeInt(this.scalarType),directory.writeShort(tableCount),directory.writeShort(searchRange),directory.writeShort(entrySelector),directory.writeShort(rangeShift),directoryLength=16*tableCount,offset=directory.pos+directoryLength,headOffset=null,tableData=[],tables)for(table=tables[tag],directory.writeString(tag),directory.writeInt(checksum(table)),directory.writeInt(offset),directory.writeInt(table.length),tableData=tableData.concat(table),"head"===tag&&(headOffset=offset),offset+=table.length;offset%4;)tableData.push(0),offset++;return directory.write(tableData),adjustment=2981146554-checksum(directory.data),directory.pos=headOffset+8,directory.writeUInt32(adjustment),directory.data},checksum=function(data){var sum,tmp,_i,_ref;for(data=__slice.call(data);data.length%4;)data.push(0);for(tmp=new Data(data),sum=0,_i=0,_ref=data.length;_i<_ref;_i+=4)sum+=tmp.readUInt32();return 4294967295&sum},Directory}(),__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},HeadTable=function(_super){function HeadTable(){return HeadTable.__super__.constructor.apply(this,arguments)}return __extends(HeadTable,_super),HeadTable.prototype.tag="head",HeadTable.prototype.parse=function(data){return data.pos=this.offset,this.version=data.readInt(),this.revision=data.readInt(),this.checkSumAdjustment=data.readInt(),this.magicNumber=data.readInt(),this.flags=data.readShort(),this.unitsPerEm=data.readShort(),this.created=data.readLongLong(),this.modified=data.readLongLong(),this.xMin=data.readShort(),this.yMin=data.readShort(),this.xMax=data.readShort(),this.yMax=data.readShort(),this.macStyle=data.readShort(),this.lowestRecPPEM=data.readShort(),this.fontDirectionHint=data.readShort(),this.indexToLocFormat=data.readShort(),this.glyphDataFormat=data.readShort()},HeadTable}(Table=function(){function Table(file){var info;this.file=file,info=this.file.directory.tables[this.tag],this.exists=!!info,info&&(this.offset=info.offset,this.length=info.length,this.parse(this.file.contents))}return Table.prototype.parse=function(){},Table.prototype.encode=function(){},Table.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Table}()),CmapEntry=function(){function CmapEntry(data,offset){var code,count,endCode,glyphId,glyphIds,i,idDelta,idRangeOffset,saveOffset,segCount,segCountX2,start,startCode,tail,_i,_j,_k,_len;switch(this.platformID=data.readUInt16(),this.encodingID=data.readShort(),this.offset=offset+data.readInt(),saveOffset=data.pos,data.pos=this.offset,this.format=data.readUInt16(),this.length=data.readUInt16(),this.language=data.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(i=_i=0;_i<256;i=++_i)this.codeMap[i]=data.readByte();break;case 4:for(segCountX2=data.readUInt16(),segCount=segCountX2/2,data.pos+=6,endCode=function(){var _j,_results;for(_results=[],i=_j=0;0<=segCount?_j<segCount:_j>segCount;i=0<=segCount?++_j:--_j)_results.push(data.readUInt16());return _results}(),data.pos+=2,startCode=function(){var _j,_results;for(_results=[],i=_j=0;0<=segCount?_j<segCount:_j>segCount;i=0<=segCount?++_j:--_j)_results.push(data.readUInt16());return _results}(),idDelta=function(){var _j,_results;for(_results=[],i=_j=0;0<=segCount?_j<segCount:_j>segCount;i=0<=segCount?++_j:--_j)_results.push(data.readUInt16());return _results}(),idRangeOffset=function(){var _j,_results;for(_results=[],i=_j=0;0<=segCount?_j<segCount:_j>segCount;i=0<=segCount?++_j:--_j)_results.push(data.readUInt16());return _results}(),count=(this.length-data.pos+this.offset)/2,glyphIds=function(){var _j,_results;for(_results=[],i=_j=0;0<=count?_j<count:_j>count;i=0<=count?++_j:--_j)_results.push(data.readUInt16());return _results}(),i=_j=0,_len=endCode.length;_j<_len;i=++_j)for(tail=endCode[i],code=_k=start=startCode[i];start<=tail?_k<=tail:_k>=tail;code=start<=tail?++_k:--_k)0===idRangeOffset[i]?glyphId=code+idDelta[i]:0!==(glyphId=glyphIds[idRangeOffset[i]/2+(code-start)-(segCount-i)]||0)&&(glyphId+=idDelta[i]),this.codeMap[code]=65535&glyphId}data.pos=saveOffset}return CmapEntry.encode=function(charmap,encoding){var charMap,code,codeMap,codes,delta,deltas,diff,endCode,endCodes,entrySelector,glyphIDs,i,id,indexes,last,map,nextID,offset,old,rangeOffsets,rangeShift,searchRange,segCount,segCountX2,startCode,startCodes,startGlyph,subtable,_i,_j,_k,_l,_len,_len1,_len2,_len3,_len4,_len5,_len6,_len7,_m,_n,_name,_o,_p,_q;switch(subtable=new Data,codes=Object.keys(charmap).sort((function(a,b){return a-b})),encoding){case"macroman":for(id=0,indexes=function(){var _i,_results;for(_results=[],i=_i=0;_i<256;i=++_i)_results.push(0);return _results}(),map={0:0},codeMap={},_i=0,_len=codes.length;_i<_len;_i++)null==map[_name=charmap[code=codes[_i]]]&&(map[_name]=++id),codeMap[code]={old:charmap[code],new:map[charmap[code]]},indexes[code]=map[charmap[code]];return subtable.writeUInt16(1),subtable.writeUInt16(0),subtable.writeUInt32(12),subtable.writeUInt16(0),subtable.writeUInt16(262),subtable.writeUInt16(0),subtable.write(indexes),{charMap:codeMap,subtable:subtable.data,maxGlyphID:id+1};case"unicode":for(startCodes=[],endCodes=[],nextID=0,map={},charMap={},last=diff=null,_j=0,_len1=codes.length;_j<_len1;_j++)null==map[old=charmap[code=codes[_j]]]&&(map[old]=++nextID),charMap[code]={old:old,new:map[old]},delta=map[old]-code,null!=last&&delta===diff||(last&&endCodes.push(last),startCodes.push(code),diff=delta),last=code;for(last&&endCodes.push(last),endCodes.push(65535),startCodes.push(65535),segCountX2=2*(segCount=startCodes.length),searchRange=2*Math.pow(Math.log(segCount)/Math.LN2,2),entrySelector=Math.log(searchRange/2)/Math.LN2,rangeShift=2*segCount-searchRange,deltas=[],rangeOffsets=[],glyphIDs=[],i=_k=0,_len2=startCodes.length;_k<_len2;i=++_k){if(startCode=startCodes[i],endCode=endCodes[i],65535===startCode){deltas.push(0),rangeOffsets.push(0);break}if(startCode-(startGlyph=charMap[startCode].new)>=32768)for(deltas.push(0),rangeOffsets.push(2*(glyphIDs.length+segCount-i)),code=_l=startCode;startCode<=endCode?_l<=endCode:_l>=endCode;code=startCode<=endCode?++_l:--_l)glyphIDs.push(charMap[code].new);else deltas.push(startGlyph-startCode),rangeOffsets.push(0)}for(subtable.writeUInt16(3),subtable.writeUInt16(1),subtable.writeUInt32(12),subtable.writeUInt16(4),subtable.writeUInt16(16+8*segCount+2*glyphIDs.length),subtable.writeUInt16(0),subtable.writeUInt16(segCountX2),subtable.writeUInt16(searchRange),subtable.writeUInt16(entrySelector),subtable.writeUInt16(rangeShift),_m=0,_len3=endCodes.length;_m<_len3;_m++)code=endCodes[_m],subtable.writeUInt16(code);for(subtable.writeUInt16(0),_n=0,_len4=startCodes.length;_n<_len4;_n++)code=startCodes[_n],subtable.writeUInt16(code);for(_o=0,_len5=deltas.length;_o<_len5;_o++)delta=deltas[_o],subtable.writeUInt16(delta);for(_p=0,_len6=rangeOffsets.length;_p<_len6;_p++)offset=rangeOffsets[_p],subtable.writeUInt16(offset);for(_q=0,_len7=glyphIDs.length;_q<_len7;_q++)id=glyphIDs[_q],subtable.writeUInt16(id);return{charMap:charMap,subtable:subtable.data,maxGlyphID:nextID+1}}},CmapEntry}(),CmapTable=function(_super){function CmapTable(){return CmapTable.__super__.constructor.apply(this,arguments)}return __extends(CmapTable,_super),CmapTable.prototype.tag="cmap",CmapTable.prototype.parse=function(data){var entry,tableCount,_i;for(data.pos=this.offset,this.version=data.readUInt16(),tableCount=data.readUInt16(),this.tables=[],this.unicode=null,_i=0;0<=tableCount?_i<tableCount:_i>tableCount;0<=tableCount?++_i:--_i)entry=new CmapEntry(data,this.offset),this.tables.push(entry),entry.isUnicode&&null==this.unicode&&(this.unicode=entry);return!0},CmapTable.encode=function(charmap,encoding){var result,table;return null==encoding&&(encoding="macroman"),result=CmapEntry.encode(charmap,encoding),(table=new Data).writeUInt16(0),table.writeUInt16(1),result.table=table.data.concat(result.subtable),result},CmapTable}(Table),HheaTable=function(_super){function HheaTable(){return HheaTable.__super__.constructor.apply(this,arguments)}return __extends(HheaTable,_super),HheaTable.prototype.tag="hhea",HheaTable.prototype.parse=function(data){return data.pos=this.offset,this.version=data.readInt(),this.ascender=data.readShort(),this.decender=data.readShort(),this.lineGap=data.readShort(),this.advanceWidthMax=data.readShort(),this.minLeftSideBearing=data.readShort(),this.minRightSideBearing=data.readShort(),this.xMaxExtent=data.readShort(),this.caretSlopeRise=data.readShort(),this.caretSlopeRun=data.readShort(),this.caretOffset=data.readShort(),data.pos+=8,this.metricDataFormat=data.readShort(),this.numberOfMetrics=data.readUInt16()},HheaTable}(Table),OS2Table=function(_super){function OS2Table(){return OS2Table.__super__.constructor.apply(this,arguments)}return __extends(OS2Table,_super),OS2Table.prototype.tag="OS/2",OS2Table.prototype.parse=function(data){if(data.pos=this.offset,this.version=data.readUInt16(),this.averageCharWidth=data.readShort(),this.weightClass=data.readUInt16(),this.widthClass=data.readUInt16(),this.type=data.readShort(),this.ySubscriptXSize=data.readShort(),this.ySubscriptYSize=data.readShort(),this.ySubscriptXOffset=data.readShort(),this.ySubscriptYOffset=data.readShort(),this.ySuperscriptXSize=data.readShort(),this.ySuperscriptYSize=data.readShort(),this.ySuperscriptXOffset=data.readShort(),this.ySuperscriptYOffset=data.readShort(),this.yStrikeoutSize=data.readShort(),this.yStrikeoutPosition=data.readShort(),this.familyClass=data.readShort(),this.panose=function(){var _i,_results;for(_results=[],_i=0;_i<10;++_i)_results.push(data.readByte());return _results}(),this.charRange=function(){var _i,_results;for(_results=[],_i=0;_i<4;++_i)_results.push(data.readInt());return _results}(),this.vendorID=data.readString(4),this.selection=data.readShort(),this.firstCharIndex=data.readShort(),this.lastCharIndex=data.readShort(),this.version>0&&(this.ascent=data.readShort(),this.descent=data.readShort(),this.lineGap=data.readShort(),this.winAscent=data.readShort(),this.winDescent=data.readShort(),this.codePageRange=function(){var _i,_results;for(_results=[],_i=0;_i<2;++_i)_results.push(data.readInt());return _results}(),this.version>1))return this.xHeight=data.readShort(),this.capHeight=data.readShort(),this.defaultChar=data.readShort(),this.breakChar=data.readShort(),this.maxContext=data.readShort()},OS2Table}(Table),PostTable=function(_super){function PostTable(){return PostTable.__super__.constructor.apply(this,arguments)}return __extends(PostTable,_super),PostTable.prototype.tag="post",PostTable.prototype.parse=function(data){var length,numberOfGlyphs,_i,_results;switch(data.pos=this.offset,this.format=data.readInt(),this.italicAngle=data.readInt(),this.underlinePosition=data.readShort(),this.underlineThickness=data.readShort(),this.isFixedPitch=data.readInt(),this.minMemType42=data.readInt(),this.maxMemType42=data.readInt(),this.minMemType1=data.readInt(),this.maxMemType1=data.readInt(),this.format){case 65536:case 196608:break;case 131072:for(numberOfGlyphs=data.readUInt16(),this.glyphNameIndex=[],_i=0;0<=numberOfGlyphs?_i<numberOfGlyphs:_i>numberOfGlyphs;0<=numberOfGlyphs?++_i:--_i)this.glyphNameIndex.push(data.readUInt16());for(this.names=[],_results=[];data.pos<this.offset+this.length;)length=data.readByte(),_results.push(this.names.push(data.readString(length)));return _results;case 151552:return numberOfGlyphs=data.readUInt16(),this.offsets=data.read(numberOfGlyphs);case 262144:return this.map=function(){var _j,_ref,_results1;for(_results1=[],_j=0,_ref=this.file.maxp.numGlyphs;0<=_ref?_j<_ref:_j>_ref;0<=_ref?++_j:--_j)_results1.push(data.readUInt32());return _results1}.call(this)}},PostTable}(Table),NameEntry=function(raw,entry){this.raw=raw,this.length=raw.length,this.platformID=entry.platformID,this.encodingID=entry.encodingID,this.languageID=entry.languageID},NameTable=function(_super){function NameTable(){return NameTable.__super__.constructor.apply(this,arguments)}return __extends(NameTable,_super),NameTable.prototype.tag="name",NameTable.prototype.parse=function(data){var count,entries,entry,i,name,stringOffset,strings,text,_i,_j,_len,_name;for(data.pos=this.offset,data.readShort(),count=data.readShort(),stringOffset=data.readShort(),entries=[],i=_i=0;0<=count?_i<count:_i>count;i=0<=count?++_i:--_i)entries.push({platformID:data.readShort(),encodingID:data.readShort(),languageID:data.readShort(),nameID:data.readShort(),length:data.readShort(),offset:this.offset+stringOffset+data.readShort()});for(strings={},i=_j=0,_len=entries.length;_j<_len;i=++_j)entry=entries[i],data.pos=entry.offset,text=data.readString(entry.length),name=new NameEntry(text,entry),null==strings[_name=entry.nameID]&&(strings[_name]=[]),strings[entry.nameID].push(name);return this.strings=strings,this.copyright=strings[0],this.fontFamily=strings[1],this.fontSubfamily=strings[2],this.uniqueSubfamily=strings[3],this.fontName=strings[4],this.version=strings[5],this.postscriptName=strings[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,""),this.trademark=strings[7],this.manufacturer=strings[8],this.designer=strings[9],this.description=strings[10],this.vendorUrl=strings[11],this.designerUrl=strings[12],this.license=strings[13],this.licenseUrl=strings[14],this.preferredFamily=strings[15],this.preferredSubfamily=strings[17],this.compatibleFull=strings[18],this.sampleText=strings[19]},NameTable}(Table),MaxpTable=function(_super){function MaxpTable(){return MaxpTable.__super__.constructor.apply(this,arguments)}return __extends(MaxpTable,_super),MaxpTable.prototype.tag="maxp",MaxpTable.prototype.parse=function(data){return data.pos=this.offset,this.version=data.readInt(),this.numGlyphs=data.readUInt16(),this.maxPoints=data.readUInt16(),this.maxContours=data.readUInt16(),this.maxCompositePoints=data.readUInt16(),this.maxComponentContours=data.readUInt16(),this.maxZones=data.readUInt16(),this.maxTwilightPoints=data.readUInt16(),this.maxStorage=data.readUInt16(),this.maxFunctionDefs=data.readUInt16(),this.maxInstructionDefs=data.readUInt16(),this.maxStackElements=data.readUInt16(),this.maxSizeOfInstructions=data.readUInt16(),this.maxComponentElements=data.readUInt16(),this.maxComponentDepth=data.readUInt16()},MaxpTable}(Table),HmtxTable=function(_super){function HmtxTable(){return HmtxTable.__super__.constructor.apply(this,arguments)}return __extends(HmtxTable,_super),HmtxTable.prototype.tag="hmtx",HmtxTable.prototype.parse=function(data){var last,lsbCount,m,_i,_j,_ref,_results;for(data.pos=this.offset,this.metrics=[],_i=0,_ref=this.file.hhea.numberOfMetrics;0<=_ref?_i<_ref:_i>_ref;0<=_ref?++_i:--_i)this.metrics.push({advance:data.readUInt16(),lsb:data.readInt16()});for(lsbCount=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _j,_results;for(_results=[],_j=0;0<=lsbCount?_j<lsbCount:_j>lsbCount;0<=lsbCount?++_j:--_j)_results.push(data.readInt16());return _results}(),this.widths=function(){var _j,_len,_ref1,_results;for(_results=[],_j=0,_len=(_ref1=this.metrics).length;_j<_len;_j++)m=_ref1[_j],_results.push(m.advance);return _results}.call(this),last=this.widths[this.widths.length-1],_results=[],_j=0;0<=lsbCount?_j<lsbCount:_j>lsbCount;0<=lsbCount?++_j:--_j)_results.push(this.widths.push(last));return _results},HmtxTable.prototype.forGlyph=function(id){return id in this.metrics?this.metrics[id]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[id-this.metrics.length]}},HmtxTable}(Table),__slice=[].slice,GlyfTable=function(_super){function GlyfTable(){return GlyfTable.__super__.constructor.apply(this,arguments)}return __extends(GlyfTable,_super),GlyfTable.prototype.tag="glyf",GlyfTable.prototype.parse=function(data){return this.cache={}},GlyfTable.prototype.glyphFor=function(id){var data,index,length,loca,numberOfContours,raw,xMax,xMin,yMax,yMin;return(id=id)in this.cache?this.cache[id]:(loca=this.file.loca,data=this.file.contents,index=loca.indexOf(id),0===(length=loca.lengthOf(id))?this.cache[id]=null:(data.pos=this.offset+index,numberOfContours=(raw=new Data(data.read(length))).readShort(),xMin=raw.readShort(),yMin=raw.readShort(),xMax=raw.readShort(),yMax=raw.readShort(),this.cache[id]=-1===numberOfContours?new CompoundGlyph(raw,xMin,yMin,xMax,yMax):new SimpleGlyph(raw,numberOfContours,xMin,yMin,xMax,yMax),this.cache[id]))},GlyfTable.prototype.encode=function(glyphs,mapping,old2new){var glyph,offsets,table,_i,_len;for(table=[],offsets=[],_i=0,_len=mapping.length;_i<_len;_i++)glyph=glyphs[mapping[_i]],offsets.push(table.length),glyph&&(table=table.concat(glyph.encode(old2new)));return offsets.push(table.length),{table:table,offsets:offsets}},GlyfTable}(Table),SimpleGlyph=function(){function SimpleGlyph(raw,numberOfContours,xMin,yMin,xMax,yMax){this.raw=raw,this.numberOfContours=numberOfContours,this.xMin=xMin,this.yMin=yMin,this.xMax=xMax,this.yMax=yMax,this.compound=!1}return SimpleGlyph.prototype.encode=function(){return this.raw.data},SimpleGlyph}(),CompoundGlyph=function(){function CompoundGlyph(raw,xMin,yMin,xMax,yMax){var data,flags;for(this.raw=raw,this.xMin=xMin,this.yMin=yMin,this.xMax=xMax,this.yMax=yMax,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],data=this.raw;flags=data.readShort(),this.glyphOffsets.push(data.pos),this.glyphIDs.push(data.readShort()),32&flags;)data.pos+=1&flags?4:2,128&flags?data.pos+=8:64&flags?data.pos+=4:8&flags&&(data.pos+=2)}return 1,8,32,64,128,CompoundGlyph.prototype.encode=function(mapping){var i,result,_i,_len,_ref;for(result=new Data(__slice.call(this.raw.data)),i=_i=0,_len=(_ref=this.glyphIDs).length;_i<_len;i=++_i)_ref[i],result.pos=this.glyphOffsets[i];return result.data},CompoundGlyph}(),LocaTable=function(_super){function LocaTable(){return LocaTable.__super__.constructor.apply(this,arguments)}return __extends(LocaTable,_super),LocaTable.prototype.tag="loca",LocaTable.prototype.parse=function(data){var format;return data.pos=this.offset,format=this.file.head.indexToLocFormat,this.offsets=0===format?function(){var _i,_ref,_results;for(_results=[],_i=0,_ref=this.length;_i<_ref;_i+=2)_results.push(2*data.readUInt16());return _results}.call(this):function(){var _i,_ref,_results;for(_results=[],_i=0,_ref=this.length;_i<_ref;_i+=4)_results.push(data.readUInt32());return _results}.call(this)},LocaTable.prototype.indexOf=function(id){return this.offsets[id]},LocaTable.prototype.lengthOf=function(id){return this.offsets[id+1]-this.offsets[id]},LocaTable.prototype.encode=function(offsets,activeGlyphs){for(var LocaTable=new Uint32Array(this.offsets.length),glyfPtr=0,listGlyf=0,k=0;k<LocaTable.length;++k)if(LocaTable[k]=glyfPtr,listGlyf<activeGlyphs.length&&activeGlyphs[listGlyf]==k){++listGlyf,LocaTable[k]=glyfPtr;var start=this.offsets[k],len=this.offsets[k+1]-start;len>0&&(glyfPtr+=len)}for(var newLocaTable=new Array(4*LocaTable.length),j=0;j<LocaTable.length;++j)newLocaTable[4*j+3]=255&LocaTable[j],newLocaTable[4*j+2]=(65280&LocaTable[j])>>8,newLocaTable[4*j+1]=(16711680&LocaTable[j])>>16,newLocaTable[4*j]=(4278190080&LocaTable[j])>>24;return newLocaTable},LocaTable}(Table),Subset=function(){function Subset(font){this.font=font,this.subset={},this.unicodes={},this.next=33}return Subset.prototype.generateCmap=function(){var mapping,roman,unicode,unicodeCmap,_ref;for(roman in unicodeCmap=this.font.cmap.tables[0].codeMap,mapping={},_ref=this.subset)unicode=_ref[roman],mapping[roman]=unicodeCmap[unicode];return mapping},Subset.prototype.glyphsFor=function(glyphIDs){var additionalIDs,glyph,glyphs,id,_i,_len,_ref;for(glyphs={},_i=0,_len=glyphIDs.length;_i<_len;_i++)glyphs[id=glyphIDs[_i]]=this.font.glyf.glyphFor(id);for(id in additionalIDs=[],glyphs)(null!=(glyph=glyphs[id])?glyph.compound:void 0)&&additionalIDs.push.apply(additionalIDs,glyph.glyphIDs);if(additionalIDs.length>0)for(id in _ref=this.glyphsFor(additionalIDs))glyph=_ref[id],glyphs[id]=glyph;return glyphs},Subset.prototype.encode=function(glyID){var cmap,code,glyf,glyphs,id,ids,loca,new2old,newIDs,nextGlyphID,old2new,oldID,oldIDs,tables,_ref;for(code in cmap=CmapTable.encode(this.generateCmap(),"unicode"),glyphs=this.glyphsFor(glyID),old2new={0:0},_ref=cmap.charMap)old2new[(ids=_ref[code]).old]=ids.new;for(oldID in nextGlyphID=cmap.maxGlyphID,glyphs)oldID in old2new||(old2new[oldID]=nextGlyphID++);return new2old=function(object){var key,ret;for(key in ret={},object)ret[object[key]]=key;return ret}(old2new),newIDs=Object.keys(new2old).sort((function(a,b){return a-b})),oldIDs=function(){var _i,_len,_results;for(_results=[],_i=0,_len=newIDs.length;_i<_len;_i++)id=newIDs[_i],_results.push(new2old[id]);return _results}(),glyf=this.font.glyf.encode(glyphs,oldIDs,old2new),loca=this.font.loca.encode(glyf.offsets,oldIDs),tables={cmap:this.font.cmap.raw(),glyf:glyf.table,loca:loca,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.raw()},this.font.os2.exists&&(tables["OS/2"]=this.font.os2.raw()),this.font.directory.encode(tables)},Subset}();jsPDF.API.PDFObject=function(){var pad;function PDFObject(){}return pad=function(str,length){return(Array(length+1).join("0")+str).slice(-length)},PDFObject.convert=function(object){var e,key,out,val;if(Array.isArray(object))return"["+function(){var _i,_len,_results;for(_results=[],_i=0,_len=object.length;_i<_len;_i++)e=object[_i],_results.push(PDFObject.convert(e));return _results}().join(" ")+"]";if("string"==typeof object)return"/"+object;if(null!=object?object.isString:void 0)return"("+object+")";if(object instanceof Date)return"(D:"+pad(object.getUTCFullYear(),4)+pad(object.getUTCMonth(),2)+pad(object.getUTCDate(),2)+pad(object.getUTCHours(),2)+pad(object.getUTCMinutes(),2)+pad(object.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(object)){for(key in out=["<<"],object)val=object[key],out.push("/"+key+" "+PDFObject.convert(val));return out.push(">>"),out.join("\n")}return""+object},PDFObject}()}(jsPDF),function(global){var PNG;PNG=function(){var makeImage,scratchCanvas,scratchCtx;function PNG(data){var chunkSize,colors,palLen,delayDen,delayNum,frame,index,key,section,palShort,text,_i,_j,_ref;for(this.data=data,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},frame=null;;){switch(chunkSize=this.readUInt32(),section=function(){var _i,_results;for(_results=[],_i=0;_i<4;++_i)_results.push(String.fromCharCode(this.data[this.pos++]));return _results}.call(this).join(""),section){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(chunkSize);break;case"fcTL":frame&&this.animation.frames.push(frame),this.pos+=4,frame={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},delayNum=this.readUInt16(),delayDen=this.readUInt16()||100,frame.delay=1e3*delayNum/delayDen,frame.disposeOp=this.data[this.pos++],frame.blendOp=this.data[this.pos++],frame.data=[];break;case"IDAT":case"fdAT":for("fdAT"===section&&(this.pos+=4,chunkSize-=4),data=(null!=frame?frame.data:void 0)||this.imgData,_i=0;0<=chunkSize?_i<chunkSize:_i>chunkSize;0<=chunkSize?++_i:--_i)data.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(palLen=this.palette.length/3,this.transparency.indexed=this.read(chunkSize),this.transparency.indexed.length>palLen)throw new Error("More transparent colors than palette size");if((palShort=palLen-this.transparency.indexed.length)>0)for(_j=0;0<=palShort?_j<palShort:_j>palShort;0<=palShort?++_j:--_j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(chunkSize)[0];break;case 2:this.transparency.rgb=this.read(chunkSize)}break;case"tEXt":index=(text=this.read(chunkSize)).indexOf(0),key=String.fromCharCode.apply(String,text.slice(0,index)),this.text[key]=String.fromCharCode.apply(String,text.slice(index+1));break;case"IEND":return frame&&this.animation.frames.push(frame),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(_ref=this.colorType)||6===_ref,colors=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*colors,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=chunkSize}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}PNG.load=function(url,canvas,callback){var xhr;return"function"==typeof canvas&&(callback=canvas),(xhr=new XMLHttpRequest).open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=function(){var png;return png=new PNG(new Uint8Array(xhr.response||xhr.mozResponseArrayBuffer)),"function"==typeof(null!=canvas?canvas.getContext:void 0)&&png.render(canvas),"function"==typeof callback?callback(png):void 0},xhr.send(null)},PNG.prototype.read=function(bytes){var _i,_results;for(_results=[],_i=0;0<=bytes?_i<bytes:_i>bytes;0<=bytes?++_i:--_i)_results.push(this.data[this.pos++]);return _results},PNG.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},PNG.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},PNG.prototype.decodePixels=function(data){var pixelBytes=this.pixelBitlength/8,fullPixels=new Uint8Array(this.width*this.height*pixelBytes),pos=0,_this=this;if(null==data&&(data=this.imgData),0===data.length)return new Uint8Array(0);function pass(x0,y0,dx,dy){var abyte,c,col,i,left,length,p,pa,paeth,pb,pc,pixels,row,scanlineLength,upper,upperLeft,_i,_j,_k,_l,_m,w=Math.ceil((_this.width-x0)/dx),h=Math.ceil((_this.height-y0)/dy),isFull=_this.width==w&&_this.height==h;for(scanlineLength=pixelBytes*w,pixels=isFull?fullPixels:new Uint8Array(scanlineLength*h),length=data.length,row=0,c=0;row<h&&pos<length;){switch(data[pos++]){case 0:for(i=_i=0;_i<scanlineLength;i=_i+=1)pixels[c++]=data[pos++];break;case 1:for(i=_j=0;_j<scanlineLength;i=_j+=1)abyte=data[pos++],left=i<pixelBytes?0:pixels[c-pixelBytes],pixels[c++]=(abyte+left)%256;break;case 2:for(i=_k=0;_k<scanlineLength;i=_k+=1)abyte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,upper=row&&pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],pixels[c++]=(upper+abyte)%256;break;case 3:for(i=_l=0;_l<scanlineLength;i=_l+=1)abyte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,left=i<pixelBytes?0:pixels[c-pixelBytes],upper=row&&pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],pixels[c++]=(abyte+Math.floor((left+upper)/2))%256;break;case 4:for(i=_m=0;_m<scanlineLength;i=_m+=1)abyte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,left=i<pixelBytes?0:pixels[c-pixelBytes],0===row?upper=upperLeft=0:(upper=pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],upperLeft=col&&pixels[(row-1)*scanlineLength+(col-1)*pixelBytes+i%pixelBytes]),p=left+upper-upperLeft,pa=Math.abs(p-left),pb=Math.abs(p-upper),pc=Math.abs(p-upperLeft),paeth=pa<=pb&&pa<=pc?left:pb<=pc?upper:upperLeft,pixels[c++]=(abyte+paeth)%256;break;default:throw new Error("Invalid filter algorithm: "+data[pos-1])}if(!isFull){var fullPos=((y0+row*dy)*_this.width+x0)*pixelBytes,partPos=row*scanlineLength;for(i=0;i<w;i+=1){for(var j=0;j<pixelBytes;j+=1)fullPixels[fullPos++]=pixels[partPos++];fullPos+=(dx-1)*pixelBytes}}row++}}return data=(data=new FlateStream(data)).getBytes(),1==_this.interlaceMethod?(pass(0,0,8,8),pass(4,0,8,8),pass(0,4,4,8),pass(2,0,4,4),pass(0,2,2,4),pass(1,0,2,2),pass(0,1,1,2)):pass(0,0,1,1),fullPixels},PNG.prototype.decodePalette=function(){var c,i,palette,pos,ret,transparency,_i,_ref,_ref1;for(palette=this.palette,transparency=this.transparency.indexed||[],ret=new Uint8Array((transparency.length||0)+palette.length),pos=0,palette.length,c=0,i=_i=0,_ref=palette.length;_i<_ref;i=_i+=3)ret[pos++]=palette[i],ret[pos++]=palette[i+1],ret[pos++]=palette[i+2],ret[pos++]=null!=(_ref1=transparency[c++])?_ref1:255;return ret},PNG.prototype.copyToImageData=function(imageData,pixels){var alpha,colors,data,i,input,j,k,length,palette,v,_ref;if(colors=this.colors,palette=null,alpha=this.hasAlphaChannel,this.palette.length&&(palette=null!=(_ref=this._decodedPalette)?_ref:this._decodedPalette=this.decodePalette(),colors=4,alpha=!0),length=(data=imageData.data||imageData).length,input=palette||pixels,i=j=0,1===colors)for(;i<length;)k=palette?4*pixels[i/4]:j,v=input[k++],data[i++]=v,data[i++]=v,data[i++]=v,data[i++]=alpha?input[k++]:255,j=k;else for(;i<length;)k=palette?4*pixels[i/4]:j,data[i++]=input[k++],data[i++]=input[k++],data[i++]=input[k++],data[i++]=alpha?input[k++]:255,j=k},PNG.prototype.decode=function(){var ret;return ret=new Uint8Array(this.width*this.height*4),this.copyToImageData(ret,this.decodePixels()),ret};try{scratchCanvas=global.document.createElement("canvas"),scratchCtx=scratchCanvas.getContext("2d")}catch(e){return-1}return makeImage=function(imageData){var img;return scratchCtx.width=imageData.width,scratchCtx.height=imageData.height,scratchCtx.clearRect(0,0,imageData.width,imageData.height),scratchCtx.putImageData(imageData,0,0),(img=new Image).src=scratchCanvas.toDataURL(),img},PNG.prototype.decodeFrames=function(ctx){var frame,i,imageData,pixels,_i,_len,_ref,_results;if(this.animation){for(_results=[],i=_i=0,_len=(_ref=this.animation.frames).length;_i<_len;i=++_i)frame=_ref[i],imageData=ctx.createImageData(frame.width,frame.height),pixels=this.decodePixels(new Uint8Array(frame.data)),this.copyToImageData(imageData,pixels),frame.imageData=imageData,_results.push(frame.image=makeImage(imageData));return _results}},PNG.prototype.renderFrame=function(ctx,number){var frame,frames,prev;return frame=(frames=this.animation.frames)[number],prev=frames[number-1],0===number&&ctx.clearRect(0,0,this.width,this.height),1===(null!=prev?prev.disposeOp:void 0)?ctx.clearRect(prev.xOffset,prev.yOffset,prev.width,prev.height):2===(null!=prev?prev.disposeOp:void 0)&&ctx.putImageData(prev.imageData,prev.xOffset,prev.yOffset),0===frame.blendOp&&ctx.clearRect(frame.xOffset,frame.yOffset,frame.width,frame.height),ctx.drawImage(frame.image,frame.xOffset,frame.yOffset)},PNG.prototype.animate=function(ctx){var _doFrame,frameNumber,frames,numFrames,numPlays,_ref,_this=this;return frameNumber=0,_ref=this.animation,numFrames=_ref.numFrames,frames=_ref.frames,numPlays=_ref.numPlays,(_doFrame=function(){var f,frame;if(f=frameNumber++%numFrames,frame=frames[f],_this.renderFrame(ctx,f),numFrames>1&&frameNumber/numFrames<numPlays)return _this.animation._timeout=setTimeout(_doFrame,frame.delay)})()},PNG.prototype.stopAnimation=function(){var _ref;return clearTimeout(null!=(_ref=this.animation)?_ref._timeout:void 0)},PNG.prototype.render=function(canvas){var ctx,data;return canvas._png&&canvas._png.stopAnimation(),canvas._png=this,canvas.width=this.width,canvas.height=this.height,ctx=canvas.getContext("2d"),this.animation?(this.decodeFrames(ctx),this.animate(ctx)):(data=ctx.createImageData(this.width,this.height),this.copyToImageData(data,this.decodePixels()),ctx.putImageData(data,0,0))},PNG}(),global.PNG=PNG}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var DecodeStream=function(){function constructor(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return constructor.prototype={ensureBuffer:function(requested){var buffer=this.buffer,current=buffer?buffer.byteLength:0;if(requested<current)return buffer;for(var size=512;size<requested;)size<<=1;for(var buffer2=new Uint8Array(size),i=0;i<current;++i)buffer2[i]=buffer[i];return this.buffer=buffer2},getByte:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(length){var pos=this.pos;if(length){this.ensureBuffer(pos+length);for(var end=pos+length;!this.eof&&this.bufferLength<end;)this.readBlock();var bufEnd=this.bufferLength;end>bufEnd&&(end=bufEnd)}else{for(;!this.eof;)this.readBlock();end=this.bufferLength}return this.pos=end,this.buffer.subarray(pos,end)},lookChar:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(start,length,dict){for(var end=start+length;this.bufferLength<=end&&!this.eof;)this.readBlock();return new Stream(this.buffer,start,length,dict)},skip:function(n){n||(n=1),this.pos+=n},reset:function(){this.pos=0}},constructor}(),FlateStream=function(){if("undefined"!=typeof Uint32Array){var codeLenCodeMap=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return constructor.prototype=Object.create(DecodeStream.prototype),constructor.prototype.getBits=function(bits){for(var b,codeSize=this.codeSize,codeBuf=this.codeBuf,bytes=this.bytes,bytesPos=this.bytesPos;codeSize<bits;)void 0===(b=bytes[bytesPos++])&&error("Bad encoding in flate stream"),codeBuf|=b<<codeSize,codeSize+=8;return b=codeBuf&(1<<bits)-1,this.codeBuf=codeBuf>>bits,this.codeSize=codeSize-=bits,this.bytesPos=bytesPos,b},constructor.prototype.getCode=function(table){for(var codes=table[0],maxLen=table[1],codeSize=this.codeSize,codeBuf=this.codeBuf,bytes=this.bytes,bytesPos=this.bytesPos;codeSize<maxLen;){var b;void 0===(b=bytes[bytesPos++])&&error("Bad encoding in flate stream"),codeBuf|=b<<codeSize,codeSize+=8}var code=codes[codeBuf&(1<<maxLen)-1],codeLen=code>>16,codeVal=65535&code;return(0==codeSize||codeSize<codeLen||0==codeLen)&&error("Bad encoding in flate stream"),this.codeBuf=codeBuf>>codeLen,this.codeSize=codeSize-codeLen,this.bytesPos=bytesPos,codeVal},constructor.prototype.generateHuffmanTable=function(lengths){for(var n=lengths.length,maxLen=0,i=0;i<n;++i)lengths[i]>maxLen&&(maxLen=lengths[i]);for(var size=1<<maxLen,codes=new Uint32Array(size),len=1,code=0,skip=2;len<=maxLen;++len,code<<=1,skip<<=1)for(var val=0;val<n;++val)if(lengths[val]==len){var code2=0,t=code;for(i=0;i<len;++i)code2=code2<<1|1&t,t>>=1;for(i=code2;i<size;i+=skip)codes[i]=len<<16|val;++code}return[codes,maxLen]},constructor.prototype.readBlock=function(){function repeat(stream,array,len,offset,what){for(var repeat=stream.getBits(len)+offset;repeat-- >0;)array[i++]=what}var hdr=this.getBits(3);if(1&hdr&&(this.eof=!0),0!=(hdr>>=1)){var litCodeTable,distCodeTable;if(1==hdr)litCodeTable=fixedLitCodeTab,distCodeTable=fixedDistCodeTab;else if(2==hdr){for(var numLitCodes=this.getBits(5)+257,numDistCodes=this.getBits(5)+1,numCodeLenCodes=this.getBits(4)+4,codeLenCodeLengths=Array(codeLenCodeMap.length),i=0;i<numCodeLenCodes;)codeLenCodeLengths[codeLenCodeMap[i++]]=this.getBits(3);for(var codeLenCodeTab=this.generateHuffmanTable(codeLenCodeLengths),len=0,codes=(i=0,numLitCodes+numDistCodes),codeLengths=new Array(codes);i<codes;){var code=this.getCode(codeLenCodeTab);16==code?repeat(this,codeLengths,2,3,len):17==code?repeat(this,codeLengths,3,3,len=0):18==code?repeat(this,codeLengths,7,11,len=0):codeLengths[i++]=len=code}litCodeTable=this.generateHuffmanTable(codeLengths.slice(0,numLitCodes)),distCodeTable=this.generateHuffmanTable(codeLengths.slice(numLitCodes,codes))}else error("Unknown block type in flate stream");for(var limit=(buffer=this.buffer)?buffer.length:0,pos=this.bufferLength;;){var code1=this.getCode(litCodeTable);if(code1<256)pos+1>=limit&&(limit=(buffer=this.ensureBuffer(pos+1)).length),buffer[pos++]=code1;else{if(256==code1)return void(this.bufferLength=pos);var code2=(code1=lengthDecode[code1-=257])>>16;code2>0&&(code2=this.getBits(code2));len=(65535&code1)+code2;code1=this.getCode(distCodeTable),(code2=(code1=distDecode[code1])>>16)>0&&(code2=this.getBits(code2));var dist=(65535&code1)+code2;pos+len>=limit&&(limit=(buffer=this.ensureBuffer(pos+len)).length);for(var k=0;k<len;++k,++pos)buffer[pos]=buffer[pos-dist]}}}else{var b,bytes=this.bytes,bytesPos=this.bytesPos;void 0===(b=bytes[bytesPos++])&&error("Bad block header in flate stream");var blockLen=b;void 0===(b=bytes[bytesPos++])&&error("Bad block header in flate stream"),blockLen|=b<<8,void 0===(b=bytes[bytesPos++])&&error("Bad block header in flate stream");var check=b;void 0===(b=bytes[bytesPos++])&&error("Bad block header in flate stream"),(check|=b<<8)!=(65535&~blockLen)&&error("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var bufferLength=this.bufferLength,buffer=this.ensureBuffer(bufferLength+blockLen),end=bufferLength+blockLen;this.bufferLength=end;for(var n=bufferLength;n<end;++n){if(void 0===(b=bytes[bytesPos++])){this.eof=!0;break}buffer[n]=b}this.bytesPos=bytesPos}},constructor}function error(e){throw new Error(e)}function constructor(bytes){var bytesPos=0,cmf=bytes[bytesPos++],flg=bytes[bytesPos++];-1!=cmf&&-1!=flg||error("Invalid header in flate stream"),8!=(15&cmf)&&error("Unknown compression method in flate stream"),((cmf<<8)+flg)%31!=0&&error("Bad FCHECK in flate stream"),32&flg&&error("FDICT bit set in flate stream"),this.bytes=bytes,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}}();return function(global){if("object"!==_typeof2(global.console)){global.console={};for(var prop,method,con=global.console,dummy=function(){},properties=["memory"],methods="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");prop=properties.pop();)con[prop]||(con[prop]={});for(;method=methods.pop();)con[method]||(con[method]=dummy)}var hasOwnProperty,hasDontEnumBug,dontEnums,dontEnumsLength,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===global.btoa&&(global.btoa=function(data){var h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data)return data;do{h1=(bits=data.charCodeAt(i++)<<16|data.charCodeAt(i++)<<8|data.charCodeAt(i++))>>18&63,h2=bits>>12&63,h3=bits>>6&63,h4=63&bits,tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<data.length);enc=tmp_arr.join("");var r=data.length%3;return(r?enc.slice(0,r-3):enc)+"===".slice(r||3)}),void 0===global.atob&&(global.atob=function(data){var o1,o2,o3,h3,h4,bits,i=0,ac=0,tmp_arr=[];if(!data)return data;data+="";do{o1=(bits=b64.indexOf(data.charAt(i++))<<18|b64.indexOf(data.charAt(i++))<<12|(h3=b64.indexOf(data.charAt(i++)))<<6|(h4=b64.indexOf(data.charAt(i++))))>>16&255,o2=bits>>8&255,o3=255&bits,tmp_arr[ac++]=64==h3?String.fromCharCode(o1):64==h4?String.fromCharCode(o1,o2):String.fromCharCode(o1,o2,o3)}while(i<data.length);return tmp_arr.join("")}),Array.prototype.map||(Array.prototype.map=function(fun){if(null==this||"function"!=typeof fun)throw new TypeError;for(var t=Object(this),len=t.length>>>0,res=new Array(len),thisArg=arguments.length>1?arguments[1]:void 0,i=0;i<len;i++)i in t&&(res[i]=fun.call(thisArg,t[i],i,t));return res}),Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)}),Array.prototype.forEach||(Array.prototype.forEach=function(fun,thisArg){if(null==this||"function"!=typeof fun)throw new TypeError;for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)i in t&&fun.call(thisArg,t[i],i,t)}),Object.keys||(Object.keys=(hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnumsLength=(dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(obj){if("object"!==_typeof2(obj)&&("function"!=typeof obj||null===obj))throw new TypeError;var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result})),"function"!=typeof Object.assign&&(Object.assign=function(target){if(null==target)throw new TypeError("Cannot convert undefined or null to object");target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),jsPDF}));

//# sourceMappingURL=jspdf.min.js.map