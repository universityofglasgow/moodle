YUI.add("moodle-block_xp-notification",function(e,t){var t="moodle-block_xp-notification",n="block_xp",r={BADGE:"level-badge",CONTENT:"level-message-content",HEADLINE:"level-headline",NAME:"level-name",PREFIX:"block_xp-notification",WRAP:"wrapper"},i=function(){i.superclass.constructor.apply(this,arguments)};e.namespace("M.block_xp").Notification=e.extend(i,M.core.dialogue,{initializer:function(){this.display()},close:function(){this.hide()},display:function(){var t,i,s,o,u,a;a='<div class="{{CSS.WRAP}}">',a+=' <div class="{{CSS.HEADLINE}}">',a+="  {{headline}}",a+=" </div>",a+=' <div class="{{CSS.BADGE}}">',a+="  {{{badge}}}",a+=" </div>",a+=" {{#if hasName}}",a+=' <div class="{{CSS.NAME}}">',a+="  {{name}}",a+=" </div>",a+=" {{/if}}",a+=' <div class="{{CSS.CONTENT}}">',a+="  {{{message}}}",a+=" </div>",a+="</div>",u=e.Handlebars.compile(a),this.getStdModNode(e.WidgetStdMod.HEADER).prepend(e.Node.create("<h1>"+this.get("title")+"</h1>")),o=this.get("name"),hasName=o&&o.length,s=M.util.get_string("youreachedlevela","block_xp",this.get("level")),hasName&&(s=M.util.get_string("youreachedlevel","block_xp")),i=e.Node.create(u({badge:this.get("badge"),CSS:r,hasName:hasName,headline:s,message:this.get("message"),name:o})),this.setStdModContent(e.WidgetStdMod.BODY,i,e.WidgetStdMod.REPLACE),t=e.Handlebars.compile('<button class="btn btn-default">{{close}}</button>'),i=e.Node.create(t({close:M.util.get_string("coolthanks",n)})),i.on("click",this.close,this),this.setStdModContent(e.WidgetStdMod.FOOTER,i,e.WidgetStdMod.REPLACE),this.get("boundingBox").one(".moodle-dialogue-wrap").addClass("moodle-dialogue-content"),this.show()}},{NAME:t,CSS_PREFIX:r.PREFIX,ATTRS:{badge:{validator:e.Lang.isString,value:""},level:{validator:e.Lang.isNumber,value:0},message:{validator:e.Lang.isString,value:""},name:{validator:e.Lang.isString,value:""}}}),e.Base.modifyAttrs(e.namespace("M.block_xp.Notification"),{extraClasses:{value:[n]},modal:{value:!0},render:{value:!0},title:{valueFn:function(){return M.util.get_string("congratulationsyouleveledup",n)}},visible:{value:!1}}),e.namespace("M.block_xp.Notification").init=function(e){return new i(e)}},"@VERSION@",{requires:["base","node","handlebars","button-plugin","moodle-core-notification-dialogue"]});
