define ("mod_board/jquery.editable.amd",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;function b(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){b=function(a){return typeof a}}else{b=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return b(a)}var c=function(a,c){var d=a(c),f=!1,g=!1,h=("ontouchend"in c),i="tinyMCE"in c&&"function"==typeof c.tinyMCE.init,j=a.fn.is,k=0,l=function(){var b=new Date().getTime();if(250>b-k){a(this).trigger("dbltap")}k=b},m=function(a){if(13==a.keyCode&&a.data.closeOnEnter){g.editable("close")}else if(27==a.keyCode){f.val(g.attr("orig-text"));g.editable("close")}else if(a.data.toggleFontSize&&a.metaKey&&(38==a.keyCode||40==a.keyCode)){var b=parseInt(f.css("font-size"),10);b+=40==a.keyCode?-1:1;f.css("font-size",b+"px");return!1}},n=function(){if(f[0].scrollHeight!==parseInt(f.attr("data-scroll"),10)){f.css("height",f[0].scrollHeight+"px");f.attr("data-scroll",f[0].scrollHeight)}},o=function(a,b,c){a.removeAttr("data-is-editing");if(0==b.length&&c){a.html(c);a.attr("data-is-empty","empty")}else{a.html(b);a.removeAttr("data-is-empty")}f.remove()},p=function(e,h){if(e.is(":editing")){return}g=e;e.attr("data-is-editing","1");if(e.is(":empty")){e.removeAttr("data-is-empty");e.html("")}var i=a.trim(e.html()),j=e.css("font-size"),k=e.height(),l="width: 96%; padding:0; margin:0; border:0; background:none;font-family: "+e.css("font-family")+"; font-size: "+e.css("font-size")+";font-weight: "+e.css("font-weight")+";";e.attr("orig-text",i);if(h.lineBreaks){i=i.replace(/<br( |)(|\/)>/g,"\n")}f=a("<textarea></textarea>");e.text("");l+="position: static";if(!1!==h.tinyMCE){var p="editable-area-"+new Date().getTime();f.val(i).appendTo(e).attr("id",p);if("object"!=b(h.tinyMCE)){h.tinyMCE={}}h.tinyMCE.mode="exact";h.tinyMCE.elements=p;h.tinyMCE.width=e.innerWidth();h.tinyMCE.height=e.height()+200;h.tinyMCE.theme_advanced_resize_vertical=!0;h.tinyMCE.setup=function(b){b.onInit.add(function(b){var c=b.getWin(),j=!1,k=function(){var c=a(b.getDoc()).find("body").html();if(a(c).get(0).nodeName==e.get(0).nodeName){c=a(c).html()}o(e,c,h.emptyMessage);b.remove();f=!1;d.unbind("click",k);g=!1;if("function"==typeof h.callback){h.callback({content:c==i||!j?!1:c,fontSize:!1,$el:e})}};setTimeout(function(){d.bind("click",k)},500);f=a("<textarea></textarea>");f.bind("blur",k);c.onkeydown=function(){j=!0};c.focus()})};c.tinyMCE.init(h.tinyMCE)}else{if(h.toggleFontSize||h.closeOnEnter){d.bind("keydown",h,m)}d.bind("keyup",n);f.html(i).blur(function(){g=!1;var b=a.trim(f.val()),c=f.css("font-size");b=a("<div />").text(b).html();if(h.lineBreaks){b=b.replace(/\n/g,"<br />")}o(e,b,h.emptyMessage);if(c!=j){e.css("font-size",c)}d.unbind("keydown",m);d.unbind("keyup",n);if("function"==typeof h.callback){h.callback({content:b==i?!1:b,fontSize:c==j?!1:c,$el:e})}}).attr("style",l).appendTo(e).css({margin:0,padding:0,height:k+"px",overflow:"hidden"}).css(h.editorStyle).focus().get(0).select();n()}e.trigger("edit",[f])},q=function(b){if(!1!==g&&!g.children("textarea").is(r)){g.editable("close");p(a(this),b.data)}else{p(a(this),b.data)}return!1};a.fn.editable=function(b){if("string"==typeof b){if(this.is(":editable")){switch(b){case"open":if(!this.is(":editing")){this.trigger(this.attr("data-edit-event"))}break;case"close":if(this.is(":editing")){f.trigger("blur")}break;case"destroy":if(this.is(":editing")){f.trigger("blur")}this.unbind(this.attr("data-edit-event"));this.removeAttr("data-edit-event");break;default:}}}else{if(this.is(":editable")){this.editable("destroy")}b=a.extend({event:"dblclick",touch:!0,lineBreaks:!0,toggleFontSize:!0,closeOnEnter:!1,emptyMessage:!1,tinyMCE:!1,editorStyle:{}},b);if(!1!==b.tinyMCE&&!i){b.tinyMCE=!1}if(h&&b.touch){b.event="dbltap";this.unbind("touchend",l);this.bind("touchend",l)}else{b.event+=".textEditor"}this.bind(b.event,b,q);this.attr("data-edit-event",b.event);if(0==this.html().length&&b.emptyMessage){this.html(b.emptyMessage);this.attr("data-is-empty","empty")}else{this.removeAttr("data-is-empty")}}return this};a.fn.is=function(a){if("string"==typeof a&&0===a.indexOf(":")){if(":editable"==a){return this.attr("data-edit-event")!==void 0}else if(":editing"==a){return this.attr("data-is-editing")!==void 0}else if(":empty"==a){return this.attr("data-is-empty")!==void 0}}return j.apply(this,arguments)};var r;a(document).mousedown(function(b){r=a(b.target)})}(window.jQuery,window);a.default=c;return a.default});
//# sourceMappingURL=jquery.editable.amd.min.js.map
