{"version":3,"sources":["../src/resend_submission.js"],"names":["define","$","resendSubmission","document","on","hide","siblings","removeClass","that","submissionid","prop","split","forumpost","html","forumdata","ajax","type","url","M","cfg","wwwroot","dataType","data","action","sesskey","success","addClass","error","show"],"mappings":"AASAA,OAAM,yCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,MAAO,CACHC,gBAAgB,CAAE,2BAAW,CAEzBD,CAAC,CAACE,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,oCAAxB,CAA8D,UAAW,CACrEH,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,GACAJ,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,kBAAjB,EAAqCC,WAArC,CAAiD,QAAjD,EAFqE,GAGjEC,CAAAA,CAAI,CAAGP,CAAC,CAAC,IAAD,CAHyD,CAKjEQ,CAAY,CAAGR,CAAC,CAAC,IAAD,CAAD,CAAQS,IAAR,CAAa,IAAb,EAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CALkD,CAMjEC,CAAS,CAAGX,CAAC,CAAC,YAAcQ,CAAf,CAAD,CAA8BI,IAA9B,EANqD,CAOjEC,CAAS,CAAGb,CAAC,CAAC,cAAgBQ,CAAjB,CAAD,CAAgCI,IAAhC,EAPqD,CASrEZ,CAAC,CAACc,IAAF,CAAO,CACHC,IAAI,CAAE,MADH,CAEHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,+BAFlB,CAGHC,QAAQ,CAAE,MAHP,CAIHC,IAAI,CAAE,CACFC,MAAM,CAAE,gBADN,CAEFd,YAAY,CAAEA,CAFZ,CAGFG,SAAS,CAAEA,CAHT,CAIFE,SAAS,CAAEA,CAJT,CAKFU,OAAO,CAAEN,CAAC,CAACC,GAAF,CAAMK,OALb,CAJH,CAWHC,OAAO,CAAE,kBAAW,CAChBjB,CAAI,CAACF,QAAL,CAAc,kBAAd,EAAkCC,WAAlC,CAA8C,QAA9C,EACAC,CAAI,CAACF,QAAL,CAAc,kBAAd,EAAkCoB,QAAlC,CAA2C,QAA3C,CACH,CAdE,CAeHC,KAAK,CAAE,gBAAW,CACdnB,CAAI,CAACoB,IAAL,GACApB,CAAI,CAACF,QAAL,CAAc,kBAAd,EAAkCoB,QAAlC,CAA2C,QAA3C,CACH,CAlBE,CAAP,EAqBA,QACH,CA/BD,CAgCH,CAnCE,CAqCV,CAtCK,CAAN","sourcesContent":["/**\n * Javascript controller for resubmissions.\n *\n * @package   turnitin\n * @copyright Turnitin\n * @author 2019 David Winn <dwinn@turnitin.com>\n * @module plagiarism_turnitin/resendSubmission\n */\n\ndefine(['jquery'], function($) {\n    return {\n        resendSubmission: function() {\n            // Create new event for submission to be re-sent to Turnitin.\n            $(document).on('click', '.plagiarism_turnitin_resubmit_link', function() {\n                $(this).hide();\n                $(this).siblings('.pp_resubmitting').removeClass('hidden');\n                var that = $(this);\n\n                var submissionid = $(this).prop('id').split(\"_\")[2];\n                var forumpost = $('#content_' + submissionid).html();\n                var forumdata = $('#forumdata_' + submissionid).html();\n\n                $.ajax({\n                    type: \"POST\",\n                    url: M.cfg.wwwroot + \"/plagiarism/turnitin/ajax.php\",\n                    dataType: \"json\",\n                    data: {\n                        action: \"resubmit_event\",\n                        submissionid: submissionid,\n                        forumpost: forumpost,\n                        forumdata: forumdata,\n                        sesskey: M.cfg.sesskey\n                    },\n                    success: function() {\n                        that.siblings('.turnitin_status').removeClass('hidden');\n                        that.siblings('.pp_resubmitting').addClass('hidden');\n                    },\n                    error: function() {\n                        that.show();\n                        that.siblings('.pp_resubmitting').addClass('hidden');\n                    }\n                });\n\n                return false;\n            });\n        }\n    };\n});\n"],"file":"resend_submission.min.js"}