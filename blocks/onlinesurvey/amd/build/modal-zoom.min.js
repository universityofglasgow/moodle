define ("block_onlinesurvey/modal-zoom",["core/templates","core/str"],function(a){var b="",c="",d=0,e=function(){var a=document.getElementById("block_onlinesurvey_contentframe");if(a){var b=a.src;a.src="";a.src=b}},f=function(b){b.preventDefault();var c=b.target,d=c.querySelector("iframe"),f=null;if(null!==d){f=a.render("block_onlinesurvey/modal-iframe",{src:d.src+"&modalZoom=1",title:""})}else{d=parent.document.querySelector("iframe");f=a.render("block_onlinesurvey/modal-iframe",{src:d.src+"&modalZoom=1",title:""})}f.done(function(a){var b=document.createElement("div");b.innerHTML=a;var c=b.firstChild;document.body.insertBefore(c,document.body.firstChild);document.body.className+=" block_onlinesurvey_custom-modal-open";var d=function(){document.body.className=document.body.className.replace(" block_onlinesurvey_custom-modal-open","");e();c.className+=" fading";setTimeout(function(){if(null!==c.parentNode){c.parentNode.removeChild(c)}},250)};c.querySelector(".block_onlinesurvey_custom-modal_close-button").addEventListener("click",function(a){a.preventDefault();return d(a)});c.addEventListener("click",function(a){a.preventDefault();return a.target!==c?!1:d(a)})})};return{init:function init(a,e,g){b=a;c=e;d=g;for(var h=document.querySelectorAll("#block_onlinesurvey_surveys_content"),j=0;j<h.length;j++){h[j].addEventListener("click",f)}window.EVASYS={generatepopupinfo:this.generatepopupinfo};window.evasysGeneratePopupinfo=this.generatepopupinfo},generatepopupinfo:function generatepopupinfo(){var e=sessionStorage.getItem("onlinesurvey_popupinfo");if(!1==e||null===e||e!=d){sessionStorage.setItem("onlinesurvey_popupinfo",d);var f=a.render("block_onlinesurvey/popupinfo",{title:b,content:c});f.done(function(a){var b=document.createElement("div");b.innerHTML=a;var c=b.firstChild;document.body.insertBefore(c,document.body.firstChild);document.body.className+=" block_onlinesurvey_custom-modal-open popupinfo";var d=function(){document.body.className=document.body.className.replace(" block_onlinesurvey_custom-modal-open","");c.className+=" fading";setTimeout(function(){if(null!==c.parentNode){c.parentNode.removeChild(c)}},250)};c.querySelector(".block_onlinesurvey_custom-modal_close-button").addEventListener("click",function(a){a.preventDefault();return d(a)});c.addEventListener("click",function(a){a.preventDefault();return a.target!==c?!1:d(a)})})}}}});
//# sourceMappingURL=modal-zoom.min.js.map
