function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(!a)return;if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,b)}function _arrayLikeToArray(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function _iterableToArrayLimit(a,b){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(a)))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}define ("mod_peerwork/unlock-editing",["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e=[{key:"areyousure",component:"core"},{key:"yes",component:"core"},{key:"no",component:"core"},{key:"confirmunlockeditingsubmission",component:"mod_peerwork"},{key:"confirmunlockeditinggrader",component:"mod_peerwork"}];return{init:function(f,g){var h=c.get_strings(e).catch(d.exception);a(f).on("click",function(c){c.preventDefault();var f=a(c.currentTarget),g=f.data("submissionid");h.then(function(a){var c=_slicedToArray(a,4),e=c[0],h=c[1],i=c[2],j=c[3];return d.confirm(e,j,h,i,function(){f.hide();b.call([{methodname:"mod_peerwork_unlock_submission",args:{submissionid:g}}])[0].then(function(){f.remove()}).catch(function(a){f.show();return d.exception(a)})})}).catch(d.exception)});a(g).on("click",function(c){c.preventDefault();var e=a(c.currentTarget),f=e.data("peerworkid"),i=e.data("graderid"),j=e.data("graderfullname");h.then(function(c){var e=_slicedToArray(c,3),h=e[0],k=e[1],l=e[2];return d.confirm(h,M.util.get_string("confirmunlockeditinggrader","mod_peerwork",j),k,l,function(){var c=a(g).filter("[data-graderid=".concat(i,"]"));c.hide();b.call([{methodname:"mod_peerwork_unlock_grader",args:{peerworkid:f,graderid:i}}])[0].then(function(){c.remove()}).catch(function(a){c.show();return d.exception(a)})})}).catch(d.exception)})}}});
//# sourceMappingURL=unlock-editing.min.js.map
