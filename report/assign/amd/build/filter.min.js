define ("report_assign/filter",["jquery","core/modal_factory","core/templates","core/str","core/ajax","core/notification"],function(a,b,c,d,e,f){return{init:function init(g){a(document).on("change","#groupfilter",function(){var b=a(this).val();a(".group_"+b).show();a(".group_0").not(".group_"+b).hide()});a(".doextension").on("click",function(){var h=a(this).data("assignmentid"),i=a(this).data("userid"),j=a(this).data("fullname"),k=0;d.get_strings([{key:"extensionpopuptitle",component:"report_assign"}]).then(function(a){return b.create({title:a[0],body:c.render("report_assign/extensionpopup",{assignmentid:h,userid:i,fullname:j})})}).then(function(b){b.show();a(".extensioninc, .extensiondec").on("click",function(){var b=a(this).is(".extensioninc");if(b&&7>k){k++}if(!b&&0<k){k--}a(".extensioncounter").html(k);return!1});var c=function(b,c,d,h){if(0==d){d=g}var i=d+86400*h;e.call([{methodname:"report_assign_save_user_extension",args:{assignmentid:b,userid:c,date:i},done:function done(b){a("#extensionuser_"+c).html(b)},fail:f.exception}])};a(".extensioncancel").on("click",function(){b.hide();return!1});a(".extensionsave").on("click",function(){var d=a(this).data("assignmentid"),g=a(this).data("userid");e.call([{methodname:"report_assign_get_user_flags",args:{assignmentid:d,userid:g},done:function done(a){c(d,g,a.extensionduedate,k);b.hide()},fail:f.exception}]);return!1})});return!1})}}});
//# sourceMappingURL=filter.min.js.map
