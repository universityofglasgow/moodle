{"version":3,"sources":["../src/starredcourses.js"],"names":["define","$","init","each","html","children","sort","a","b","attr","hide","show","click","removeClass","addClass","sortable","cancel","disableSelection","link","parent","replace","substr","indexOf","courseid","substring","lastIndexOf","title","find","text","append","get","id","closest","remove","courseOrder","push","Number","post","o","join"],"mappings":"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","sourcesContent":["define(['jquery', 'jqueryui', 'theme_hillhead/jquery.ui.touch-punch-improved'], function($) {\n \n    return {\n        init: function() {\n            \n            $(\"#starredCourses\").each(function() {\n               $(this).html($(this).children('li').sort(function(a, b){\n                    return ($(b).attr('order')) < ($(a).attr('order')) ? 1 : -1;\n                }));\n            });\n            \n            $(\"#saveSidebar\").hide();\n            $(\"#rearrangeSidebar\").show();\n            $(\"#rearrangeSidebar\").click(function() {\n                $(\"#rearrangeSidebar\").hide();\n                $(\"#saveSidebar\").show();\n                $(\"#starredCourses i\").removeClass(\"fa-star\");\n                $(\"#starredCourses i\").addClass(\"fa-arrows\");\n                $(\"#starredCourses\").sortable({cancel: '.allcourses'});\n                $(\"#starredCourses\").disableSelection();\n                $(\"#starredCourses li .media\").each(function() {\n                    var link = $(this).parent().attr(\"href\").replace(\"/course/view\", \"/theme/hillhead/course-unstar\");\n                    var link = link.substr(0, link.indexOf(\"?\"));\n                    var courseid = $(this).parent().attr(\"href\").substring($(this).parent().attr(\"href\").lastIndexOf(\"=\")+1);\n                    var title = \"Unstar \" + $(this).find(\".media-body\").text();\n                    $(this).append('<span class=\"media-right\"><a class=\"unpinCourseBadge\" href=\"#\" data-getlink=\"'+link+'\" data-courseid=\"'+courseid+'\"  title=\"'+title+'\"><i class=\"fa fa-trash\"></i></a></span>');\n                });\n                $(\"#starredCourses .unpinCourseBadge\").click(function() {\n                    $.get($(this).attr(\"data-getlink\"), {id: $(this).attr(\"data-courseid\")});\n                    $(this).closest(\"li\").remove();\n                });\n                return false;\n            });\n            $(\"#saveSidebar\").click(function() {\n                var courseOrder = [];\n                $(\"#starredCourses li\").each(function() {\n                    courseOrder.push(new Number($(this).attr(\"courseid\")));\n                });\n                \n                $.post($(\"#starredCourses\").attr(\"save\"), {o: courseOrder.join(',')});\n                \n                $(\"#saveSidebar\").hide();\n                $(\"#rearrangeSidebar\").show();\n                $(\"#starredCourses i\").addClass(\"fa-star\");\n                $(\"#starredCourses i\").removeClass(\"fa-arrows\");\n                 $(\"#starredCourses .media-right\").remove();\n                return false;\n            });\n        }\n    };\n});"],"file":"starredcourses.min.js"}