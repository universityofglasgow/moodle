{"version":3,"sources":["../src/refresh_submissions.js"],"names":["define","$","refreshSubmissions","on","hide","show","ajax","type","url","M","cfg","wwwroot","dataType","data","action","cmid","val","sesskey","success"],"mappings":"AASAA,OAAM,2CAAC,CAAC,QAAD,CAAD,CACF,SAASC,CAAT,CAAY,CACR,MAAO,CACHC,kBAAkB,CAAE,6BAAW,CAC3BD,CAAC,CAAC,qCAAD,CAAD,CAAyCE,EAAzC,CAA4C,OAA5C,CAAqD,UAAW,CAC5DF,CAAC,CAAC,qCAAD,CAAD,CAAyCG,IAAzC,GACAH,CAAC,CAAC,wCAAD,CAAD,CAA4CI,IAA5C,GAEAJ,CAAC,CAACK,IAAF,CAAO,CACHC,IAAI,CAAE,MADH,CAEHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,+BAFlB,CAGHC,QAAQ,CAAE,MAHP,CAIHC,IAAI,CAAE,CACFC,MAAM,CAAE,cADN,CAEFC,IAAI,CAAEd,CAAC,CAAC,8BAAD,CAAD,CAAgCe,GAAhC,EAFJ,CAGFC,OAAO,CAAER,CAAC,CAACC,GAAF,CAAMO,OAHb,CAJH,CASHC,OAAO,CAAE,kBAAW,CAChBjB,CAAC,CAAC,qCAAD,CAAD,CAAyCI,IAAzC,GACAJ,CAAC,CAAC,wCAAD,CAAD,CAA4CG,IAA5C,EACH,CAZE,CAAP,CAcH,CAlBD,CAmBH,CArBE,CAuBV,CAzBC,CAAN","sourcesContent":["/**\n * Javascript controller for refreshing the submissions.\n *\n * @package   turnitin\n * @copyright Turnitin\n * @author 2019 David Winn <dwinn@turnitin.com>\n * @module plagiarism_turnitin/refreshSubmissions\n */\n\ndefine(['jquery'],\n    function($) {\n        return {\n            refreshSubmissions: function() {\n                $('.plagiarism_turnitin_refresh_grades').on('click', function() {\n                    $('.plagiarism_turnitin_refresh_grades').hide();\n                    $('.plagiarism_turnitin_refreshing_grades').show();\n\n                    $.ajax({\n                        type: \"POST\",\n                        url: M.cfg.wwwroot + \"/plagiarism/turnitin/ajax.php\",\n                        dataType: \"json\",\n                        data: {\n                            action: \"update_grade\",\n                            cmid: $('input[name=\"coursemodule\"]').val(),\n                            sesskey: M.cfg.sesskey\n                        },\n                        success: function() {\n                            $('.plagiarism_turnitin_refresh_grades').show();\n                            $('.plagiarism_turnitin_refreshing_grades').hide();\n                        }\n                    });\n                });\n            }\n        };\n    });"],"file":"refresh_submissions.min.js"}