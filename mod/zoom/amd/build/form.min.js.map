{"version":3,"sources":["../src/form.js"],"names":["define","$","SELECTORS","REPEAT_SELECT","REPEAT_INTERVAL","REPEAT_INTERVAL_DAILY","REPEAT_INTERVAL_WEEKLY","REPEAT_INTERVAL_MONTHLY","REPEAT_INTERVAL_OPTIONS","START_TIME","DURATION","RECURRING","OPTION_JBH","OPTION_WAITING_ROOM","REPEAT_OPTIONS","REPEAT_OPTION_NONE","REPEAT_OPTION_DAILY","REPEAT_OPTION_WEEKLY","REPEAT_OPTION_MONTHLY","REPEAT_MAX_OPTIONS","toggleStartTimeDuration","disabled","repeatVal","parseInt","val","prop","toggleRepeatIntervalText","hide","repeatSelectVal","show","limitRepeatValues","selectedValue","each","value","init","optionJoinBeforeHost","optionWaitingRoom","change","is"],"mappings":"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","sourcesContent":["// This file is part of the Zoom plugin for Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Populates or de-populates password field based on whether the\n * password is required or not.\n *\n * @copyright  2018 UC Regents\n * @author     Kubilay Agi\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n\n    /**\n     * CSS selectors used throughout the file.\n     *\n     * @type {object}\n     */\n    var SELECTORS = {\n        REPEAT_SELECT: 'select[name=\"recurrence_type\"]',\n        REPEAT_INTERVAL: '.repeat_interval',\n        REPEAT_INTERVAL_DAILY: '#interval_daily',\n        REPEAT_INTERVAL_WEEKLY: '#interval_weekly',\n        REPEAT_INTERVAL_MONTHLY: '#interval_monthly',\n        REPEAT_INTERVAL_OPTIONS: 'select[name=\"repeat_interval\"] option',\n        START_TIME: 'select[name*=\"start_time\"]',\n        DURATION: '*[name*=\"duration\"]',\n        RECURRING: 'input[name=\"recurring\"][type!=\"hidden\"]',\n        OPTION_JBH: 'input[name=\"option_jbh\"][type!=\"hidden\"]',\n        OPTION_WAITING_ROOM: 'input[name=\"option_waiting_room\"][type!=\"hidden\"]'\n    };\n\n    /**\n     * Repeat interval options.\n     *\n     * @type {object}\n     */\n    var REPEAT_OPTIONS = {\n        REPEAT_OPTION_NONE: 0,\n        REPEAT_OPTION_DAILY: 1,\n        REPEAT_OPTION_WEEKLY: 2,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The max values for each repeat option.\n     *\n     * @type {object}\n     */\n    var REPEAT_MAX_OPTIONS = {\n        REPEAT_OPTION_DAILY: 90,\n        REPEAT_OPTION_WEEKLY: 12,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The init function.\n     */\n    var init = function() {\n        var optionJoinBeforeHost = $(SELECTORS.OPTION_JBH);\n        var optionWaitingRoom = $(SELECTORS.OPTION_WAITING_ROOM);\n        optionJoinBeforeHost.change(function() {\n            if (optionJoinBeforeHost.is(':checked') === true) {\n                optionWaitingRoom.prop('checked', false);\n            }\n        });\n        optionWaitingRoom.change(function() {\n            if (optionWaitingRoom.is(':checked') === true) {\n                optionJoinBeforeHost.prop('checked', false);\n            }\n        });\n\n        // First toggle the values based on initial selections.\n        toggleStartTimeDuration();\n        toggleRepeatIntervalText();\n        limitRepeatValues();\n        // Add listerner to \"Repeat Every\" drop-down.\n        $(SELECTORS.REPEAT_SELECT).change(function() {\n            toggleStartTimeDuration();\n            toggleRepeatIntervalText();\n            limitRepeatValues();\n        });\n        // Add listener for the \"Recurring\" checkbox\n        $(SELECTORS.RECURRING).change(function() {\n            toggleStartTimeDuration();\n        });\n    };\n\n    /**\n     * Toggle start time and duration elements.\n     */\n    var toggleStartTimeDuration = function() {\n        // Disable start time and duration if \"No Fixed Time\" recurring meeting/webinar selected.\n        var disabled = false;\n        var repeatVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if ($(SELECTORS.RECURRING).prop('checked') && repeatVal === REPEAT_OPTIONS.REPEAT_OPTION_NONE) {\n            disabled = true;\n        }\n        $(SELECTORS.START_TIME).prop('disabled', disabled);\n        $(SELECTORS.DURATION).prop('disabled', disabled);\n    };\n\n    /**\n     * Toggle the text based on repeat type.\n     * To show either Days, Weeks or Months\n     */\n    var toggleRepeatIntervalText = function() {\n        $(SELECTORS.REPEAT_INTERVAL).hide();\n        var repeatSelectVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_DAILY) {\n            $(SELECTORS.REPEAT_INTERVAL_DAILY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n            $(SELECTORS.REPEAT_INTERVAL_WEEKLY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n            $(SELECTORS.REPEAT_INTERVAL_MONTHLY).show();\n        }\n    };\n\n    /**\n     * Limit the options shown in the drop-down based on repeat type selected.\n     * Max value for daily meeting is 90.\n     * Max value for weekly meeting is 12.\n     * Max value for monthly meeting is 3.\n     */\n    var limitRepeatValues = function() {\n        var selectedValue = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        // Restrict options if weekly or monthly option selected.\n        $(SELECTORS.REPEAT_INTERVAL_OPTIONS).each(function() {\n            if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                    $(this).hide();\n                }\n            } else if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                    $(this).hide();\n                }\n            } else {\n                $(this).show();\n            }\n        });\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"form.min.js"}