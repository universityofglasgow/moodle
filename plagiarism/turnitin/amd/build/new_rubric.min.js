define(["jquery","core/templates","core/modal","core/modal_events","plagiarism_turnitin/modal_rubric_manager_launch","plagiarism_turnitin/modal_rubric_view_launch","plagiarism_turnitin/eula_event_listener"],function(r,i,e,a,c,o,u){return{newRubric:function(){var n=this;r(".rubric_manager_launch").on("click",function(){var i=r(this).data("courseid"),t=r(this).data("cmid");n.rubricCreateModal(c,i,t)}),r(document).on("click",".rubric_view",function(){var i=r(this).data("courseid"),t=r(this).data("cmid");n.rubricCreateModal(o,i,t)}),r("#id_plagiarism_rubric").mousedown(function(){""!=r('input[name="instance"]').val()&&"Y"!=r('input[name="rubric_warning_seen"]').val()&&confirm(M.str.plagiarism_turnitin.changerubricwarning)&&r('input[name="rubric_warning_seen"]').val("Y")}),c.refreshRubricSelect()},rubricCreateModal:function(i,t,n){e.create({type:i.TYPE,template:i.TEMPLATE,templateContext:{courseid:t,cmid:n,wwwroot:M.cfg.wwwroot},large:!0}).then(function(i){i.show(),i.getRoot().find(".modal").addClass("tii_pp_modal_rubric"),i.getRoot().find(".modal-content").addClass("tii_pp_modal_rubric_content"),i.getRoot().on(a.hidden,function(){setTimeout(function(){c.refreshRubricSelect()},1500)}),u.attach()})}}});
//# sourceMappingURL=new_rubric.min.js.map