{"version":3,"sources":["../src/update_calculator.js"],"names":["define","$","init","formid","updatebut","formatselect","ancestor","closest","action","attr","css","on","trigger"],"mappings":"AAuBAA,OAAM,kCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAuB3B,MAAO,CACHC,IAAI,CAlBR,SAA2BC,CAA3B,CAAmC,CAC/B,GAAIA,CAAJ,CAAY,IACJC,CAAAA,CAAS,CAAGH,CAAC,CAAC,IAAME,CAAN,CAAe,uBAAhB,CADT,CAEJE,CAAY,CAAGJ,CAAC,CAAC,IAAME,CAAN,CAAe,iBAAhB,CAFZ,CAGJG,CAAQ,CAAGF,CAAS,CAACG,OAAV,CAAkB,UAAlB,CAHP,CAIJC,CAAM,CAAGP,CAAC,CAAC,YAAD,CAAD,CAAgBQ,IAAhB,CAAqB,QAArB,CAJL,CAMR,GAAIL,CAAS,EAAIC,CAAjB,CAA+B,CAC3BD,CAAS,CAACM,GAAV,CAAc,SAAd,CAAyB,MAAzB,EACAL,CAAY,CAACM,EAAb,CAAgB,QAAhB,CAA0B,UAAW,CACjCV,CAAC,CAAC,YAAD,CAAD,CAAgBQ,IAAhB,CAAqB,QAArB,CAA+BD,CAAM,CAAG,GAAT,CAAeF,CAAQ,CAACG,IAAT,CAAc,IAAd,CAA9C,EACAL,CAAS,CAACQ,OAAV,CAAkB,OAAlB,CACH,CAHD,CAIH,CACJ,CACJ,CAEM,CAIV,CA3BK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Updated calculator settings.\n *\n * @copyright  2019 Coventry University\n * @author     Amanda Doughty\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    /**\n     * Update calculator settings.\n     *\n     * @param {int} formid The form id.\n     */\n    function calculatorChooser(formid) {\n        if (formid) {\n            var updatebut = $('#' + formid + ' #id_updatecalculator');\n            var formatselect = $('#' + formid + ' #id_calculator');\n            var ancestor = updatebut.closest('fieldset');\n            var action = $('form.mform').attr('action');\n\n            if (updatebut && formatselect) {\n                updatebut.css('display', 'none');\n                formatselect.on('change', function() {\n                    $('form.mform').attr('action', action + '#' + ancestor.attr('id'));\n                    updatebut.trigger('click');\n                });\n            }\n        }\n    }\n\n    return {\n        init: calculatorChooser\n    };\n\n});"],"file":"update_calculator.min.js"}