define("format_flexsections/local/courseeditor/exporter",["exports","core_courseformat/local/courseeditor/exporter"],(function(_exports,_exporter){var obj;
/**
   * Overriding default course format exporter
   *
   * @module     format_flexsections/local/courseeditor/exporter
   * @copyright  2022 Marina Glancy
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_exporter=(obj=_exporter)&&obj.__esModule?obj:{default:obj};class _default extends _exporter.default{section(state,sectioninfo){const children=sectioninfo.children,section=super.section(state,sectioninfo);if(section.children=[],children&&children.length)for(let i=0;i<children.length;i++)section.children.push(this.section(state,children[i]));return section}course(state){const course=super.course(state);return course.maxsectiondepth=state.course.maxsectiondepth,course}allItemsArray(state){var _state$course$section;const items=[],sectionlist=null!==(_state$course$section=state.course.sectionlist)&&void 0!==_state$course$section?_state$course$section:[],addCms=sectioninfo=>{var _sectioninfo$cmlist;(null!==(_sectioninfo$cmlist=sectioninfo.cmlist)&&void 0!==_sectioninfo$cmlist?_sectioninfo$cmlist:[]).forEach((cmid=>{const cminfo=state.cm.get(cmid);items.push({type:"cm",id:cminfo.id,url:cminfo.url})}))},addChildItems=children=>{if(children&&children.length)for(let i=0;i<children.length;i++){const child=children[i];items.push({type:"section",id:child.id,url:child.sectionurl}),addCms(child),addChildItems(child.children)}};return sectionlist.forEach((sectionid=>{const sectioninfo=state.section.get(sectionid);items.push({type:"section",id:sectioninfo.id,url:sectioninfo.sectionurl}),addCms(sectioninfo),addChildItems(sectioninfo.children)})),items}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=exporter.min.js.map