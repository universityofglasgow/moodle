define("report_enhance/filter",["jquery","core/templates","core/ajax","core/notification"],(function($,templates,ajax,notification){return{init:function(){$(".filter-list .nav-link").click((function(){$(".filter-list .nav-link").removeClass("active"),$(this).addClass("active"),$(".filter-all").hide(),$($(this).attr("data-filter")).show(),0==$($(this).attr("data-filter")).length?$(".bottom-button").hide():$(".bottom-button").show();try{localStorage.setItem("selected-filter",$(this).attr("data-filter"))}catch(error){return!1}}));try{var filter=localStorage.getItem("selected-filter");null===filter&&(filter=".filter-status-1, .filter-status-2, .filter-status-3, .filter-status-4, .filter-status-5, .filter-status-6, .filter-status-9"),$(".filter-all").hide(),$(filter).show(),0==$(filter).length?$(".bottom-button").hide():$(".bottom-button").show(),$(".filter-list .nav-link.active").removeClass("active"),$("[data-filter='"+filter+"']").addClass("active")}catch(error){return!1}$(".enhance_votes").on("click",".votebutton",(function(){var requestid=$(this).data("requestid"),vote=$(this).data("vote"),container=$(this).parent();return ajax.call([{methodname:"report_enhance_set_vote",args:{requestid:requestid,vote:vote},done:function(votes){!function(container,requestid,votes){var context={votecount:votes.count,id:requestid,ownrequest:votes.ownrequest,voted:votes.voted};templates.render("report_enhance/votes",context).done((function(html){$(container).html(html)})).fail(notification.exception)}(container,requestid,votes)},fail:notification.exception}]),!1})),$(".save-link").on("click",(function(){var scroll=$(document).scrollTop();try{localStorage.setItem("scroll-position",scroll)}catch(e){return}}));try{var scroll=localStorage.getItem("scroll-position")}catch(e){return}scroll&&$(document).scrollTop(scroll)}}}));

//# sourceMappingURL=filter.min.js.map