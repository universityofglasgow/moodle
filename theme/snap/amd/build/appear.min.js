define(["jquery"],function(a){return function(a){function b(b){return a(b).filter(function(){return a(this).is(":appeared")})}function c(){g=!1;for(var a=0,c=e.length;a<c;a++){var d=b(e[a]);if(d.trigger("appear",[d]),k[a]){var f=k[a].not(d);f.trigger("disappear",[f])}k[a]=d}}function d(a){e.push(a),k.push()}var e=[],f=!1,g=!1,h={interval:250,force_process:!1},i={},j=a(window),k=[];a.expr[":"].appeared=function(b){var c=a(b);if(!c.is(":visible"))return!1;var d=j.scrollLeft(),e=j.scrollTop(),f=c.offset(),g=f.left,h=f.top,k=c.data("appear-top-offset")||i.appeartopoffset||0,l=c.data("appear-left-offset")||i.appearleftoffset||0;return h+c.height()+k>=e&&h-k<=e+j.height()&&g+c.width()+l>=d&&g-l<=d+j.width()},a.fn.extend({appear:function(b){i=a.extend({},h,b||{});var e=this.selector||this;if(!f){var j=function(){g||(g=!0,setTimeout(c,i.interval))};a(window).scroll(j).resize(j),a(".appear_enabled").scroll(j),f=!0}return i.force_process&&setTimeout(c,i.interval),d(e),a(e)}}),a.extend({force_appear:function(){return!!f&&(c(),!0)}})}(function(){return"undefined"!=typeof module?require("jquery"):a}()),a});