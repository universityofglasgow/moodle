YUI.add("moodle-mod_oublog-savecheck",function(s,e){M.mod_oublog=M.mod_oublog||{},M.mod_oublog.savecheck={init:function(o){var i=s.all("#id_submitbutton");i.on("click",function(t){function n(e,o){e=M.util.get_string("savefailtext","oublog",M.util.get_string(e,"oublog"));e+="["+o+"]",i.set("disabled",!0),new M.core.alert({title:M.util.get_string("savefailtitle","oublog"),message:e,render:!0,plugins:[s.Plugin.Drag],modal:!0}).show(),t.preventDefault(),s.one("#id_cancel").on("click",function(e){var o=s.one(".region-content .mform"),t=o.one("#fitem_id_message"),n=o.one("#fitem_id_attachments");t.remove(),n.remove(),o.set("method","get")})}var e={method:"POST",data:"sesskey="+M.cfg.sesskey+"&contextid="+o,on:{success:function(e,o){-1===o.responseText.search("ok")&&n("savefailsession",o.responseText)},failure:function(e,o,t){n("savefailnetwork",o.statusText)}},sync:!0,timeout:3e4};s.io("confirmloggedin.php",e)})}}},"@VERSION@",{requires:["base","node","io","panel","moodle-core-notification-alert"]});