{"version":3,"file":"refresh_submissions.min.js","sources":["../src/refresh_submissions.js"],"sourcesContent":["/**\n * Javascript controller for refreshing the submissions.\n *\n * @copyright Turnitin\n * @author 2019 David Winn <dwinn@turnitin.com>\n * @module plagiarism_turnitin/refreshSubmissions\n */\n\ndefine(['jquery'],\n    function($) {\n        return {\n            refreshSubmissions: function() {\n                $('.plagiarism_turnitin_refresh_grades').on('click', function() {\n                    $('.plagiarism_turnitin_refresh_grades').hide();\n                    $('.plagiarism_turnitin_refreshing_grades').show();\n\n                    $.ajax({\n                        type: \"POST\",\n                        url: M.cfg.wwwroot + \"/plagiarism/turnitin/ajax.php\",\n                        dataType: \"json\",\n                        data: {\n                            action: \"update_grade\",\n                            cmid: $('input[name=\"coursemodule\"]').val(),\n                            sesskey: M.cfg.sesskey\n                        },\n                        success: function() {\n                            $('.plagiarism_turnitin_refresh_grades').show();\n                            $('.plagiarism_turnitin_refreshing_grades').hide();\n                        }\n                    });\n                });\n            }\n        };\n    });"],"names":["define","$","refreshSubmissions","on","hide","show","ajax","type","url","M","cfg","wwwroot","dataType","data","action","cmid","val","sesskey","success"],"mappings":"AAQAA,iDAAO,CAAC,WACJ,SAASC,SACE,CACHC,mBAAoB,WAChBD,EAAE,uCAAuCE,GAAG,SAAS,WACjDF,EAAE,uCAAuCG,OACzCH,EAAE,0CAA0CI,OAE5CJ,EAAEK,KAAK,CACHC,KAAM,OACNC,IAAKC,EAAEC,IAAIC,QAAU,gCACrBC,SAAU,OACVC,KAAM,CACFC,OAAQ,eACRC,KAAMd,EAAE,8BAA8Be,MACtCC,QAASR,EAAEC,IAAIO,SAEnBC,QAAS,WACLjB,EAAE,uCAAuCI,OACzCJ,EAAE,0CAA0CG"}