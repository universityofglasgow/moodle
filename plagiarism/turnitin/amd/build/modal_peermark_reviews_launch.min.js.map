{"version":3,"sources":["../src/modal_peermark_reviews_launch.js"],"names":["define","$","Ajax","Notification","CustomEvents","Modal","ModalRegistry","ModalEvents","registered","SELECTORS","HIDE_BUTTON","MODAL","ModalPeermarkReviewsLaunch","root","call","TYPE","prototype","Object","create","constructor","registerEventListeners","getModal","on","events","activate","e","data","cancelEvent","Event","cancel","getRoot","trigger","isDefaultPrevented","hide","originalEvent","preventDefault","bind","register"],"mappings":"AASAA,OAAM,qDACF,CACI,QADJ,CAEI,WAFJ,CAGI,mBAHJ,CAII,gCAJJ,CAKI,YALJ,CAMI,qBANJ,CAOI,mBAPJ,CADE,CAUF,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAAgCC,CAAhC,CAA8CC,CAA9C,CAAqDC,CAArD,CAAoEC,CAApE,CAAiF,IAEzEC,CAAAA,CAAU,GAF+D,CAGzEC,CAAS,CAAG,CACZC,WAAW,CAAE,wBADD,CAEZC,KAAK,CAAE,yBAFK,CAH6D,CAazEC,CAA0B,CAAG,SAASC,CAAT,CAAe,CAC5CR,CAAK,CAACS,IAAN,CAAW,IAAX,CAAiBD,CAAjB,CACH,CAf4E,CAiB7ED,CAA0B,CAACG,IAA3B,CAAkC,mDAAlC,CACAH,CAA0B,CAACI,SAA3B,CAAuCC,MAAM,CAACC,MAAP,CAAcb,CAAK,CAACW,SAApB,CAAvC,CACAJ,CAA0B,CAACI,SAA3B,CAAqCG,WAArC,CAAmDP,CAAnD,CAOAA,CAA0B,CAACI,SAA3B,CAAqCI,sBAArC,CAA8D,UAAW,CAErEf,CAAK,CAACW,SAAN,CAAgBI,sBAAhB,CAAuCN,IAAvC,CAA4C,IAA5C,EAGA,KAAKO,QAAL,GAAgBC,EAAhB,CAAmBlB,CAAY,CAACmB,MAAb,CAAoBC,QAAvC,CAAiDf,CAAS,CAACC,WAA3D,CAAwE,SAASe,CAAT,CAAYC,CAAZ,CAAkB,CACtF,GAAIC,CAAAA,CAAW,CAAG1B,CAAC,CAAC2B,KAAF,CAAQrB,CAAW,CAACsB,MAApB,CAAlB,CACA,KAAKC,OAAL,GAAeC,OAAf,CAAuBJ,CAAvB,CAAoC,IAApC,EAEA,GAAI,CAACA,CAAW,CAACK,kBAAZ,EAAL,CAAuC,CACnC,KAAKC,IAAL,GACAP,CAAI,CAACQ,aAAL,CAAmBC,cAAnB,EACH,CACJ,CARuE,CAQtEC,IARsE,CAQjE,IARiE,CAAxE,CASH,CAdD,CAkBA,GAAI,CAAC5B,CAAL,CAAiB,CACbF,CAAa,CAAC+B,QAAd,CAAuBzB,CAA0B,CAACG,IAAlD,CACIH,CADJ,CAEI,mDAFJ,EAGAJ,CAAU,GACb,CAED,MAAOI,CAAAA,CACV,CA9DC,CAAN","sourcesContent":["/**\n * Javascript controller for Peermark Reviews launcher\n *\n * @package   turnitin\n * @copyright Turnitin\n * @author 2019 David Winn <dwinn@turnitin.com>\n * @module plagiarism_turnitin/modal_peermark_reviews_launch\n */\n\ndefine(\n    [\n        'jquery',\n        'core/ajax',\n        'core/notification',\n        'core/custom_interaction_events',\n        'core/modal',\n        'core/modal_registry',\n        'core/modal_events'\n    ],\n    function($, Ajax, Notification, CustomEvents, Modal, ModalRegistry, ModalEvents) {\n\n        var registered = false;\n        var SELECTORS = {\n            HIDE_BUTTON: '[data-action=\"hide\"]',\n            MODAL: '[data-region=\"modal\"]'\n        };\n\n        /**\n         * Constructor for the Modal.\n         *\n         * @param {object} root The root jQuery element for the modal\n         */\n        var ModalPeermarkReviewsLaunch = function(root) {\n            Modal.call(this, root);\n        };\n\n        ModalPeermarkReviewsLaunch.TYPE = 'plagiarism_turnitin-modal_peermark_reviews_launch';\n        ModalPeermarkReviewsLaunch.prototype = Object.create(Modal.prototype);\n        ModalPeermarkReviewsLaunch.prototype.constructor = ModalPeermarkReviewsLaunch;\n\n        /**\n         * Set up all of the event handling for the modal.\n         *\n         * @method registerEventListeners\n         */\n        ModalPeermarkReviewsLaunch.prototype.registerEventListeners = function() {\n            // Apply parent event listeners.\n            Modal.prototype.registerEventListeners.call(this);\n\n            // On cancel, then hide the modal.\n            this.getModal().on(CustomEvents.events.activate, SELECTORS.HIDE_BUTTON, function(e, data) {\n                var cancelEvent = $.Event(ModalEvents.cancel);\n                this.getRoot().trigger(cancelEvent, this);\n\n                if (!cancelEvent.isDefaultPrevented()) {\n                    this.hide();\n                    data.originalEvent.preventDefault();\n                }\n            }.bind(this));\n        };\n\n        // Automatically register with the modal registry the first time this module is imported so that\n        // you can create modals of this type using the modal factory.\n        if (!registered) {\n            ModalRegistry.register(ModalPeermarkReviewsLaunch.TYPE,\n                ModalPeermarkReviewsLaunch,\n                'plagiarism_turnitin/modal_peermark_reviews_launch');\n            registered = true;\n        }\n\n        return ModalPeermarkReviewsLaunch;\n    }\n);"],"file":"modal_peermark_reviews_launch.min.js"}