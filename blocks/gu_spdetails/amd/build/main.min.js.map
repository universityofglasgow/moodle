{"version":3,"sources":["../src/main.js"],"names":["define","Ajax","onClickListeners","event","currentTab","document","getElementById","pastTab","sortByCourse","sortByDate","sortByStartDate","sortByEndDate","target","activetab","page","sortby","sortorder","classList","add","remove","loadAssessments","contains","getAttribute","setAttribute","onChangeListeners","currentSelectSort","pastSelectSort","value","subcategory","assessmentContainer","subcategoryContainer","blockContainer","tabContent","promise","call","methodname","args","done","response","innerHTML","result","subCategories","querySelectorAll","onClickSubcategory","onClickPageLink","sortingStatus","fail","errorContainer","createElement","hasOwnProperty","errorMsg","message","appendChild","errorLinkContainer","errorLink","moreinfourl","prepend","showSubcategoryDetails","object","id","subname","course","grade","weight","addEventListener","pageLinks","forEach","item","url","URL","params","URLSearchParams","search","get","preventDefault","removeAttribute","rows","length","element","init","ASSESSMENTS","querySelector"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to initialise the Student Dashboard - Assessments Details block\n * \n * @package    block_gu_spdetails\n * @copyright  2021 Accenture\n * @author     Franco Louie Magpusao <franco.l.magpusao@accenture.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['core/ajax'], function(Ajax) {\n    const onClickListeners = (event) => {\n        var currentTab = document.getElementById('current_tab');\n        var pastTab = document.getElementById('past_tab');\n\n        var sortByCourse = document.getElementById('sortby_course');\n        var sortByDate = document.getElementById('sortby_date');\n        var sortByStartDate = document.getElementById('sortby_startdate');\n        var sortByEndDate = document.getElementById('sortby_enddate');\n\n        switch(event.target) {\n            case currentTab:\n                var activetab = 'current';\n                var page = 0;\n                var sortby = 'coursetitle';\n                var sortorder = 'asc';\n\n                currentTab.classList.add('active');\n                pastTab.classList.remove('active');\n\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case pastTab:\n                var activetab = 'past';\n                var page = 0;\n                var sortby = 'coursetitle';\n                var sortorder = 'asc';\n\n                currentTab.classList.remove('active');\n                pastTab.classList.add('active');\n\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case sortByCourse:\n                if(currentTab.classList.contains('active')) {\n                    var activetab = 'current';\n                }else{\n                    var activetab = 'past';\n                }\n\n                var page = 0;\n                var sortby = 'coursetitle';\n                if(sortByCourse.getAttribute('data-value') == 'asc') {\n                    sortorder = 'desc';\n                    sortByCourse.setAttribute('data-value', 'desc');\n                    sortByCourse.classList.add('th-sort-desc');\n                    sortByCourse.classList.remove('th-sort-asc');\n                }else{\n                    sortorder = 'asc';\n                    sortByCourse.setAttribute('data-value', 'asc');\n                    sortByCourse.classList.add('th-sort-asc');\n                    sortByCourse.classList.remove('th-sort-desc');\n                }\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case sortByDate:\n                var activetab = 'current';\n                var page = 0;\n                var sortby = 'duedate';\n                if(sortByDate.getAttribute('data-value') == 'asc') {\n                    sortorder = 'desc';\n                    sortByDate.setAttribute('data-value', 'desc');\n                    sortByDate.classList.add('th-sort-desc');\n                    sortByDate.classList.remove('th-sort-asc');\n                }else{\n                    sortorder = 'asc';\n                    sortByDate.setAttribute('data-value', 'asc');\n                    sortByDate.classList.add('th-sort-asc');\n                    sortByDate.classList.remove('th-sort-desc');\n                }\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case sortByStartDate:\n                var activetab = 'past';\n                var page = 0;\n                var sortby = 'startdate';\n                if(sortByStartDate.getAttribute('data-value') == 'asc') {\n                    sortorder = 'desc';\n                    sortByStartDate.setAttribute('data-value', 'desc');\n                    sortByStartDate.classList.add('th-sort-desc');\n                    sortByStartDate.classList.remove('th-sort-asc');\n                }else{\n                    sortorder = 'asc';\n                    sortByStartDate.setAttribute('data-value', 'asc');\n                    sortByStartDate.classList.add('th-sort-asc');\n                    sortByStartDate.classList.remove('th-sort-desc');\n                }\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case sortByEndDate:\n                var activetab = 'past';\n                var page = 0;\n                var sortby = 'enddate';\n                if(sortByEndDate.getAttribute('data-value') == 'asc') {\n                    sortorder = 'desc';\n                    sortByEndDate.setAttribute('data-value', 'desc');\n                    sortByEndDate.classList.add('th-sort-desc');\n                    sortByEndDate.classList.remove('th-sort-asc');\n                }else{\n                    sortorder = 'asc';\n                    sortByEndDate.setAttribute('data-value', 'asc');\n                    sortByEndDate.classList.add('th-sort-asc');\n                    sortByEndDate.classList.remove('th-sort-desc');\n                }\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const onChangeListeners = (event) => {\n        var currentSelectSort = document.getElementById('menu_current_assessments_sortby');\n        var pastSelectSort = document.getElementById('menu_past_assessments_sortby');\n        var sortByCourse = document.getElementById('sortby_course');\n        var sortByDate = document.getElementById('sortby_date');\n        var sortByStartDate = document.getElementById('sortby_startdate');\n        var sortByEndDate = document.getElementById('sortby_enddate');\n\n        switch(event.target) {\n            case currentSelectSort:\n                var activetab = 'current';\n                var page = 0;\n                var sortby = currentSelectSort.value;\n                var sortorder = 'asc';\n\n                if(currentSelectSort.value === 'coursetitle') {\n                    sortByCourse.classList.add('th-sort-asc');\n                    sortByCourse.classList.remove('th-sort-desc');\n                    sortByCourse.setAttribute('data-value', 'asc');\n                }else{\n                    sortByDate.classList.add('th-sort-asc');\n                    sortByDate.classList.remove('th-sort-desc');\n                    sortByDate.setAttribute('data-value', 'asc');\n                }\n\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            case pastSelectSort:\n                var activetab = 'past';\n                var page = 0;\n                var sortby = pastSelectSort.value;\n                var sortorder = 'asc';\n\n                if(pastSelectSort.value === 'coursetitle') {\n                    sortByCourse.classList.add('th-sort-asc');\n                    sortByCourse.classList.remove('th-sort-desc');\n                    sortByCourse.setAttribute('data-value', 'asc');\n                }else if(pastSelectSort.value === 'startdate') {\n                    sortByStartDate.classList.add('th-sort-asc');\n                    sortByStartDate.classList.remove('th-sort-desc');\n                    sortByStartDate.setAttribute('data-value', 'asc');\n                }else{\n                    sortByEndDate.classList.add('th-sort-asc');\n                    sortByEndDate.classList.remove('th-sort-desc');\n                    sortByEndDate.setAttribute('data-value', 'asc');\n                }\n\n                loadAssessments(activetab, page, sortby, sortorder);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const loadAssessments = (activetab, page, sortby, sortorder, subcategory = null) => {\n        var assessmentContainer = document.getElementById('assessments-container');\n        var subcategoryContainer = document.getElementById('subcategory-container');\n        var blockContainer = subcategory === null ? assessmentContainer : subcategoryContainer;\n        var tabContent = subcategory === null ? document.getElementById('assessments_details_contents') : document.getElementById('subcategory_details_contents');\n\n        if (subcategory === null) {\n            assessmentContainer.classList.remove('hidden-container');\n            subcategoryContainer.classList.add('hidden-container');\n        } else {\n            assessmentContainer.classList.add('hidden-container');\n            subcategoryContainer.classList.remove('hidden-container');\n        }\n\n        var promise = Ajax.call([{\n            methodname: 'block_gu_spdetails_retrieve_assessments',\n            args: {\n                activetab: activetab,\n                page: page,\n                sortby: sortby,\n                sortorder: sortorder,\n                subcategory: subcategory\n            },\n        }]);\n        promise[0].done(function(response) {\n            tabContent.innerHTML = response.result;\n            var subCategories = document.querySelectorAll('.subcategory-row');\n            onClickSubcategory(subCategories);\n            onClickPageLink();\n            sortingStatus(sortby, sortorder);\n        }).fail(function(response) {\n            if(response) {\n                var errorContainer = document.createElement('div');\n                errorContainer.classList.add('alert', 'alert-danger');\n\n                if(response.hasOwnProperty('message')) {\n                    var errorMsg = document.createElement('p');\n\n                    errorMsg.innerHTML = response.message;\n                    errorContainer.appendChild(errorMsg);\n                    errorMsg.classList.add('errormessage');\n                }\n\n                if(response.hasOwnProperty('moreinfourl')) {\n                    var errorLinkContainer = document.createElement('p');\n                    var errorLink = document.createElement('a');\n\n                    errorLink.setAttribute('href', response.moreinfourl);\n                    errorLink.setAttribute('target', '_blank');\n                    errorLink.innerHTML = 'More information about this error';\n                    errorContainer.appendChild(errorLinkContainer);\n                    errorLinkContainer.appendChild(errorLink);\n                    errorLinkContainer.classList.add('errorcode');\n                }\n\n                blockContainer.prepend(errorContainer);\n            }\n        });\n    }\n\n    const showSubcategoryDetails = (object) => {\n        id = object.getAttribute('data-id');\n        subname = object.getAttribute('data-name');\n        course = object.getAttribute('data-course');\n        grade = object.getAttribute('data-grade');\n        weight = object.getAttribute('data-weight');\n        \n        if(id !== null){\n            loadAssessments('current', 0, 'duedate', 'asc', id);\n            document.getElementById('subcategory-details-course').innerHTML = course;\n            document.getElementById('subcategory-details-weight').innerHTML = weight;\n            document.getElementById('subcategory-details-grade').innerHTML = grade;\n            document.getElementById('subcategory-details-name').innerHTML = subname;\n            document.getElementById('subcategory-return-assessment').addEventListener('click', () => {\n                document.getElementById('assessments-container').classList.remove('hidden-container');\n                document.getElementById('subcategory-container').classList.add('hidden-container');\n                document.getElementById('subcategory_details_contents').innerHTML = \"\";\n            });\n        }\n    }\n\n    const sortingStatus = (sortby, sortorder) => {\n        var sortByCourse = document.getElementById('sortby_course');\n        var sortByDate = document.getElementById('sortby_date');\n        var sortByStartDate = document.getElementById('sortby_startdate');\n        var sortByEndDate = document.getElementById('sortby_enddate');\n\n        switch(sortby) {\n            case 'coursetitle':\n                if(sortByCourse) {\n                    if(sortorder === 'asc') {\n                        sortByCourse.classList.add('th-sort-asc');\n                        sortByCourse.classList.remove('th-sort-desc');\n                        sortByCourse.setAttribute('data-value', 'asc');\n                    }else{\n                        sortByCourse.classList.add('th-sort-desc');\n                        sortByCourse.classList.remove('th-sort-asc');\n                        sortByCourse.setAttribute('data-value', 'desc');\n                    }\n                }\n                break;\n            case 'duedate':\n                if(sortByDate) {\n                    if(sortorder === 'asc') {\n                        sortByDate.classList.add('th-sort-asc');\n                        sortByDate.classList.remove('th-sort-desc');\n                        sortByDate.setAttribute('data-value', 'asc');\n                    }else{\n                        sortByDate.classList.add('th-sort-desc');\n                        sortByDate.classList.remove('th-sort-asc');\n                        sortByDate.setAttribute('data-value', 'desc');\n                    }\n                }\n                break;\n            case 'startdate':\n                if(sortByStartDate) {\n                    if(sortorder === 'asc') {\n                        sortByStartDate.classList.add('th-sort-asc');\n                        sortByStartDate.classList.remove('th-sort-desc');\n                        sortByStartDate.setAttribute('data-value', 'asc');\n                    }else{\n                        sortByStartDate.classList.add('th-sort-desc');\n                        sortByStartDate.classList.remove('th-sort-asc');\n                        sortByStartDate.setAttribute('data-value', 'desc');\n                    }\n                }\n                break;\n            case 'enddate':\n                if(sortByEndDate) {\n                    if(sortorder === 'asc') {\n                        sortByEndDate.classList.add('th-sort-asc');\n                        sortByEndDate.classList.remove('th-sort-desc');\n                        sortByEndDate.setAttribute('data-value', 'asc');\n                    }else{\n                        sortByEndDate.classList.add('th-sort-desc');\n                        sortByEndDate.classList.remove('th-sort-asc');\n                        sortByEndDate.setAttribute('data-value', 'desc');\n                    }\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    const onClickPageLink = () => {\n        var pageLinks = document.querySelectorAll('#assessments_details_contents .page-item a.page-link');\n\n        pageLinks.forEach(item => {\n            if(item.getAttribute('href') !== '#') {\n                var url = new URL(item.getAttribute('href'));\n                var params = new URLSearchParams(url.search);\n                var activetab = params.get('activetab');\n                var page = params.get('page');\n                var sortby = params.get('sortby');\n                var sortorder = params.get('sortorder');\n                item.addEventListener('click', event => {\n                    event.preventDefault();\n                    loadAssessments(activetab, page, sortby, sortorder);\n                });\n            }else{\n                item.removeAttribute('href');\n            }\n        });\n    }\n\n    const onClickSubcategory = (rows) => {\n        if(rows.length > 0){\n            rows.forEach( (element) => {\n                element.addEventListener('click', () => showSubcategoryDetails(element));\n            })\n        }\n    }\n\n    return {\n        init: function() {\n            const ASSESSMENTS = document.querySelector('.assessments-details-container');\n            if(ASSESSMENTS) {\n                var currentTab = document.getElementById('current_tab');\n                var pastTab = document.getElementById('past_tab');\n                var activetab = 'current';\n                var page = 0;\n                var sortby = 'coursetitle';\n                var sortorder = 'asc';\n\n                currentTab.classList.add('active');\n                pastTab.classList.remove('active');\n\n                loadAssessments(activetab, page, sortby, sortorder);\n                ASSESSMENTS.addEventListener('change', onChangeListeners);\n                ASSESSMENTS.addEventListener('click', onClickListeners);\n            }\n        }\n    };\n});\n"],"file":"main.min.js"}