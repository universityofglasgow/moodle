/**
 * Notification popup queue.
 *
 * @copyright  2022 Frédéric Massart
 * @author     Frédéric Massart <fred@branchup.tech>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["block_xp/popup-notification"],(function(PopupNotification){let instances=[],isShowing=!1;function notifyNewInstance(){isShowing||showNextInstance()}function showNextInstance(){if(!instances.length)return;const instance=instances.splice(0,1)[0];PopupNotification.show(instance,{onShown:()=>{},onDismissed:()=>{isShowing=!1,setTimeout((()=>showNextInstance()),500)}})}function queue(additionalInstances){instances=instances.concat(additionalInstances),notifyNewInstance()}return{queue:queue,queueFromJson:selector=>{try{const node=document.querySelector(selector),data=node?JSON.parse(node.textContent):null;if(!Array.isArray(data))throw new Error("That's a bit strange.");queue(data)}catch(err){}}}}));

//# sourceMappingURL=popup-notification-queue.min.js.map