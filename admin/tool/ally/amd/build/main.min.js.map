{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Action selector.\n *\n * Ally admin tool log view.\n *\n * @package    tool_ally\n * @copyright  Code based on admin/tool/behatdump (c) Guy Thomas 2018\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\n(function() {\n    var pluginJSURL = function(path) {\n        return M.cfg.wwwroot + \"/pluginfile.php/\" + M.cfg.contextid + \"/tool_ally/\" + path;\n    };\n\n    require.config({\n        enforceDefine: false,\n        paths: {\n            // Vendor code.\n            \"tool_ally/vue_2_5_16\": [\n                \"https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.min\",\n                // CDN Fallback - whoop whoop!\n                pluginJSURL(\"vendorjs/vue\")\n            ],\n            \"tool_ally/vuerouter_2_5_3\": [\n                \"https://cdn.jsdelivr.net/npm/vue-router@2.5.3/dist/vue-router.min\",\n                // CDN Fallback - whoop whoop!\n                pluginJSURL(\"vendorjs/vuerouter\")\n            ],\n\n            // Note, vuedatable is not via a CDN because it has been customised (made more accessible).\n            \"tool_ally/vuedatatable\": pluginJSURL(\"vendorjs/vuedatatable\"),\n\n            // Vue components\n            \"tool_ally/vuecomp\": [\n                pluginJSURL('vue/comps')\n            ],\n        }\n    });\n})();\n\n\ndefine(['jquery', 'tool_ally/vue_2_5_16', 'tool_ally/vuerouter_2_5_3',\n    'tool_ally/vuedatatable'], function($, Vue, VueRouter, VueDataTable) {\n\n    Vue.use(VueRouter);\n    // Note: .default is necessary when you are using require as opposed to import (require is AMD method to load modules).\n    Vue.use(VueDataTable.default);\n\n    return {\n        vue: null,\n\n        getBootstrapVersion: function() {\n            var version = 2; // Default is to assume 2.\n            if (window.$ && window.$.fn && window.$.fn.tooltip && window.$.fn.tooltip.Constructor) {\n                version = window.$.fn.tooltip.Constructor.VERSION;\n                if (version === undefined) {\n                    version = 2; // Assume BS 2.\n                }\n            }\n            version = parseInt(version);\n            return version;\n        },\n\n        applyBootstrapClass: function() {\n            $('body').addClass('bs-major-version-' + this.getBootstrapVersion());\n        },\n\n        init: function(vueOpts) {\n\n            this.applyBootstrapClass();\n\n            var dfd = $.Deferred();\n\n            // It seemed neccessary to load this once the document was ready otherwise we occasionally get a blank page.\n            $(document).ready(function() {\n                // Default opts. No spread operator in ES5 :-(\n                var opts = {\n                    el: '#app',\n                    router: null\n                };\n                for (var property in vueOpts) {\n                    if (vueOpts.hasOwnProperty(property)) {\n                        opts[property] = vueOpts[property];\n                    }\n                }\n                if (opts.routes) {\n                    opts.router = new VueRouter({\n                        routes: opts.routes\n                    });\n                }\n\n                // Register global components.\n                if (opts.globalComponents) {\n                    for (var compKey in opts.globalComponents) {\n                        if (opts.globalComponents.hasOwnProperty(compKey)) {\n                            var component = opts.globalComponents[compKey];\n                            Vue.component(compKey, component);\n                        }\n                    }\n                }\n\n                this.vue = new Vue(opts).$mount('#app');\n\n                dfd.resolve(this.vue);\n            });\n\n            return dfd;\n        }\n    };\n\n});"],"names":["pluginJSURL","path","M","cfg","wwwroot","contextid","require","config","enforceDefine","paths","define","$","Vue","VueRouter","VueDataTable","use","default","vue","getBootstrapVersion","version","window","fn","tooltip","Constructor","undefined","VERSION","parseInt","applyBootstrapClass","addClass","this","init","vueOpts","dfd","Deferred","document","ready","opts","el","router","property","hasOwnProperty","routes","globalComponents","compKey","component","$mount","resolve"],"mappings":";;;;;;;;;AA0BA,IACQA,YAAAA,YAAc,SAASC,aAChBC,EAAEC,IAAIC,QAAU,mBAAqBF,EAAEC,IAAIE,UAAY,cAAgBJ,MAGlFK,QAAQC,OAAO,CACXC,eAAe,EACfC,MAAO,wBAEqB,CACpB,uDAEAT,YAAY,6CAEa,CACzB,oEAEAA,YAAY,gDAIUA,YAAY,6CAGjB,CACjBA,YAAY,iBAO5BU,wBAAO,CAAC,SAAU,uBAAwB,4BACtC,2BAA2B,SAASC,EAAGC,IAAKC,UAAWC,qBAEvDF,IAAIG,IAAIF,WAERD,IAAIG,IAAID,aAAaE,SAEd,CACHC,IAAK,KAELC,oBAAqB,eACbC,QAAU,SACVC,OAAOT,GAAKS,OAAOT,EAAEU,IAAMD,OAAOT,EAAEU,GAAGC,SAAWF,OAAOT,EAAEU,GAAGC,QAAQC,kBAEtDC,KADhBL,QAAUC,OAAOT,EAAEU,GAAGC,QAAQC,YAAYE,WAEtCN,QAAU,GAGlBA,QAAUO,SAASP,UAIvBQ,oBAAqB,WACjBhB,EAAE,QAAQiB,SAAS,oBAAsBC,KAAKX,wBAGlDY,KAAM,SAASC,cAENJ,0BAEDK,IAAMrB,EAAEsB,kBAGZtB,EAAEuB,UAAUC,OAAM,eAEVC,KAAO,CACPC,GAAI,OACJC,OAAQ,UAEP,IAAIC,YAAYR,QACbA,QAAQS,eAAeD,YACvBH,KAAKG,UAAYR,QAAQQ,cAG7BH,KAAKK,SACLL,KAAKE,OAAS,IAAIzB,UAAU,CACxB4B,OAAQL,KAAKK,UAKjBL,KAAKM,qBACA,IAAIC,WAAWP,KAAKM,oBACjBN,KAAKM,iBAAiBF,eAAeG,SAAU,KAC3CC,UAAYR,KAAKM,iBAAiBC,SACtC/B,IAAIgC,UAAUD,QAASC,gBAK9B3B,IAAM,IAAIL,IAAIwB,MAAMS,OAAO,QAEhCb,IAAIc,QAAQjB,KAAKZ,QAGde"}